---
title: "Overview"
---

## High-level description
The `packages/connect-widget/src` directory contains the source code for a React-based connect widget application. This widget is designed to facilitate the connection of health data providers, handle user agreements, and manage the overall flow of the connection process. The directory includes components for the main application structure, routing, theming, and specific pages for connection, success, and error states.

## What does it do?
The connect widget application performs the following main functions:

1. Provides a user interface for connecting to health data providers
2. Manages user agreements and privacy policies
3. Handles the authentication and connection process with various providers
4. Displays success and error messages based on the connection outcome
5. Integrates with analytics for tracking user interactions
6. Implements error tracking and monitoring using Sentry
7. Offers a responsive design that adapts to different screen sizes
8. Provides utility functions for managing environment variables, local storage, and API communication

## Entry points
The main entry points for the application are:

1. `index.tsx`: The application's entry point that sets up React rendering, Sentry initialization, and web vitals reporting.
2. `App.tsx`: The root component that defines the overall structure and routing of the application.
3. `pages/connect/index.tsx`: The main page for the connection process, which orchestrates the user flow for connecting to health data providers.

## Key Files
1. `App.tsx`: Defines the main application structure and routing using React Router.
2. `Theme.tsx`: Configures the custom theme for the application using Chakra UI.
3. `pages/connect/index.tsx`: Contains the `ConnectPage` component, which manages the connection process.
4. `pages/error/index.tsx`: Displays error messages when issues occur during the connection process.
5. `pages/success/index.tsx`: Shows a success message after a successful connection.
6. `shared/api.ts`: Sets up the API client for communication with the backend.
7. `shared/analytics.ts`: Implements analytics tracking using PostHog.
8. `shared/components/WidgetContainer.tsx`: Provides a reusable container component for the widget's content.

## Dependencies
The application relies on several external libraries and frameworks:

1. React (^18.2.0): Core library for building the user interface
2. React Router (^6.8.1): Handles routing and navigation
3. Chakra UI (^2.5.1): Provides UI components and theming capabilities
4. Sentry React (^7.40.0): For error tracking and monitoring
5. PostHog (^2.4.0): Used for analytics tracking
6. Axios (^1.3.4): Handles API communication
7. web-vitals (^2.1.4): Reports performance metrics

## Configuration
The application uses various configuration options and environment variables:

1. Sentry DSN and release information for error tracking
2. API URLs for different environments (local, sandbox, production)
3. PostHog API key and host for analytics
4. Various URL parameters for customizing widget behavior (e.g., token, sandbox mode, color mode)
5. Theme configurations for light and dark modes

These configurations are managed through environment variables, the Constants class in `shared/constants.ts`, and theme settings in `Theme.tsx`.

The connect widget application provides a comprehensive solution for connecting health data providers, with a focus on user experience, error handling, and analytics tracking. Its modular structure and shared utilities allow for easy maintenance and potential expansion to support additional features or use cases in the future.