---
title: "reportWebVitals.ts"
---

## High-level description
This code defines a function `reportWebVitals` that dynamically imports and initializes web vitals metrics reporting. It's designed to measure and report key performance metrics of a web application, such as Cumulative Layout Shift (CLS), First Input Delay (FID), and others.

## Symbols

### reportWebVitals
#### Description
The `reportWebVitals` function is responsible for loading the web-vitals library and reporting various performance metrics. It uses dynamic import to load the library only when needed, which can help with initial load performance.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| onPerfEntry | ReportHandler (optional) | A callback function to handle the reported metrics |

#### Internal Logic
1. The function first checks if `onPerfEntry` is provided and is a function.
2. If the condition is met, it dynamically imports the `web-vitals` library.
3. Once the library is loaded, it destructures and calls five specific metric functions: `getCLS`, `getFID`, `getFCP`, `getLCP`, and `getTTFB`.
4. Each of these functions is called with `onPerfEntry` as an argument, which will report the respective metric.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| web-vitals | Provides functions to measure and report Web Vitals metrics |

## References
The `reportWebVitals` function is imported and used in the `index.tsx` file of the application. In the provided related code snippet, we can see:

```typescript
import reportWebVitals from "./reportWebVitals";

// ... (other code)

reportWebVitals();
```

This shows that the `reportWebVitals` function is called without arguments in the main entry point of the application. This means that while the function is set up to accept a custom reporting callback, in this case, it's being used with default behavior (which typically logs to the console in development mode).

## Performance Considerations
The use of dynamic import for the `web-vitals` library is a performance optimization. It ensures that the library is only loaded when the `reportWebVitals` function is actually called and when a valid callback is provided. This can help reduce the initial bundle size and improve the application's load time, especially if web vitals reporting is not always needed.