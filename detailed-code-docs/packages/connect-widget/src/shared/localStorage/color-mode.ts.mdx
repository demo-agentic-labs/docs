---
title: "color-mode.ts"
---

## High-level description
This code defines a function `storeColorMode` that stores a color mode value in the browser's local storage. It's designed to work with Chakra UI's color mode system, allowing the application to persist the user's preferred color scheme across sessions.

## Symbols

### `storeColorMode`
#### Description
This function takes a color mode as input and stores it in the browser's local storage using a specific key. It's designed to work with Chakra UI's color mode system.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| colorMode | string \| null | The color mode to be stored. Can be a string value or null. |

#### Outputs
This function doesn't return any value.

#### Internal Logic
1. The function first checks if both `colorMode` and `localStorage` are truthy (not null, undefined, or false).
2. If both conditions are met, it uses `localStorage.setItem()` to store the `colorMode` value with the key "chakra-ui-color-mode".

## Side Effects
This function modifies the browser's local storage by setting an item with the key "chakra-ui-color-mode".

## Dependencies
This code relies on the browser's `localStorage` API, which is a standard Web API available in modern browsers.

## References
The `storeColorMode` function is imported and used in the `ConnectPage` component in the file `packages/connect-widget/src/pages/connect/index.tsx`. It's called within a `useEffect` hook, passing the `colorMode` value obtained from URL search parameters.

## Performance Considerations
Using `localStorage` is generally fast, but it's synchronous and can potentially block the main thread if used excessively. However, for storing a single value like this, performance impact should be minimal.

## Error Handling
The function doesn't implement explicit error handling. It silently fails if `localStorage` is not available or if there's an error setting the item. In production code, it might be beneficial to add error handling or checking for `localStorage` support.

## TODOs
There are no explicit TODOs in this code.