---
title: "redirect-url.ts"
---

## High-level description
This code provides utility functions for storing redirect URLs in the browser's local storage. It includes two functions: one for storing a success redirect URL and another for storing a failure redirect URL.

## Symbols

### `storeRedirectUrl`
#### Description
This function stores a success redirect URL in the browser's local storage.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| url | string \| null | The URL to be stored as the success redirect URL |

#### Internal Logic
1. Checks if the `url` parameter is not null and if `localStorage` is available.
2. If both conditions are met, it stores the decoded URL in localStorage using the key `Constants.SUCCESS_REDIRECT_URL_PARAM`.

### `storeFailRedirectUrl`
#### Description
This function stores a failure redirect URL in the browser's local storage.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| url | string \| null | The URL to be stored as the failure redirect URL |

#### Internal Logic
1. Checks if the `url` parameter is not null and if `localStorage` is available.
2. If both conditions are met, it stores the decoded URL in localStorage using the key `Constants.FAILURE_REDIRECT_URL_PARAM`.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| Constants | Provides constant values for localStorage keys |

## References
The code references the following constants from the `Constants` class:
- `SUCCESS_REDIRECT_URL_PARAM`
- `FAILURE_REDIRECT_URL_PARAM`

These constants are defined in the related file `packages/connect-widget/src/shared/constants.ts`.

## Side Effects
Both functions interact with the browser's localStorage, which is a side effect. They store data that persists beyond the current session and can be accessed by other parts of the application.

## Error Handling
The code implicitly handles potential errors by checking for the existence of the `url` parameter and the availability of `localStorage` before attempting to store data. This prevents errors that might occur if these conditions are not met.

## Performance Considerations
The use of `localStorage` is generally fast for small amounts of data. However, it's worth noting that `localStorage` operations are synchronous and can potentially block the main thread if used extensively.