---
title: "jest.config.ts"
---

## High-level description
This file configures Jest for testing the CommonWell SDK. It sets up different configurations for end-to-end (E2E) tests and regular unit tests, specifying the test environment, file patterns, and setup files.

## Symbols

### `config`
#### Description
This constant defines the Jest configuration options for the CommonWell SDK tests.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| isE2E | boolean | Determines whether to run E2E tests or regular tests |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| config | Config.InitialOptions | Jest configuration object |

#### Internal Logic
1. Sets the test preset to "ts-jest" for TypeScript support.
2. Configures the test environment as "node".
3. Enables verbose output.
4. Ignores tests in "/node_modules/" and "/dist/" directories.
5. Sets test match patterns based on whether E2E tests are being run.
6. Specifies a setup file to be executed after the test environment is set up.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| @jest/types | Provides TypeScript types for Jest configuration |

### Configuration
| Option | Type | Default | Description |
|:-------|:-----|:--------|:------------|
| ENV_TYPE | string | "dev" | Sets the environment type for testing |

## Side Effects
The code sets the `ENV_TYPE` environment variable to "dev" before defining the Jest configuration.

## Notes
1. The configuration uses TypeScript for both the config file and the tests.
2. E2E tests are triggered when the `E2E` environment variable is set to "true".
3. Regular tests match files ending with `.spec.ts`, `.test.ts`, `.spec.tsx`, or `.test.tsx`.
4. E2E tests match files ending with `.spec.e2e.ts`, `.test.e2e.ts`, `.spec.e2e.tsx`, or `.test.e2e.tsx`.
5. A setup file located at `./src/__tests__/env-setup.ts` is executed after the test environment is set up.

This configuration allows for flexible testing setups, distinguishing between E2E and regular tests while providing a consistent environment for all tests.