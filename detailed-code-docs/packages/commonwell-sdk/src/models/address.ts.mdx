---
title: "address.ts"
---

## High-level description
This code defines the structure and validation rules for an Address object using the Zod library. It includes an enumeration for address use codes and a schema for the Address object with various optional and required fields.

## Code Structure
The code defines two main symbols:
1. `AddressUseCodes`: An enumeration of address use codes.
2. `addressSchema`: A Zod schema defining the structure and validation rules for an Address object.

The `Address` type is inferred from the `addressSchema`.

## Symbols

### `AddressUseCodes`
#### Description
An enumeration of address use codes based on the HL7 FHIR address-use value set.

#### Internal Logic
Defines five possible values for address use: home, work, temp, old, and unspecified.

### `addressUseCodesSchema`
#### Description
A Zod schema for validating address use codes.

#### Internal Logic
Uses `z.enum()` to create a schema that only allows values from the `AddressUseCodes` enumeration.

### `addressSchema`
#### Description
A Zod schema defining the structure and validation rules for an Address object.

#### Internal Logic
Defines the following fields for an Address:
- `use`: Optional, nullable, must be one of the `AddressUseCodes` values.
- `line`: Optional, nullable array of strings.
- `city`: Optional, nullable string.
- `state`: Optional, nullable string.
- `zip`: Required string.
- `country`: Optional, nullable string.
- `period`: Optional, nullable, uses the `periodSchema` (imported from "./period").

### `Address`
#### Description
A TypeScript type inferred from the `addressSchema`.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| z (from "zod") | Used for creating and composing schemas |
| periodSchema (from "./period") | Used in the `addressSchema` for the `period` field |

## References
This code references the CommonWell Alliance specification for postal addresses:
https://specification.commonwellalliance.org/services/rest-api-reference (8.4.3 Address)

It also references the HL7 FHIR address-use value set:
http://hl7.org/fhir/address-use