---
title: "person.ts"
---

## High-level description
This code defines the structure and functionality for handling person-related data in the CommonWell Health Alliance system. It includes schemas for person details, enrollment summaries, and patient links, as well as utility functions for working with this data.

## Code Structure
The main symbols in this code are the Zod schemas that define the structure of various person-related objects. These schemas are used to validate and type-check data. The code also includes utility functions for working with person data, such as checking enrollment status and extracting person IDs.

## Symbols

### `personLinksSchema`
#### Description
Defines the structure for links associated with a person in the CommonWell system.

#### Internal Logic
Uses Zod to define an object schema with various optional link properties.

### `personSchema`
#### Description
Defines the structure of a Person resource in the CommonWell system.

#### Internal Logic
Uses Zod to define an object schema with properties for enrollment status, enrollment summary, demographics, and links.

### `Person`
#### Description
A type alias for the inferred type of `personSchema`.

### `isEnrolled` and `isUnenrolled`
#### Description
Utility functions to check the enrollment status of a person.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| person | Person | The person object to check |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| (return value) | boolean | Whether the person is enrolled or unenrolled |

### `personSearchRespSchema`
#### Description
Defines the structure of a person search response.

### `PersonSearchResp`
#### Description
A type alias for the inferred type of `personSearchRespSchema`.

### `patientLinkSchema`
#### Description
Defines the structure of a PatientLink, representing a confirmed relationship to a Patient Record.

### `PatientLink`
#### Description
A type alias for the inferred type of `patientLinkSchema`.

### `patientLinkSearchRespSchema`
#### Description
Defines the structure of a patient link search response.

### `PatientLinkSearchResp`
#### Description
A type alias for the inferred type of `patientLinkSearchRespSchema`.

## Dependencies
The code relies on the following external libraries:
| Dependency | Purpose |
|:-----------|:--------|
| zod | Used for schema definition and validation |

The code also imports from local modules:
- `./demographics`
- `./enrollment-summary`
- `./link`

## Error Handling
This code primarily uses Zod for data validation, which will throw errors if the data doesn't match the defined schemas.

## API/Interface Reference
This module primarily exports type definitions and schemas. The main interfaces are:
- `Person`
- `PatientLink`
- `PersonSearchResp`
- `PatientLinkSearchResp`

These can be used for type checking and data validation in other parts of the application that work with CommonWell person data.