---
title: "link.ts"
---

## High-level description
This code defines the structure and functionality related to patient links in the CommonWell Health Alliance system. It includes schemas for network links, patient links, and related data structures, as well as utility functions for working with these links.

## Code Structure
The main symbols in this code are:
1. `LOLA` enum: Defines the Level of Assurance (LOLA) levels.
2. `linkSchema`: Defines the structure of a hyperlink.
3. `networkLinkSchema`: Defines the structure of a network link.
4. `patientNetworkLinkSchema`: Defines the structure of a patient network link.
5. Utility functions: `isLOLA1`, `isLOLA2`, `isLOLA3`, `isLOLA4` for checking LOLA levels.

## Symbols

### `LOLA` (enum)
#### Description
Defines the Level of Assurance (LOLA) levels used in the CommonWell system.

#### Internal Logic
Contains five levels: 0, 1, 2, 3, and 4.

### `isLOLA1`, `isLOLA2`, `isLOLA3`, `isLOLA4` (functions)
#### Description
Utility functions to check if a given network link has a specific LOLA level.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| link | NetworkLink | The network link to check |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| result | boolean | True if the link matches the specific LOLA level, false otherwise |

### `linkSchema` (Zod schema)
#### Description
Defines the structure of a hyperlink object.

#### Internal Logic
Contains optional fields for `href`, `templated`, and `type`.

### `patientNetworkLinkSchema` (Zod schema)
#### Description
Defines the structure of a patient network link.

#### Internal Logic
Contains fields for `details`, `provider`, and `identifier`.

### `networkLinkSchema` (Zod schema)
#### Description
Defines the structure of a network link.

#### Internal Logic
Contains fields for `_links`, `assuranceLevel`, and `patient`.

### `patientLinkProxySchema` (Zod schema)
#### Description
Defines the structure of a patient link proxy.

#### Internal Logic
Contains optional fields for `relationship` and `name`.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| zod | Used for schema definition and validation |
| ./demographics | Imports `demographicsSchema` |
| ./identifier | Imports `identifierSchema` |
| ./patient-organization | Imports `patientOrganizationSchema` |

This code is part of a larger system for managing patient data and links in the CommonWell Health Alliance network. It provides the necessary data structures and utility functions for working with patient links, network links, and related concepts.