---
title: "iso-date.ts"
---

## High-level description
This code defines a regular expression for ISO date format and creates a Zod schema for validating ISO dates. It's a utility module for ensuring date strings conform to the ISO 8601 date format (YYYY-MM-DD).

## Symbols

### `ISO_DATE_REGEX`
#### Description
A regular expression constant that matches the ISO 8601 date format (YYYY-MM-DD).

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| ISO_DATE_REGEX | RegExp | A regular expression that matches strings in the format "YYYY-MM-DD" |

### `isoDateSchema`
#### Description
A Zod schema that validates strings to ensure they conform to the ISO date format using the `ISO_DATE_REGEX`.

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| isoDateSchema | z.ZodString | A Zod schema that validates strings against the ISO date format |

#### Internal Logic
The schema uses the `z.string()` method to create a string schema, then chains the `regex()` method to apply the `ISO_DATE_REGEX`. If the string doesn't match the regex, it will produce an error message "date must be a valid ISO date".

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| zod | Used for creating and defining the schema for ISO date validation |

## References
The `isoDateSchema` is used in other parts of the codebase:

1. In `demographics.ts`, it's used as part of the `demographicsSchema` to validate the `birthDate` field.
2. In `period.ts`, it's used in the `periodSchema` to validate both `start` and `end` fields.

These usages demonstrate that the `isoDateSchema` is a crucial utility for ensuring consistent date format validation across the CommonWell SDK.