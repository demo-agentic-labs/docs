---
title: "enrollment-summary.ts"
---

## High-level description
This code defines a Zod schema for an EnrollmentSummary, which represents a person's enrollment status in the CommonWell Health Alliance system. It also exports a TypeScript type derived from this schema. The schema is based on the CommonWell Alliance REST API specification.

## Symbols

### `enrollmentSummarySchema`
#### Description
This constant defines a Zod schema for the EnrollmentSummary object, which includes information about when a person was enrolled and unenrolled, and who performed these actions.

#### Internal Logic
The schema is defined with the following fields:
- `dateEnrolled`: A required field that can be either an ISO date-time or an ISO date.
- `enroller`: A required string field representing who enrolled the person.
- `dateUnenrolled`: An optional and nullable field that can be either an ISO date-time or an ISO date.
- `unenroller`: An optional and nullable string field representing who unenrolled the person.

### `EnrollmentSummary`
#### Description
This is a TypeScript type inferred from the `enrollmentSummarySchema`. It represents the structure of an enrollment summary object.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| zod | Used for schema definition and validation |
| ./iso-date | Imports the `isoDateSchema` for date validation |
| ./iso-datetime | Imports the `isoDateTimeSchema` for date-time validation |

## References
This module is referenced in:
1. `packages/commonwell-sdk/src/models/person.ts`: The `enrollmentSummarySchema` is used as part of the `personSchema`.
2. `packages/commonwell-sdk/src/index.ts`: The `EnrollmentSummary` type is exported, making it available for use in other parts of the application.

## Notes
1. The schema is based on the CommonWell Alliance REST API specification, specifically section 8.4.9 EnrollmentSummary.
2. The use of `zod` allows for runtime type checking and validation, which can be particularly useful when working with data from external sources or APIs.
3. The schema allows for flexibility in date formats, accepting both ISO date and ISO date-time formats for enrollment and unenrollment dates.
4. The unenrollment information (date and person) is optional, which makes sense as not all enrolled persons will necessarily be unenrolled.