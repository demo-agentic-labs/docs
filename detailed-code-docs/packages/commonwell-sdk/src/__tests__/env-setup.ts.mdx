---
title: "env-setup.ts"
---

## High-level description
This code sets up the environment for testing the CommonWell SDK by loading environment variables from a `.env` file. It ensures that the correct `.env` file is loaded regardless of the current working directory, accommodating both local development and package-specific scenarios.

## Symbols

### `dotenv.config()`
#### Description
Configures the dotenv library to load environment variables from a specified `.env` file.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| options | object | Configuration options for dotenv |
| options.path | string | The path to the `.env` file |

#### Internal Logic
1. Determines the current working directory using `process.cwd()`.
2. Constructs the path to the `.env` file based on the current working directory.
3. If the current directory includes "packages", it assumes it's already in the correct package directory.
4. If not, it adds "packages" and "commonwell-sdk" to the path.
5. Resolves the final path to the `.env` file using `path.resolve()`.
6. Calls `dotenv.config()` with the constructed path to load the environment variables.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| dotenv | To load environment variables from a `.env` file |
| path | To manipulate file and directory paths |

## Side Effects
- Loads environment variables from the specified `.env` file into `process.env`.

## Notes
The comment "Keep dotenv import and config before everything else" suggests that this file should be imported or executed before any other code that relies on environment variables, ensuring that the variables are properly loaded and available for use in the rest of the application or tests.