---
title: "commonwell-api.ts"
---

## High-level description
This file defines the `CommonWellAPI` interface, which represents the API for interacting with the CommonWell Health Alliance system. It includes methods for managing organizations, persons, patients, documents, and links within the CommonWell network.

## Code Structure
The `CommonWellAPI` interface contains numerous methods grouped by functionality:
- Organization management (e.g., `createOrg`, `updateOrg`, `getAllOrgs`)
- Certificate management (e.g., `addCertificateToOrg`, `getCertificatesFromOrg`)
- Person management (e.g., `enrollPerson`, `searchPerson`, `updatePerson`)
- Patient management (e.g., `registerPatient`, `searchPatient`, `updatePatient`)
- Document management (e.g., `queryDocuments`, `retrieveDocument`)
- Link management (e.g., `upgradeOrDowngradeNetworkLink`, `updatePatientLink`)

## Symbols

### `CommonWellAPI`
#### Description
An interface that defines the contract for interacting with the CommonWell Health Alliance API. It includes methods for various operations related to organizations, persons, patients, documents, and links.

#### Properties
| Name | Type | Description |
|:-----|:-----|:------------|
| lastReferenceHeader | string \| undefined | The last reference header received from the API |

#### Methods
The interface defines numerous methods for different operations. Here are a few examples:

##### `createOrg`
###### Description
Creates a new organization in the CommonWell system.

###### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| meta | RequestMetadata | Metadata about the request |
| organization | Organization | The organization to create |

###### Outputs
| Type | Description |
|:-----|:------------|
| Promise&lt;Organization&gt; | The created organization |

##### `enrollPerson`
###### Description
Enrolls a new person in the CommonWell system.

###### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| meta | RequestMetadata | Metadata about the request |
| person | Person | The person to enroll |

###### Outputs
| Type | Description |
|:-----|:------------|
| Promise&lt;Person&gt; | The enrolled person |

##### `queryDocuments`
###### Description
Queries documents for a patient.

###### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| meta | RequestMetadata | Metadata about the request |
| patientId | string | The patient's ID |

###### Outputs
| Type | Description |
|:-----|:------------|
| Promise&lt;DocumentQueryResponse&gt; | The query response containing document references |

## Dependencies
The interface relies on various imported types and models from other files in the project, such as `RequestMetadata`, `Organization`, `Patient`, `Person`, and others.

## Notes
- This interface serves as a comprehensive contract for interacting with the CommonWell Health Alliance API, covering a wide range of operations across different entities in the healthcare system.
- Implementations of this interface would need to handle the actual HTTP requests to the CommonWell API and manage authentication and error handling.
- The methods are asynchronous, returning Promises, which is appropriate for API interactions.