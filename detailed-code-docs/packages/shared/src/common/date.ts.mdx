---
title: "date.ts"
---

## High-level description
This file contains utility functions for working with dates and defining schemas for date-related data. It provides functions to validate ISO dates, create Zod schemas for optional and required dates, and calculate elapsed time from a given date.

## Symbols

### `ISO_DATE`
#### Description
A constant string representing the ISO date format "YYYY-MM-DD".

### `isValidISODate`
#### Description
A function that checks if a given string is a valid ISO date.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| date | string | The date string to validate |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| - | boolean | True if the date is a valid ISO date, false otherwise |

### `isValidISODateOptional`
#### Description
A function that checks if a given string, undefined, or null value is a valid ISO date or empty.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| date | string \| undefined \| null | The date value to validate |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| - | boolean | True if the date is a valid ISO date or empty, false otherwise |

### `optionalDateSchema`
#### Description
A Zod schema for an optional date string that must be a valid ISO date if provided.

### `dateSchema`
#### Description
A Zod schema for a required date string that must be a valid ISO date.

### `elapsedTimeFromNow`
#### Description
A function that calculates the elapsed time from a given date to now.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| date | Date \| undefined | The date to calculate elapsed time from |
| format | dayjs.UnitTypeLong | The unit of time to return the elapsed time in (default: "millisecond") |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| - | number | The elapsed time in the specified format |

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| dayjs | Used for date parsing and manipulation |
| zod | Used for creating and validating schemas |

## Error Handling
The `optionalDateSchema` and `dateSchema` use Zod's `refine` method to add custom validation, which will throw a Zod error if the date is invalid.

Your response should not exceed 3000 words or 4000 tokens. Focus on providing clear, concise information that can be directly inferred from the code. Include optional sections only when they provide significant value for understanding the code.