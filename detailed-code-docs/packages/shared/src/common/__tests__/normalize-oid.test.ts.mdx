---
title: "normalize-oid.test.ts"
---

## High-level description
This file contains unit tests for the `normalizeOid` function, which is responsible for validating and normalizing Object Identifiers (OIDs). The tests cover various scenarios including valid OIDs, invalid OIDs, OIDs with surrounding junk characters, and edge cases.

## Symbols

### `describe("normalizeOid", () =&gt; { ... })`
#### Description
This is the main test suite for the `normalizeOid` function. It groups together multiple test cases that verify the behavior of the function under different input conditions.

#### Internal Logic
The test suite contains several `it` blocks, each testing a specific aspect of the `normalizeOid` function's behavior.

### `it("should return the same oid if it is already valid", () =&gt; { ... })`
#### Description
This test case verifies that the `normalizeOid` function returns the input OID unchanged if it's already in a valid format.

#### Internal Logic
It tests three valid OIDs of different lengths:
1. A standard valid OID
2. A shorter valid OID
3. A longer valid OID

### `it("should return the oid without the junk surrounding it", () =&gt; { ... })`
#### Description
This test case checks if the `normalizeOid` function can correctly extract a valid OID from a string that contains additional characters.

#### Internal Logic
It tests two scenarios:
1. An OID with a prefix ("urn:oid:")
2. An OID with a trailing string

### `it("should throw an error if oid does not conform to the format", () =&gt; { ... })`
#### Description
This test case ensures that the `normalizeOid` function throws an error when given an invalid OID.

#### Internal Logic
It tests three invalid OID formats:
1. A completely invalid string
2. An OID with consecutive dots
3. A shorter invalid OID

### `it("should return the oid without leading and trailing junk", () =&gt; { ... })`
#### Description
This test case verifies that the `normalizeOid` function can extract a valid OID from a string with both leading and trailing junk characters.

### `it("should correctly handle OIDs with leading zeros", () =&gt; { ... })`
#### Description
This test case checks if the `normalizeOid` function preserves leading zeros in OID components.

### `it("should throw an error for empty string or only dots", () =&gt; { ... })`
#### Description
This test case ensures that the `normalizeOid` function throws an error for edge cases like an empty string or a string containing only dots.

### `it("should throw an error for leading dots", () =&gt; { ... })`
#### Description
This test case verifies that the `normalizeOid` function throws an error when given OIDs with leading dots.

### `it("should handle root code boundary conditions", () =&gt; { ... })`
#### Description
This test case checks if the `normalizeOid` function correctly handles OIDs at the boundary of valid root codes (0 and 2).

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| normalizeOid | The function being tested, imported from "../normalize-oid" |

## References
The test file references the `normalizeOid` function, which is likely defined in a file named `normalize-oid.ts` in the parent directory.