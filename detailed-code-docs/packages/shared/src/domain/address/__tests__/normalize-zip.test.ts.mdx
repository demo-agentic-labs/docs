---
title: "normalize-zip.test.ts"
---

## High-level description
This file contains unit tests for the `normalizeZipCode` function, which is responsible for normalizing zip codes. The tests cover various scenarios including different zip code lengths, handling of special characters, and error cases.

## Symbols

### `describe("normalizeZipCode", () =&gt; { ... })`
#### Description
This is the main test suite for the `normalizeZipCode` function. It groups together all the individual test cases related to zip code normalization.

### `test("should handle short zip codes", () =&gt; { ... })`
#### Description
This test case verifies that the `normalizeZipCode` function correctly handles short zip codes (less than 5 digits).

#### Internal Logic
- Arrange: Set up an input zip code of "1234"
- Act: Call `normalizeZipCode` with the input
- Assert: Expect the output to be the same as the input ("1234")

### `test("should return first 4 characters when zip code length is 9", () =&gt; { ... })`
#### Description
This test case checks if the function correctly handles 9-digit zip codes (ZIP+4 format).

#### Internal Logic
- Arrange: Set up an input zip code of "1234-6677"
- Act: Call `normalizeZipCode` with the input
- Assert: Expect the output to be the first 4 characters ("1234")

### `test("should return first 5 characters when zip code length is 10", () =&gt; { ... })`
#### Description
This test case verifies the function's behavior with 10-character zip codes (5-digit ZIP + 4-digit extension with hyphen).

#### Internal Logic
- Arrange: Set up an input zip code of "12345-6677"
- Act: Call `normalizeZipCode` with the input
- Assert: Expect the output to be the first 5 characters ("12345")

### `test("should return first 5 characters when zip code length is 5", () =&gt; { ... })`
#### Description
This test case checks if the function correctly handles standard 5-digit zip codes.

#### Internal Logic
- Arrange: Set up an input zip code of "54321"
- Act: Call `normalizeZipCode` with the input
- Assert: Expect the output to be the same as the input ("54321")

### `test("should throw an error if zip contains non-digit and non-dash characters (length 9)", () =&gt; { ... })`
#### Description
This test case verifies that the function throws an error when given a 9-character zip code containing invalid characters.

#### Internal Logic
- Arrange: Set up an input zip code of "12345-667a"
- Act & Assert: Expect the `normalizeZipCode` function to throw an error when called with the input

### `test("should throw an error if zip contains non-digit and non-dash characters (length 5)", () =&gt; { ... })`
#### Description
This test case checks if the function throws an error when given a 5-character zip code containing invalid characters.

#### Internal Logic
- Arrange: Set up an input zip code of "1234a"
- Act & Assert: Expect the `normalizeZipCode` function to throw an error when called with the input

### `test("should throw an error if zip is an empty string", () =&gt; { ... })`
#### Description
This test case verifies that the function throws an error when given an empty string as input.

#### Internal Logic
- Arrange: Set up an empty string as input
- Act & Assert: Expect the `normalizeZipCode` function to throw an error when called with the empty string

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| @jest/globals | Implied usage of Jest testing framework |
| "../zip" | Import of the `normalizeZipCode` function being tested |

## References
The tests reference the `normalizeZipCode` function, which is imported from the "../zip" module.