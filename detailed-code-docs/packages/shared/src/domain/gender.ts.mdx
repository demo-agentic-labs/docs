---
title: "gender.ts"
---

## High-level description
This code defines a TypeScript module that handles gender-related operations, including type definitions and functions for normalizing gender values. It provides utilities to safely convert various gender representations into standardized formats.

## Symbols

### `GenderAtBirth`
#### Description
A type alias representing the possible values for gender at birth.

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| GenderAtBirth | "F" \| "M" \| "O" \| "U" | Represents female, male, other, or unknown gender at birth |

### `normalizeGenderSafe`
#### Description
A function that safely normalizes a given gender string to a standardized format.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| gender | string | The gender string to be normalized |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| normalizedGender | "F" \| "M" \| "O" \| "U" \| undefined | The normalized gender value or undefined if not recognized |

#### Internal Logic
1. Converts the input to lowercase and trims whitespace.
2. Checks for various representations of male, female, other, and unknown genders.
3. Returns the corresponding standardized value or undefined if not recognized.

### `normalizeGender`
#### Description
A function that normalizes a given gender string and throws an error if the input is invalid.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| gender | string | The gender string to be normalized |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| normalizedGender | GenderAtBirth | The normalized gender value |

#### Internal Logic
1. Calls `normalizeGenderSafe` with the input gender.
2. If the result is undefined, throws an "Invalid gender" error.
3. Otherwise, returns the normalized gender value.

## Dependencies
This module does not have any external dependencies.

## Error Handling
The `normalizeGender` function throws an error if the input gender cannot be normalized to a valid value.