---
title: "error.ts"
---

## High-level description
This code defines various network error types and provides utility functions for handling network errors, particularly in the context of making HTTP requests. It includes definitions for Node.js and Axios error codes, as well as functions to execute network requests with retry logic.

## Code Structure
The code defines several types of network errors (e.g., NodeNetworkError, AxiosNetworkError) and provides utility functions like `getNetworkErrorDetails` to extract error information. It also includes the `executeWithNetworkRetries` function, which implements retry logic for network operations.

## Symbols

### `nodeConnRefusedErrorCodes`
#### Description
An array of Node.js error codes related to connection refusal.

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| nodeConnRefusedErrorCodes | readonly ["ECONNREFUSED", "ECONNRESET"] | Array of connection refusal error codes |

### `nodeTimeoutErrorCodes`
#### Description
An array containing the Node.js error code for timeout errors.

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| nodeTimeoutErrorCodes | readonly ["ETIMEDOUT"] | Array with the timeout error code |

### `nodeNetworkErrorCodes`
#### Description
A combination of all Node.js network error codes, including connection refusal, timeout, and not found errors.

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| nodeNetworkErrorCodes | readonly string[] | Array of all Node.js network error codes |

### `axiosTimeoutErrorCodes`
#### Description
An array of Axios error codes related to timeout errors.

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| axiosTimeoutErrorCodes | readonly string[] | Array of Axios timeout error codes |

### `axiosResponseErrorCodes`
#### Description
An array containing the Axios error code for bad response errors.

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| axiosResponseErrorCodes | readonly [string] | Array with the bad response error code |

### `axiosNetworkErrors`
#### Description
A combination of all Axios network error codes, including response and timeout errors.

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| axiosNetworkErrors | readonly string[] | Array of all Axios network error codes |

### `networkTimeoutErrors`
#### Description
A combination of Node.js and Axios timeout error codes.

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| networkTimeoutErrors | string[] | Array of all timeout error codes |

### `networkErrors`
#### Description
A combination of all Node.js and Axios network error codes.

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| networkErrors | readonly string[] | Array of all network error codes |

### `getNetworkErrorDetails`
#### Description
Extracts error details from an unknown error object, with special handling for Axios errors.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| error | unknown | The error object to extract details from |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| errorDetails | object | Object containing error details, code, and status |

#### Internal Logic
1. Converts the error to a string using `errorToString`.
2. Checks if the error is an Axios error using `axios.isAxiosError`.
3. If it's an Axios error, extracts the code and status from the error object.
4. Returns an object with the error details, code, and status.

## Dependencies
- axios: Used for making HTTP requests and error handling.
- @metriport/shared: Imports the `errorToString` function from the shared package.

## Error Handling
This code primarily focuses on defining and handling various types of network errors. It provides utility functions to extract error details and categorize errors based on their types (Node.js or Axios).