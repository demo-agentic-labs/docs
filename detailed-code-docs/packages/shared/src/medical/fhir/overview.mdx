---
title: "Overview"
---

## High-level description
This directory contains TypeScript code related to FHIR (Fast Healthcare Interoperability Resources) implementation. It defines interfaces, types, and constants for working with FHIR resources, search results, and consolidation operations. The code is designed to provide type safety and structure when dealing with FHIR data in a larger medical or healthcare application.

## What does it do?
The code in this directory provides a foundation for working with FHIR data in a TypeScript environment. It accomplishes the following:

1. Defines a specialized interface for FHIR search result bundles, ensuring type safety when handling search responses.
2. Specifies allowed conversion types for consolidation operations, which can be used to convert FHIR data into different formats (HTML, PDF, or JSON).
3. Lists various FHIR resource types that can be searched by patient, subject, or are considered general resources.
4. Provides a comprehensive list of resource types that can be used for consolidation operations.

These definitions and constants can be used throughout a larger application to ensure consistency and type safety when working with FHIR data, performing searches, and handling consolidation operations.

## Key Files

### bundle.ts
This file defines the `SearchSetBundle` interface, which extends the FHIR `Bundle` type specifically for search results. It ensures that the `type` property is always set to "searchset" for these bundles.

### conversion.ts
This file specifies the allowed conversion types for consolidation operations. It defines a constant array `consolidationConversionType` and a type `ConsolidationConversionType`, which includes "html", "pdf", and "json" as valid options.

### resources.ts
This file contains constants and types related to FHIR resources. It defines lists of resource types that can be searched by patient, subject, or are considered general resources. It also provides a comprehensive list of resource types that can be used for consolidation operations.

## Dependencies
The code in this directory relies on the `@medplum/fhirtypes` package, which provides FHIR-specific types. This dependency is crucial for maintaining consistency with the FHIR specification and ensuring type safety when working with FHIR resources.

## Configuration
While there are no explicit configuration files in this directory, the constants defined in `resources.ts` and `conversion.ts` act as configuration data. These constants can be used to control which resource types are available for certain operations and what conversion types are allowed in the application.

For example, the `resourceTypeForConsolidation` constant in `resources.ts` determines which FHIR resource types can be included in consolidation operations. If new resource types need to be supported, they would be added to this constant.

Similarly, the `consolidationConversionType` constant in `conversion.ts` specifies the allowed conversion formats. If additional formats need to be supported in the future, they would be added to this constant.

Here's an example of how these constants might be used in the application:

```typescript
import { ConsolidationConversionType } from './conversion';
import { ResourceTypeForConsolidation } from './resources';

function consolidateResources(
  resourceType: ResourceTypeForConsolidation,
  conversionType: ConsolidationConversionType
) {
  // Implementation details...
}

// Usage
consolidateResources('Patient', 'pdf');
```

This structure allows for easy extension and modification of supported resource types and conversion formats without changing the core logic of the application.

In summary, this directory provides a robust foundation for working with FHIR data in a TypeScript environment, ensuring type safety and consistency across the application when dealing with FHIR resources, search operations, and data consolidation.