---
title: "Overview"
---

## High-level description
This directory contains custom error classes and utility functions for error handling in the Metriport application. It defines a base `MetriportError` class and specific error types like `BadRequestError` and `NotFoundError`, along with utility functions for converting errors to string representations.

## What does it do?
The code in this directory provides a structured approach to error handling in the Metriport application. It allows developers to create and throw custom errors with specific HTTP status codes and additional information. The utility functions help in converting these errors (and other error types) into readable string formats, which can be useful for logging or displaying error messages to users or developers.

## Key Files

1. `metriport-error.ts`: Defines the base `MetriportError` class, which extends the built-in JavaScript `Error` class. It adds properties like `status`, `cause`, and `additionalInfo` to provide more context about errors.

2. `bad-request.ts`: Defines the `BadRequestError` class, which extends `MetriportError`. It's used for representing errors related to bad requests, with a default HTTP status code of 400.

3. `not-found.ts`: Defines the `NotFoundError` class, also extending `MetriportError`. It's used for representing errors when requested resources are not found, with a default HTTP status code of 404.

4. `shared.ts`: Contains utility functions for error handling and string conversion of errors. It provides options for generating detailed or generic error messages.

## Dependencies
The main external dependency used in this directory is the `http-status` library, which provides HTTP status codes as constants. This is used in the custom error classes to set appropriate status codes.

## Configuration
The custom error classes use default HTTP status codes, which can be overridden if needed:
- `MetriportError`: Default status code 500 (Internal Server Error)
- `BadRequestError`: Status code 400 (Bad Request)
- `NotFoundError`: Status code 404 (Not Found)

## Usage Examples

1. Using `BadRequestError`:
   ```typescript
   throw new BadRequestError(`Cannot delete facility with patients associated to it`);
   ```

2. Using `NotFoundError`:
   ```typescript
   if (!whRequest) throw new NotFoundError(`Could not find webhook request ${id}`);
   ```

3. Converting errors to strings:
   ```typescript
   const errorString = errorToString(error, { detailed: true });
   ```

These custom error classes and utility functions provide a consistent way to handle and report errors throughout the Metriport application, improving error management and debugging capabilities.