---
title: "Overview"
---

## High-level description
This directory contains shared utility functions, constructs, and configurations for building and managing AWS infrastructure using AWS CDK. It provides reusable components for common AWS services like Lambda, SQS, RDS, and WAF, as well as utility functions for environment management, secret handling, and metric creation.

## What does it do?
The shared directory serves as a toolkit for infrastructure development, offering:

1. Standardized creation of AWS resources (Lambda functions, SQS queues, RDS clusters).
2. Utility functions for environment detection, configuration management, and data conversion.
3. Reusable constructs for services like OpenSearch and daily backups.
4. Predefined WAF rules for web application protection.
5. Helper functions for CloudWatch metrics and alarms.
6. Utilities for handling secrets and environment variables.

These components help maintain consistency across the infrastructure, reduce code duplication, and provide a common set of best practices for resource creation and management.

## Key Files
1. lambda.ts: Creates and configures Lambda functions with standardized settings and error handling.
2. sqs.ts: Creates SQS queues with dead-letter queues, alarms, and retry mechanisms.
3. rds.ts: Adds performance alarms to RDS database clusters.
4. waf-rules.ts: Defines WAF rules for web application protection.
5. secrets.ts: Manages creation and retrieval of secrets, including conversion to ECS-compatible formats.
6. util.ts: Provides utility functions for environment checking, variable handling, and data conversion.
7. open-search-construct.ts: Defines a construct for creating and configuring Amazon OpenSearch domains.
8. backup.ts: Implements a DailyBackup construct for creating AWS Backup plans.
9. cloudwatch-metric.ts: Adds CloudWatch alarms to metrics.

## Dependencies
The shared components primarily rely on:
- aws-cdk-lib: Core CDK constructs and utilities for AWS services.
- constructs: Base Construct class for CDK.
- dotenv: Loading environment variables from .env files.

## Configuration
Many components accept configuration options through interfaces or input parameters. Environment-specific configuration is often handled through the `EnvConfig` type, determining the current environment (staging, production, sandbox).

These shared components provide a flexible and extensible foundation for building AWS infrastructure, allowing for consistent resource creation and management across different parts of the application.