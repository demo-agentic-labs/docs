---
title: "util.ts"
---

## High-level description
This file contains utility functions for environment type checking, environment variable handling, and data conversion. It provides a set of helper functions to determine the environment type, retrieve environment variables, and perform basic data transformations.

## Symbols

### `isStagingEnv`
#### Description
Checks if the given environment is a staging environment.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| env | EnvType | The environment type to check |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| result | boolean | True if the environment is staging, false otherwise |

### `isProdEnv`
#### Description
Checks if the given environment is a production environment.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| env | EnvType | The environment type to check |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| result | boolean | True if the environment is production, false otherwise |

### `isSandboxEnv`
#### Description
Checks if the given environment is a sandbox environment.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| env | EnvType | The environment type to check |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| result | boolean | True if the environment is sandbox, false otherwise |

### `isStaging`
#### Description
Checks if the given configuration is for a staging environment.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| config | EnvConfig | The environment configuration to check |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| result | boolean | True if the configuration is for staging, false otherwise |

### `isProd`
#### Description
Checks if the given configuration is for a production environment.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| config | EnvConfig | The environment configuration to check |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| result | boolean | True if the configuration is for production, false otherwise |

### `isSandbox`
#### Description
Checks if the given configuration is for a sandbox environment.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| config | EnvConfig | The environment configuration to check |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| result | boolean | True if the configuration is for sandbox, false otherwise |

### `isLocalEnvironment`
#### Description
Checks if the current environment is a local environment.

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| result | boolean | True if the environment is local, false otherwise |

### `mbToBytes`
#### Description
Converts megabytes to bytes.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| mb | number | The number of megabytes to convert |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| result | number | The equivalent number of bytes |

### `getEnvVar`
#### Description
Retrieves the value of an environment variable.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| varName | string | The name of the environment variable to retrieve |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| result | string \| undefined | The value of the environment variable, or undefined if not set |

### `getEnvVarOrFail`
#### Description
Retrieves the value of an environment variable, throwing an error if it's not set or empty.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| varName | string | The name of the environment variable to retrieve |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| result | string | The value of the environment variable |

#### Internal Logic
1. Calls `getEnvVar` to retrieve the environment variable value.
2. If the value is falsy or an empty string after trimming, it throws an error.
3. Otherwise, it returns the value.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| EnvConfig | Type definition for environment configuration |
| EnvConfigSandbox | Type definition for sandbox environment configuration |
| EnvType | Enum for environment types |