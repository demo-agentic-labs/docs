---
title: "geographic-locations.ts"
---

## High-level description
This code provides functionality to convert a string representation of a US state into its corresponding enum value from the `USState` enum. It includes type checking and case-insensitive conversion to ensure accurate state identification.

## Symbols

### `isKeyOfUSState`
#### Description
This function checks if a given string is a valid key of the `USState` enum.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| key | string | The string to check against the `USState` enum keys |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| result | boolean | True if the input is a valid key of `USState`, false otherwise |

#### Internal Logic
The function uses the `in` operator to check if the input `key` exists as a property in the `USState` enum. This is a type guard that narrows the type of `key` to `keyof typeof USState` if the check passes.

### `getStateEnum`
#### Description
This function converts a string representation of a US state to its corresponding `USState` enum value.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| state | string | The string representation of a US state |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| result | USState \| undefined | The corresponding `USState` enum value if found, undefined otherwise |

#### Internal Logic
1. Convert the input `state` to uppercase.
2. Use `isKeyOfUSState` to check if the uppercase state is a valid key of `USState`.
3. If valid, return the corresponding `USState` enum value.
4. If not valid, return `undefined`.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| @metriport/shared | Imports the `USState` enum used for state representation |

## References
The code references the `USState` enum, which is imported from `@metriport/shared`. The related code snippet shows that this enum is defined in `packages/shared/src/domain/address/state.ts` and includes all US state abbreviations.

## Notes
1. The `getStateEnum` function is case-insensitive, as it converts the input to uppercase before processing.
2. The function returns `undefined` for invalid state inputs, allowing for graceful handling of errors or unknown states.
3. This implementation differs from the `normalizeStateSafe` function in the related code, which handles both full state names and abbreviations. The `getStateEnum` function in the target file only works with state abbreviations.