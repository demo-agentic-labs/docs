---
title: "filename.ts"
---

## High-level description
This code defines functions for creating file names and paths for medical documents in a cloud storage system. It provides utility functions to generate standardized file names and paths based on customer ID, patient ID, and document ID, ensuring consistent naming conventions across the application.

## Code Structure
The main functions in this file are `createDocumentFileName` and `createDocumentFilePath`. These functions work together to generate appropriate file names and paths for medical documents. They utilize the `getFileExtension` function from the `mime` utility to determine the correct file extension based on the MIME type.

## Symbols

### `createDocumentFileName`
#### Description
Creates a file name for a medical document using the document ID and optional MIME type.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| docId | string | The unique identifier for the document |
| mimeType | string \| undefined | Optional MIME type of the document |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| docName | string | The generated file name for the document |

#### Internal Logic
1. Gets the file extension based on the MIME type using `getFileExtension`.
2. Combines the document ID with the extension (if available) to create the file name.

### `createDocumentFilePath`
#### Description
Creates a full file path for a medical document, including customer ID, patient ID, and document file name.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| cxId | string | The customer ID |
| patientId | string | The patient ID |
| docId | string | The document ID |
| mimeType | string \| undefined | Optional MIME type of the document |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| filePath | string | The complete file path for the document |

#### Internal Logic
1. Calls `createDocumentFileName` to generate the document file name.
2. Uses `createFilePath` from the imported `filename` module to create the full file path.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| @metriport/core/util/mime | Provides the `getFileExtension` function for determining file extensions |
| @metriport/core/domain/filename | Provides the `createFilePath` function for creating file paths |

This code is crucial for maintaining a consistent file naming and organization structure for medical documents across the application, ensuring easy retrieval and management of files in the cloud storage system.