---
title: "upload.ts"
---

## High-level description
This code defines functions and constants related to file path creation for document uploads in a healthcare system. It provides utility functions to generate standardized file paths for uploaded documents and their metadata, ensuring consistent storage and retrieval of medical documents.

## Symbols

### `UPLOADS_FOLDER`
#### Description
A constant string representing the name of the folder where uploads are stored.

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| UPLOADS_FOLDER | string | The name of the uploads folder, set to "uploads" |

### `CCD_SUFFIX`
#### Description
A constant string representing the suffix used for Continuity of Care Document (CCD) files.

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| CCD_SUFFIX | string | The suffix for CCD files, set to "ccd" |

### `FHIR_BUNDLE_SUFFIX`
#### Description
A constant string representing the suffix used for FHIR Bundle files.

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| FHIR_BUNDLE_SUFFIX | string | The suffix for FHIR Bundle files, set to "FHIR_BUNDLE" |

### `createUploadFilePath`
#### Description
A function that generates a file path for an uploaded document.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| cxId | string | The customer ID |
| patientId | string | The patient ID |
| docName | string | The name of the document |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| filePath | string | The generated file path for the uploaded document |

#### Internal Logic
1. Creates a folder name using `createFolderName` function
2. Creates a file name using `createFileName` function
3. Combines the folder name, UPLOADS_FOLDER, and file name to create the full file path

### `createUploadMetadataFilePath`
#### Description
A function that generates a file path for the metadata of an uploaded document.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| cxId | string | The customer ID |
| patientId | string | The patient ID |
| docName | string | The name of the document |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| metadataFilePath | string | The generated file path for the metadata of the uploaded document |

#### Internal Logic
1. Calls `createUploadFilePath` to get the base file path
2. Appends "_metadata.xml" to the base file path to create the metadata file path

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| createFileName | Used to generate a standardized file name |
| createFolderName | Used to generate a standardized folder name |

This code is part of a larger system for handling medical document uploads and storage. It provides consistent naming conventions and file path structures for uploaded documents and their metadata, which is crucial for organized data management in healthcare systems.