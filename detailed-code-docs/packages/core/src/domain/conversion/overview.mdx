---
title: "Overview"
---

## High-level description
This directory contains TypeScript files that define types, interfaces, and constants related to various conversion processes in a medical data processing system. The files cover conversions between different formats such as CDA (Clinical Document Architecture), HTML, PDF, FHIR (Fast Healthcare Interoperability Resources), and medical records.

## What does it do?
The code in this directory provides the foundational structure for handling different types of document and data conversions in a healthcare context. It defines the input and output formats for these conversions, ensuring consistency across the application. The conversions covered include:

1. CDA to HTML/PDF: Allows for converting clinical documents to web-friendly or printable formats.
2. FHIR to CDA: Enables the transformation of FHIR data bundles into CDA format.
3. FHIR to Medical Record: Facilitates the creation of medical records from FHIR data, with options for different output formats and AI-generated summaries.

These type definitions and constants are used throughout the application to maintain a consistent interface for conversion processes, validate input data, and structure the output of conversion operations.

## Key Files

### cda-to-html-pdf.ts
This file defines the types and constants for converting CDA documents to HTML or PDF formats. It includes:
- `validConversionTypes`: An array of allowed conversion types ("html" and "pdf").
- `ConversionType`: A type alias for the valid conversion types.
- `Input`: A type defining the structure of input for the conversion process, including file name, conversion type, and bucket name.
- `Output`: A type defining the structure of the conversion output, which includes a URL to the converted document.

### fhir-to-cda.ts
This file focuses on the conversion from FHIR to CDA format. It defines:
- `Input`: A type specifying the input structure for the FHIR to CDA conversion, including customer ID, a flag for splitting compositions, a FHIR bundle, and an organization OID.

### fhir-to-medical-record.ts
This file defines types and interfaces for converting FHIR data to medical records. It includes:
- `consolidationConversionType` and `ConsolidationConversionType`: Defines allowed types for consolidation conversion (html, pdf, json).
- `mrFormat` and `MedicalRecordFormat`: Specifies allowed formats for medical records (html, pdf).
- `Input`: An interface defining input parameters for the medical record conversion process, including patient information, date range, and conversion options.
- `Output`: An interface defining the output structure for the medical record conversion, including a URL to the converted record and a flag indicating if it has contents.

## Dependencies
The only external dependency mentioned in these files is `@medplum/fhirtypes`, which is used in the `fhir-to-cda.ts` file to import the `Bundle` type for FHIR data structures.

These type definitions and constants play a crucial role in maintaining consistency and type safety across the application, particularly in areas dealing with document and data conversions in the healthcare domain. They are referenced and used in various other parts of the codebase, including API routes, Lambda functions, and utility modules, indicating their central importance to the application's functionality.