---
title: "filename.ts"
---

## High-level description
This code provides utility functions for creating and parsing file names and paths for medical records and documents. It includes functions to generate standardized file and folder names, create file paths, and parse file names and paths. Additionally, it includes a function to create Hive partition file paths for data organization.

## Code Structure
The main symbols in this code are standalone functions that work together to create and parse file names and paths. Some functions, like `createFilePath`, use other functions like `createFolderName` and `createFileName` to build complete file paths.

## Symbols

### `createFileName`
#### Description
Creates a standardized file name by combining customer ID, patient ID, and file ID.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| cxId | string | Customer ID |
| patientId | string | Patient ID |
| fileId | string | File ID |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| fileName | string | Standardized file name |

### `createFolderName`
#### Description
Creates a standardized folder name by combining customer ID and patient ID.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| cxId | string | Customer ID |
| patientId | string | Patient ID |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| folderName | string | Standardized folder name |

### `createFilePath`
#### Description
Creates a complete file path by combining the folder name and file name.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| cxId | string | Customer ID |
| patientId | string | Patient ID |
| fileId | string | File ID |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| filePath | string | Complete file path |

### `createHivePartitionFilePath`
#### Description
Creates a Hive partition file path based on various parameters, including date and custom keys.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| cxId | string | Customer ID |
| patientId | string | Patient ID |
| keys | object | Optional key-value pairs for additional partitions |
| date | Date | Optional date for time-based partitioning |
| dateGranularity | string | Optional granularity for date partitioning |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| partitionPath | string | Hive partition file path |

#### Internal Logic
1. Creates date-based partition components if a date is provided
2. Processes custom keys, converting them to lowercase
3. Combines all components into a single partition path string

### `parseFileName`
#### Description
Parses a file name to extract customer ID, patient ID, and file ID.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| fileName | string | File name to parse |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| parsedFileName | ParsedFileName | Object containing extracted IDs |

### `parseFilePath`
#### Description
Parses a file path to extract customer ID, patient ID, and file ID from the file name portion.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| filePath | string | File path to parse |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| parsedFileName | ParsedFileName | Object containing extracted IDs |

## Dependencies
This code does not have any external dependencies.

## Error Handling
The code does not implement explicit error handling. It assumes valid inputs and does not throw exceptions.