---
title: "author.ts"
---

## High-level description
This code defines a function `buildAuthor` that constructs an author object for a Clinical Document Architecture (CDA) document. It takes an Organization object and an optional date as input, and returns a CdaAuthor object with structured information about the author, including time, assigned author details, and represented organization.

## Code Structure
The main function `buildAuthor` uses several helper functions from the `commons` module to build different parts of the author object. It also references constants from the `constants` module.

## References
- `CdaAuthor` type from "../../cda-types/shared-types"
- Helper functions and constants from "../commons" and "../constants"

## Symbols

### `buildAuthor`
#### Description
Constructs a CdaAuthor object based on the provided Organization and optional date.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| organization | Organization | The organization representing the author |
| date | string \| undefined | Optional date for the author timestamp |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| author | CdaAuthor | The constructed author object |

#### Internal Logic
1. Creates an author object with a time property.
2. If a date is provided, it formats it using `formatDateToCdaTimestamp`.
3. If no date is provided, it uses the current date and time.
4. Builds the `assignedAuthor` object with:
   - ID from the organization
   - Address and telecom information
   - Assigned authoring device details
   - Represented organization information

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| @medplum/fhirtypes | Provides the Organization type |

## Performance Considerations
The function performs several string operations and object constructions. While not typically performance-critical, it may become a consideration if called frequently with large organization objects.