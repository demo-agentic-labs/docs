---
title: "medication.ts"
---

## High-level description
This code defines two functions, `makeMedicationStatementPair` and `makeMedicationStatementPair2`, which create and return pairs of FHIR resources: a MedicationStatement and a Medication. These functions are likely used for testing purposes, as they generate sample data with predefined structures and values.

## Symbols

### `makeMedicationStatementPair`
#### Description
This function creates and returns a pair of FHIR resources: a MedicationStatement and a Medication, with predefined values for Carvedilol medication.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| medStatementId | string | ID for the MedicationStatement resource |
| medId | string | ID for the Medication resource |
| dateFhir | string | Start date for the medication in FHIR date format |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| medicationStatement | MedicationStatement | FHIR MedicationStatement resource |
| medication | Medication | FHIR Medication resource |

#### Internal Logic
1. Creates a MedicationStatement resource with:
   - Active status
   - Reference to the Medication resource
   - Subject (patient) reference with a generated UUID
   - Effective period start date
   - Reason codes for "heart" and "weakness"
   - Dosage information (6.25 mg, 1 pill/day)
2. Creates a Medication resource for Carvedilol with:
   - Code information including RxNorm and NDC codes

### `makeMedicationStatementPair2`
#### Description
This function is similar to `makeMedicationStatementPair`, but creates a pair of FHIR resources for Omeprazole medication with some differences in the structure and values.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| medStatementId | string | ID for the MedicationStatement resource |
| medId | string | ID for the Medication resource |
| dateFhir | string | Start date for the medication in FHIR date format |
| endDateFhir | string | End date for the medication in FHIR date format |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| medicationStatement2 | MedicationStatement | FHIR MedicationStatement resource |
| medication2 | Medication | FHIR Medication resource |

#### Internal Logic
1. Creates a MedicationStatement resource with:
   - Completed status
   - Reference to the Medication resource
   - Subject (patient) reference with a generated UUID
   - Effective period with start and end dates
   - Reason codes for "GERD" and "Migraine" (with SNOMED CT coding)
   - Dosage information (20 mg, 2 capsules/day)
2. Creates a Medication resource for Omeprazole with:
   - Code information including RxNorm code

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| @medplum/fhirtypes | Provides TypeScript types for FHIR resources |
| ../../../../util/uuid-v7 | Generates UUIDs for patient references |

## Notes
1. Both functions use the `uuidv7()` function to generate UUIDs for patient references.
2. The code structures are similar between the two functions, but with different medication details and slight variations in the resource structures.
3. This code is likely used for testing or generating sample data, as it creates predefined FHIR resources with hardcoded values.