---
title: "Overview"
---

## High-level description
This directory contains components for converting FHIR (Fast Healthcare Interoperability Resources) data to CDA (Clinical Document Architecture) format. It includes modules for processing various types of clinical data such as allergies, medications, problems, procedures, vital signs, and more. These components work together to transform FHIR resources into structured CDA sections for clinical documents.

## What does it do?
The code in this directory performs the following main functions:

1. Extracts relevant clinical data from FHIR Bundles.
2. Transforms FHIR resources into CDA-compatible structures.
3. Generates human-readable tables and machine-readable entries for each clinical section.
4. Handles specific requirements for different types of clinical data (e.g., allergies, medications, vital signs).
5. Applies appropriate coding systems and terminologies for CDA compliance.
6. Manages date formatting and status code mapping between FHIR and CDA.
7. Creates structured sections that can be assembled into a complete CDA document.

## Key Files
1. `allergies.ts`: Converts FHIR AllergyIntolerance resources to CDA Allergies Section.
2. `medications.ts`: Transforms FHIR MedicationStatement resources into CDA Medications Section.
3. `problems.ts`: Processes FHIR Condition resources to create CDA Problems Section.
4. `procedures.ts`: Converts FHIR Procedure resources to CDA Procedures Section.
5. `vital-signs.ts`: Handles FHIR Observation resources for vital signs and creates CDA Vital Signs Section.
6. `social-history.ts`: Processes social history observations from FHIR to create CDA Social History Section.
7. `results.ts`: Builds CDA Results Section from FHIR DiagnosticReport and Observation resources.
8. `notes.ts`: Handles creation of CDA Notes Section from FHIR DiagnosticReport resources.
9. `observations.ts`: Provides utility functions for processing FHIR Observation resources.
10. `augmented-resources.ts`: Defines augmented resource classes that extend FHIR resources with additional metadata.

## Dependencies
The components in this directory rely on several key dependencies:

1. @medplum/fhirtypes: Provides TypeScript types for FHIR resources.
2. dayjs: Used for date manipulation and formatting.
3. Various utility functions from other parts of the project for building CDA elements, handling codes, and managing data structures.

## Configuration
The components use various constants and configuration values, including:

1. OIDs (Object Identifiers) for different sections and coding systems.
2. LOINC codes for identifying specific types of observations and sections.
3. Mapping tables for converting between FHIR and CDA status codes, vital sign categories, etc.
4. Table headers and section names for consistent formatting across different sections.

These configuration values are typically imported from a constants file or defined within each component as needed.

The code in this directory forms a crucial part of the FHIR to CDA conversion process, providing modular components that can be assembled to create complete CDA documents from FHIR data. Each component focuses on a specific aspect of clinical data, ensuring comprehensive coverage of patient information in the resulting CDA document.