---
title: "medication-related.ts"
---

## High-level description
This file contains utility functions for creating mock FHIR resources related to medications. It provides functions to generate MedicationAdministration, MedicationRequest, and MedicationStatement resources with default values and the ability to override specific properties.

## Symbols

### `DEFAULT_MEDICATION_REF`
#### Description
A constant string representing a default medication reference using a randomly generated UUID.

### `makeMedicationAdministration`
#### Description
A function that creates a mock MedicationAdministration resource with default values and allows overriding specific properties.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| params | Partial&lt;MedicationAdministration&gt; | Optional partial MedicationAdministration object to override default values |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| result | MedicationAdministration | A complete MedicationAdministration resource |

#### Internal Logic
1. Creates a base MedicationAdministration object with default values
2. Generates a random UUID for the resource ID if not provided
3. Adds a custom extension for document ID
4. Sets default values for status, effectiveDateTime, medicationReference, and dosage
5. Merges the provided params with the default values

### `makeMedicationRequest`
#### Description
A function that creates a mock MedicationRequest resource with default values and allows overriding specific properties.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| params | Partial&lt;MedicationRequest&gt; | Optional partial MedicationRequest object to override default values |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| result | MedicationRequest | A complete MedicationRequest resource |

#### Internal Logic
1. Creates a base MedicationRequest object with default values
2. Generates a random UUID for the resource ID if not provided
3. Adds a custom extension for document ID
4. Sets default values for status, authoredOn, and medicationReference
5. Merges the provided params with the default values

### `makeMedicationStatement`
#### Description
A function that creates a mock MedicationStatement resource with default values and allows overriding specific properties.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| params | Partial&lt;MedicationStatement&gt; | Optional partial MedicationStatement object to override default values |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| result | MedicationStatement | A complete MedicationStatement resource |

#### Internal Logic
1. Creates a base MedicationStatement object with default values
2. Generates a random UUID for the resource ID if not provided
3. Adds a custom extension for document ID
4. Sets default values for status, effectiveDateTime, medicationReference, and dosage
5. Merges the provided params with the default values

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| @faker-js/faker | Used to generate random UUIDs for resource IDs and document extensions |
| @medplum/fhirtypes | Provides TypeScript types for FHIR resources |

## Notes
- All three functions use a similar pattern of creating a base object with default values and then merging it with the provided partial object.
- The custom extension `https://public.metriport.com/fhir/StructureDefinition/doc-id-extension.json` is added to all resources, suggesting this is a Metriport-specific extension for document identification.
- The default medication reference is the same for all resources, using a randomly generated UUID.
- The dosage information is more detailed in the MedicationAdministration and MedicationStatement resources compared to the MedicationRequest resource.
- These functions are likely used for testing or generating sample data, as indicated by the use of faker and the `__tests__` directory in the file path.