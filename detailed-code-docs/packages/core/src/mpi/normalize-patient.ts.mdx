---
title: "normalize-patient.ts"
---

## High-level description
This code defines functions for normalizing patient data in the context of a Master Patient Index (MPI) system. It includes operations to standardize patient information such as names, addresses, phone numbers, and email addresses. The main function, `normalizePatient`, takes patient data and returns a normalized version of it.

## Code Structure
The main function `normalizePatient` uses helper functions like `normalizeString`, `normalizeEmail`, `normalizePhoneNumber`, `normalizeAddress`, and `splitName` to process different parts of the patient data. These helper functions are defined within the same file and are used to standardize specific fields of patient information.

## Symbols

### `normalizePatient&lt;T extends PatientData&gt;(patient: T): T`
#### Description
This function takes patient data and normalizes it by splitting names, normalizing email and phone numbers, and formatting addresses.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| patient | T extends PatientData | The patient data to be normalized |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| normalizedPatient | T | A normalized version of the input patient data |

#### Internal Logic
1. Extracts the first and last names using `splitName` and `normalizeString`.
2. Normalizes contact information (email and phone) using `normalizeEmail` and `normalizePhoneNumber`.
3. Normalizes address information using `normalizeAddress` and other helper functions.

### `normalizeString(str: string): string`
#### Description
Normalizes a string by trimming whitespace and converting to lowercase.

### `normalizeEmail(email: string): string`
#### Description
Normalizes an email address by trimming whitespace and converting to lowercase.

### `normalizePhoneNumber(phoneNumber: string): string`
#### Description
Normalizes a phone number using a function from the shared library.

### `normalizeAddress(address: string): string`
#### Description
Normalizes an address string by calling `normalizeString`.

### `splitName(name: string): string[]`
#### Description
Splits a name string into an array of name parts, filtering out empty strings.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| @metriport/shared | Provides utility functions for normalization |

## Error Handling
The code includes basic error handling, logging errors when parsing addresses fails.

## Logging
The code uses a logging utility (`out`) to log errors during address parsing.

Your response should not exceed 3000 words or 4000 tokens. Focus on providing clear, concise information that can be directly inferred from the code. Include optional sections only when they provide significant value for understanding the code.