---
title: "fhir.ts"
---

## High-level description
This code defines a Zod schema for validating FHIR Bundle resources and their entries. It also exports TypeScript types derived from these schemas for use in other parts of the application.

## Code Structure
The code defines three main schemas: `typeSchema`, `bundleEntrySchema`, and `bundleSchema`. These schemas are used to validate the structure of FHIR Bundle resources. The code also exports TypeScript types derived from these schemas.

## Symbols

### `typeSchema`
#### Description
A Zod schema that defines the allowed values for the `type` field of a FHIR Bundle resource.

#### Internal Logic
It uses the `z.enum()` function to specify that the only allowed value is "collection".

### `bundleEntrySchema`
#### Description
A Zod schema that defines the structure of entries in a FHIR Bundle resource.

#### Internal Logic
It uses `z.array()` to define an array of objects, where each object must have a `resource` property that is not undefined.

### `bundleSchema`
#### Description
A Zod schema that defines the overall structure of a FHIR Bundle resource.

#### Internal Logic
It uses `z.object()` to define an object with specific properties:
- `resourceType`: Must be "Bundle"
- `type`: Uses the `typeSchema`
- `entry`: Uses the `bundleEntrySchema`

### `BundleEntry`
#### Description
A TypeScript type derived from the `bundleEntrySchema`.

### `Bundle`
#### Description
A TypeScript type derived from the `bundleSchema`.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| zod | Used for schema definition and validation |

## TODOs
There is a TODO comment suggesting that the copy-pasted definitions from the API package might be removed in the future, and this file could be used instead.

This code provides a structured way to validate FHIR Bundle resources and their entries, ensuring that they conform to the expected format before processing them further in the application.