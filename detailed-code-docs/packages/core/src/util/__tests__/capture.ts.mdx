---
title: "capture.ts"
---

## High-level description
This code defines a `mockCapture` function that creates a mock implementation of the `Capture` interface for testing purposes. It uses Jest's mocking functionality to create mock functions for the `error` and `message` methods of the `Capture` interface.

## References
- `Capture` interface from "../capture"

## Symbols

### `mockCapture`
#### Description
The `mockCapture` function creates and returns a mock implementation of the `Capture` interface. This mock can be used in unit tests to verify the behavior of code that depends on the `Capture` interface without actually invoking the real implementation.

#### Inputs
This function takes no inputs.

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| (return value) | Capture | A mock implementation of the Capture interface |

#### Internal Logic
1. The function creates an object with two properties: `error` and `message`.
2. Both `error` and `message` are assigned mock functions created using Jest's `jest.fn()`.
3. The created object conforms to the `Capture` interface structure.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| jest | Used for creating mock functions (`jest.fn()`) |

## Additional Notes

1. This mock implementation is useful for unit testing components that use the `Capture` interface without actually sending data to Sentry or performing real error capturing.

2. The mock functions created by `jest.fn()` allow test code to:
   - Check if these methods were called
   - Inspect the arguments they were called with
   - Control their return values if needed

3. The implementation matches the structure of the `Capture` interface defined in the related "capture.ts" file, which includes `error` and `message` methods.

4. This mock doesn't implement any actual functionality of error capturing or message sending. It's purely for testing purposes.

5. When using this mock in tests, developers can use Jest's expect functions to assert on the calls to `error` and `message`, such as:
   ```typescript
   const capture = mockCapture();
   // ... use capture in the code being tested ...
   expect(capture.error).toHaveBeenCalledWith(expectedError);
   expect(capture.message).toHaveBeenCalledWith(expectedMessage);
   ```

6. The mock implementation returns an object that matches the shape of the `Capture` interface, ensuring type compatibility in TypeScript.