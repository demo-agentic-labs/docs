---
title: "string.ts"
---

## High-level description
This TypeScript file provides utility functions for string manipulation and object serialization. It includes two functions: `sizeInBytes` for calculating the size of a string in bytes, and `safeStringify` for converting various data types to their string representations.

## Symbols

### `sizeInBytes`
#### Description
This function calculates the size of a given string in bytes using the Blob API.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| str | string | The input string to measure |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| (return value) | number | The size of the input string in bytes |

#### Internal Logic
The function creates a new Blob object with the input string as its content and returns the size of the Blob, which represents the size of the string in bytes.

### `safeStringify`
#### Description
This function provides a safe way to convert various data types to their string representations, including objects, primitives, and functions.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| v | any | The value to be stringified |
| replacer | (key: string, value: any) =&gt; any | (Optional) A function that transforms the results of stringifying objects |
| space | string \| number | (Optional) Specifies the indentation of nested structures in the output JSON string |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| (return value) | string \| undefined \| null | The stringified representation of the input value, or undefined/null if the input is undefined/null |

#### Internal Logic
1. If the input `v` is undefined or null, it returns the input as-is.
2. If `v` is an object, it uses `JSON.stringify` with the provided `replacer` and `space` parameters to convert it to a JSON string.
3. For all other types (string, number, boolean, bigint, function), it uses the `String` constructor to convert the value to a string.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| Blob | Used in `sizeInBytes` to calculate the size of a string in bytes |
| JSON | Used in `safeStringify` for object serialization |

## Error Handling
The code does not implement explicit error handling. However, the `safeStringify` function is designed to handle various input types safely without throwing exceptions.

## Performance Considerations
The `sizeInBytes` function creates a new Blob object for each call, which might have performance implications if used frequently with large strings or in performance-critical sections of code.

## Notes
The file includes an ESLint disable comment for the `@typescript-eslint/no-explicit-any` rule, indicating that the use of the `any` type is intentional in this utility file.