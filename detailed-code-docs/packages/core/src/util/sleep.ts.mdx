---
title: "sleep.ts"
---

## High-level description
This code defines a utility function `sleep` that introduces a delay in the execution of asynchronous code. It's a simple implementation of a promise-based delay mechanism. However, it's marked as deprecated, suggesting that developers should use an alternative implementation from the `@metriport/shared` package.

## Symbols

### `sleep`
#### Description
The `sleep` function is a utility that creates a delay in the execution of asynchronous code. It returns a Promise that resolves after a specified time interval.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| timeInMs | number | The time to sleep in milliseconds |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| - | Promise&lt;void&gt; | A Promise that resolves after the specified time |

#### Internal Logic
The function uses JavaScript's `setTimeout` function wrapped in a Promise. It creates a new Promise and uses `setTimeout` to delay the resolution of this Promise by the specified time.

## Dependencies
This code doesn't have any external dependencies. It uses only built-in JavaScript functions.

## Side Effects
This function does not have any side effects beyond introducing a delay in code execution.

## Performance Considerations
While `sleep` is a simple and effective way to introduce delays, it should be used judiciously in performance-critical code. Overuse of sleep can lead to unnecessary blocking of the event loop in Node.js applications.

## TODOs
The code includes a deprecation notice, suggesting that this implementation should be replaced with a `sleep` function from the `@metriport/shared` package. This indicates a TODO for users of this code to update their imports and use the new implementation.

## References
The related code snippet (packages/utils/src/get-medication-list.ts) shows an example of how this `sleep` function is used in a larger context. It's used to introduce delays between API calls when querying medication data for patients:

```typescript
log(`Sleeping for ${delayTime} ms before the next patient...`);
await sleep(delayTime);
```

This usage demonstrates a common application of sleep functions in managing API request rates and avoiding overwhelming external services with too many rapid requests.