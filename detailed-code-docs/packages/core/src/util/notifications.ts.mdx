---
title: "notifications.ts"
---

## High-level description
This file contains utility functions for sending notifications and capturing errors in the Metriport application. It provides a centralized way to handle notifications, alerts, and error logging across the application.

## Code Structure
The main symbols in this code are:
1. `sendNotification` and `sendAlert`: Functions to send notifications and alerts.
2. `capture`: An object with methods for capturing errors and messages.
3. `ApiCapture`: A type extending the core `Capture` type with additional methods.

These symbols are interconnected, with `capture` being the main interface for error and message logging throughout the application.

## Symbols

### `sendNotification`
#### Description
Sends a notification using the core notification function.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| notif | SlackMessage \| string | The notification message to send |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| Promise&lt;void&gt; | Promise&lt;void&gt; | A promise that resolves when the notification is sent |

### `sendAlert`
#### Description
Sends an alert using the core alert function.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| notif | SlackMessage \| string | The alert message to send |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| Promise&lt;void&gt; | Promise&lt;void&gt; | A promise that resolves when the alert is sent |

### `capture`
#### Description
An object with methods for capturing errors and messages, extending the core capture functionality.

#### Internal Logic
- `setUser`: Sets the user information for Sentry.
- `setExtra`: Sets extra information for Sentry.
- `error`: Captures an exception event and sends it to Sentry.
- `message`: Sends a message to Sentry.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| @metriport/core/external/slack/index | For core notification and alert functions |
| @metriport/core/util/capture | For core capture functionality |
| @metriport/core/util/notifications | For core capture object |
| @sentry/node | For Sentry integration |

## Error Handling
This module is primarily focused on error handling and notification. It provides a centralized way to capture and report errors and messages across the application.

## Logging
The `capture` object provides methods for logging errors and messages to Sentry, which can be used for monitoring and debugging purposes.

## Notes
This file is part of the API package and extends the core notification and capture functionality. It provides a convenient interface for error handling and notification throughout the API application.