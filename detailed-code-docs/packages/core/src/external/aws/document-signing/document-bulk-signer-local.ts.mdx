---
title: "document-bulk-signer-local.ts"
---

## High-level description
This code defines a `DocumentBulkSignerLocal` class that extends `DocumentBulkSigner`. It implements a local version of document bulk signing functionality, which searches for documents, generates signed URLs, and sends them to an API endpoint.

## Code Structure
The `DocumentBulkSignerLocal` class extends the `DocumentBulkSigner` class and overrides its `sign` method. It uses the `searchDocumentsSignUrlsAndSendToApi` function from the `bulk-sign` module to perform the actual signing process.

## References
- `DocumentBulkSigner` (parent class)
- `searchDocumentsSignUrlsAndSendToApi` function from `./bulk-sign`

## Symbols

### `DocumentBulkSignerLocal`
#### Description
A class that implements local document bulk signing functionality. It extends the `DocumentBulkSigner` class and provides a concrete implementation of the `sign` method.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| region | string | The AWS region |
| bucketName | string | The name of the S3 bucket containing the documents |
| apiURL | string | The URL of the API to send signed URLs to |

#### Internal Logic
The constructor initializes the class with the provided region, bucket name, and API URL. The `sign` method uses these values along with the input parameters to call the `searchDocumentsSignUrlsAndSendToApi` function.

### `sign`
#### Description
Implements the document bulk signing process by searching for documents, generating signed URLs, and sending them to the API.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| patientId | string | The ID of the patient |
| cxId | string | The customer ID |
| requestId | string | The ID of the request |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| - | Promise&lt;void&gt; | A promise that resolves when the signing process is complete |

#### Internal Logic
The `sign` method calls the `searchDocumentsSignUrlsAndSendToApi` function with the provided parameters and the class's `bucketName`, `region`, and `apiURL` properties.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| ./bulk-sign | Provides the `searchDocumentsSignUrlsAndSendToApi` function |
| ./document-bulk-signer | Provides the `DocumentBulkSigner` base class and `DocumentBulkSignerRequest` type |

## Performance Considerations
The `sign` method is asynchronous and returns a Promise, allowing for non-blocking execution. The actual performance will depend on the implementation of `searchDocumentsSignUrlsAndSendToApi` and the number of documents being processed.