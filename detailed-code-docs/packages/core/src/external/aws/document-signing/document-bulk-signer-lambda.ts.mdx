---
title: "document-bulk-signer-lambda.ts"
---

## High-level description
This code defines a `DocumentBulkSignerLambda` class that extends `DocumentBulkSigner`. It provides functionality to sign documents in bulk using an AWS Lambda function. The class encapsulates the logic for invoking the Lambda function and handling the response.

## Code Structure
The `DocumentBulkSignerLambda` class extends `DocumentBulkSigner` and uses the AWS SDK to interact with Lambda. It relies on utility functions from the `lambda.ts` file for creating the Lambda client and handling the invocation response.

## References
- `DocumentBulkSigner` (parent class)
- `makeLambdaClient` and `defaultLambdaInvocationResponseHandler` from `../lambda`

## Symbols

### DocumentBulkSignerLambda
#### Description
A class that implements bulk document signing using an AWS Lambda function.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| region | string | AWS region where the Lambda function is deployed |
| lambdaName | string | Name of the Lambda function to invoke |

#### Internal Logic
1. Initializes the `lambdaClient` using the provided region.
2. Implements the `sign` method to invoke the Lambda function with the given parameters.

### sign
#### Description
Invokes the Lambda function to perform bulk document signing.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| patientId | string | ID of the patient |
| cxId | string | Customer ID |
| requestId | string | Unique request identifier |

#### Internal Logic
1. Constructs the payload object with the input parameters.
2. Invokes the Lambda function using the `lambdaClient`.
3. Handles the response using `defaultLambdaInvocationResponseHandler`.
4. Throws any errors that occur during the process.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| aws-sdk | Provides the AWS.Lambda client for interacting with Lambda functions |

## Error Handling
The code uses a promise chain to handle errors. Any errors thrown during the Lambda invocation are caught and re-thrown.

---

This documentation provides a comprehensive overview of the `DocumentBulkSignerLambda` class and its functionality. The class is designed to work with AWS Lambda for bulk document signing, utilizing the AWS SDK and custom utility functions for Lambda interactions. The code is structured to handle the invocation of the Lambda function and process its response, with basic error handling in place.