---
title: "binary.ts"
---

## High-level description
This code defines utility functions for creating FHIR Binary resources. It provides a way to generate test data and create Binary resources with customizable properties, primarily for testing purposes.

## Symbols

### `makeData`
#### Description
A function that generates a JSON string with predefined properties and values.

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| (return value) | string | A JSON string containing three properties with their respective values. |

#### Internal Logic
The function creates an object with three properties (`prop1`, `prop2`, `prop3`) and their corresponding values. It then converts this object to a JSON string using `JSON.stringify()`.

### `makeBinary`
#### Description
A function that creates a FHIR Binary resource with customizable `id` and `data` properties.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| options | object | An optional object containing `id` and `data` properties. |
| options.id | string | (Optional) The id for the Binary resource. If not provided, a new UUID is generated. |
| options.data | string | (Optional) The data for the Binary resource. If not provided, the result of `makeData()` is used. |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| (return value) | Binary | A FHIR Binary resource object. |

#### Internal Logic
1. The function uses default parameters to handle cases where `id` or `data` are not provided.
2. If `id` is not provided, it generates a new UUID using the `uuidv4()` function.
3. If `data` is not provided, it uses the result of calling `makeData()`.
4. It returns an object representing a FHIR Binary resource with the following properties:
   - `resourceType`: Set to "Binary"
   - `id`: The provided or generated id
   - `contentType`: Set to "application/json"
   - `data`: The provided or generated data

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| @medplum/fhirtypes | Provides the `Binary` type definition for FHIR resources. |
| uuid | Used to generate UUIDs for the Binary resource id when not provided. |

This code is likely used in testing scenarios to create mock Binary resources with controllable properties. The `makeBinary` function allows for easy creation of these resources with default or custom values, which can be useful in unit tests or other testing environments.