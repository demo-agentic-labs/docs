---
title: "patient.ts"
---

## High-level description
This code defines a function `makePatient` that creates a mock FHIR Patient resource with randomized data using the Faker library. It's primarily used for testing purposes, allowing developers to generate realistic patient data without relying on real patient information.

## Symbols

### `PatientWithId`
#### Description
A type alias that extends the `Patient` type from FHIR, ensuring that the `id` field is always present.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| Patient | type | The base Patient type from FHIR |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| PatientWithId | type | A Patient type with a required `id` field |

### `makePatient`
#### Description
A function that generates a mock FHIR Patient resource with randomized data.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| id | string | (Optional) The patient's ID |
| firstName | string | (Optional) The patient's first name |
| lastName | string | (Optional) The patient's last name |
| phoneNumber | string | (Optional) The patient's phone number |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| patient | PatientWithId | A mock FHIR Patient resource |

#### Internal Logic
1. Uses default values or provided inputs for id, firstName, lastName, and phoneNumber.
2. Constructs a Patient resource with:
   - Basic information (resourceType, id, name, telecom)
   - Extensions for race, ethnicity, mother's maiden name, birth sex, birthplace, and synthetic health metrics
   - Identifiers (synthetic health identifier and driver's license)
   - Gender, birthDate, address, multipleBirth status, and communication language

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| @faker-js/faker | Generates random data for patient fields |
| @medplum/fhirtypes | Provides TypeScript types for FHIR resources |

## Side Effects
This function has no side effects as it only creates and returns a new object without modifying any external state.

## Performance Considerations
The function generates a significant amount of mock data, which may impact performance if called frequently. Consider caching or memoizing results if used in performance-critical sections.

## Error Handling
This function does not implement explicit error handling. It assumes all inputs are valid and Faker will successfully generate random data.