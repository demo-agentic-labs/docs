---
title: "Overview"
---

## High-level description
This directory contains test utility functions for creating FHIR resources, specifically AllergyIntolerance, Binary, Bundle, and Patient resources. These functions are designed to generate mock data for testing purposes, ensuring that developers can work with realistic FHIR data structures without using real patient information.

## What does it do?
The code in this directory provides a set of functions that create mock FHIR resources:

1. `makeAllergyIntollerance`: Creates a standardized AllergyIntolerance resource for a given patient, useful for testing allergy-related functionality.
2. `makeBinary`: Generates a Binary resource, which can be used to test handling of binary data within FHIR systems.
3. `makeBundle`: Constructs a Bundle resource from an array of other FHIR resources, facilitating the testing of transaction operations.
4. `makePatient`: Produces a mock Patient resource with randomized data, allowing developers to test patient-related features without using real patient data.

These functions allow developers to quickly generate realistic FHIR resources for various testing scenarios, such as unit tests, integration tests, or populating test environments with sample data.

## Key Files

### allergy-intolerance.ts
This file contains the `makeAllergyIntollerance` function, which creates a FHIR AllergyIntolerance resource. It generates a specific type of environmental allergy (pollen) with predefined characteristics such as clinical status, verification status, and criticality.

### binary.ts
This file provides utility functions for working with FHIR Binary resources. It includes `makeData` for generating sample JSON data and `makeBinary` for creating Binary resources with customizable properties.

### bundle.ts
This file defines the `makeBundle` function, which is crucial for creating FHIR Bundle resources. It's designed to work with any type of FHIR resource, making it versatile for various testing scenarios involving transactions or collections of resources.

### patient.ts
This file contains the `makePatient` function, which generates a mock FHIR Patient resource. It uses the Faker library to create realistic patient data, including names, contact information, and various demographic details.

## Dependencies
The code in this directory relies on several external libraries:

1. @medplum/fhirtypes (version not specified): Provides TypeScript types for FHIR resources, ensuring type safety when working with FHIR data structures.
2. @faker-js/faker (version not specified): Used in the `makePatient` function to generate random, realistic patient data.
3. uuid (version not specified): Utilized for generating UUIDs for resource identifiers.

These dependencies were likely chosen to provide robust type checking (FHIR types), realistic data generation (Faker), and unique identifier creation (uuid) capabilities, which are essential for creating mock FHIR resources for testing purposes.

## Configuration
This directory does not appear to use any specific configuration files or environment variables. The mock data generation is primarily controlled through function parameters and internal logic within each utility function.

However, it's worth noting that some of the functions use hardcoded values for certain fields:

- In `makeAllergyIntollerance`, the recorded date is set to a fixed value: "2023-01-01T00:00:00Z".
- In `makeBinary`, the content type is always set to "application/json".
- In `makeBundle`, the bundle type is always set to "transaction".

These hardcoded values might need to be adjusted or made configurable if more flexibility is required in the future.

In conclusion, this directory provides a set of utility functions that are essential for generating mock FHIR resources in a testing environment. These functions allow developers to create realistic, type-safe FHIR data structures without relying on real patient information, facilitating thorough testing of FHIR-based applications and systems.