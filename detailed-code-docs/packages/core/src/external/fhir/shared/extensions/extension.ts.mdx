---
title: "extension.ts"
---

## High-level description
This code defines constants and default values for FHIR extensions related to data sources and operation outcomes. It's part of a larger system that handles FHIR resources and custom extensions for Metriport's medical data integration platform.

## Symbols

### `DATA_SOURCE_EXTENSION_URL`
#### Description
A constant string that represents the URL for the data source extension. It's constructed by appending "/data-source.json" to the `BASE_EXTENSION_URL`.

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| DATA_SOURCE_EXTENSION_URL | string | The complete URL for the data source extension |

### `OPERATION_OUTCOME_EXTENSION_URL`
#### Description
A constant string that represents the URL for the operation outcome extension. It's constructed by appending "/operation-outcome" to the `BASE_EXTENSION_URL`.

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| OPERATION_OUTCOME_EXTENSION_URL | string | The complete URL for the operation outcome extension |

### `dataSourceExtensionDefaults`
#### Description
An object that provides default values for the data source extension. It includes the URL and a partial `valueCoding` object.

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| dataSourceExtensionDefaults | object | Default values for the data source extension |

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| ./base-extension | Imports the `BASE_EXTENSION_URL` constant |

## TODOs
- TODO #712: create this extension

## References
This code is referenced and used in several other files:
1. `packages/core/src/external/carequality/extension.ts`
2. `packages/api/src/command/medical/patient/consolidated-create.ts`
3. `packages/core/src/external/commonwell/extension.ts`
4. `packages/core/src/external/fhir/shared/extensions/metriport.ts`

These files use the constants and defaults defined here to create specific extensions for different data sources (Carequality, CommonWell, Metriport) and to handle operation outcomes in FHIR resource processing.