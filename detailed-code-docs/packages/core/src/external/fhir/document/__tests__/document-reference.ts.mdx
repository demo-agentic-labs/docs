---
title: "document-reference.ts"
---

## High-level description
This code defines a function `makeDocumentReference` that creates and returns a FHIR DocumentReference resource. It's primarily used for testing purposes, allowing the creation of a DocumentReference with customizable properties.

## Code Structure
The main symbol in this code is the `makeDocumentReference` function. It uses helper functions `makePatient` and `makeBinary` to create related resources if not provided.

## Symbols

### makeDocumentReference
#### Description
This function creates a FHIR DocumentReference resource with default values and allows customization through its parameters.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| options | object | An optional object containing customization parameters |
| options.id | string | Optional custom ID for the DocumentReference |
| options.patient | object | Optional patient resource |
| options.binary | object | Optional binary resource |
| options.baseURL | string | Optional base URL for the binary attachment |
| options.extension | Extension[] | Optional array of Extension objects |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| documentReference | DocumentReference | A FHIR DocumentReference resource |

#### Internal Logic
1. If not provided, create default patient and binary resources using helper functions.
2. Construct the DocumentReference object with fixed and dynamic values.
3. Include optional extensions if provided.
4. Return the constructed DocumentReference object.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| @medplum/fhirtypes | Provides TypeScript types for FHIR resources |
| uuid | Generates unique identifiers |

## TODOs
- There is a TODO comment to make the function dynamic, suggesting potential future improvements to the function's flexibility.

## References
This code references other parts of the codebase:
- `makeBinary` function from "../../__tests__/binary"
- `makePatient` function from "../../__tests__/patient"

These functions are likely used to create mock Patient and Binary resources for testing purposes.