---
title: "ec-updater.ts"
---

## High-level description
This code defines an abstract class `ECUpdater` and two types `StoreECAfterIncludeListCmd` and `StoreECAfterDocQueryCmd`. The `ECUpdater` class is designed to handle updates related to Enhanced Coverage (EC) in the context of CommonWell Health Alliance's Query-Based Document Exchange.

## Code Structure
The code defines two command types and an abstract class with two abstract methods. These methods correspond to the command types and are intended to be implemented by concrete subclasses.

## Symbols

### `StoreECAfterIncludeListCmd`
#### Description
This type defines the structure for a command to store Enhanced Coverage (EC) information after updating an include list.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| ecId | string | Enhanced Coverage ID |
| cxId | string | Likely represents a Connection or Context ID |
| patientIds | string[] | Array of patient IDs |
| cqOrgIds | string[] | Array of CareQuality organization IDs |

### `StoreECAfterDocQueryCmd`
#### Description
This type defines the structure for a command to store Enhanced Coverage (EC) information after performing a document query.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| ecId | string | Enhanced Coverage ID |
| cxId | string | Likely represents a Connection or Context ID |
| patientId | string | Patient ID |
| docsFound | number | Number of documents found in the query |

### `ECUpdater`
#### Description
An abstract class that defines the interface for updating Enhanced Coverage (EC) information. It declares two abstract methods that correspond to the command types defined above.

#### Methods

##### `storeECAfterIncludeList`
###### Description
An abstract method to store EC information after updating an include list.

###### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| params | StoreECAfterIncludeListCmd | Command object containing EC update information |

###### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| - | Promise&lt;void&gt; | A promise that resolves when the operation is complete |

##### `storeECAfterDocQuery`
###### Description
An abstract method to store EC information after performing a document query.

###### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| params | StoreECAfterDocQueryCmd | Command object containing EC update information |

###### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| - | Promise&lt;void&gt; | A promise that resolves when the operation is complete |

## References
The `ECUpdater` class is referenced and implemented in the related file `ec-updater-local.ts`. It's also used in the `LinkPatients` class in the `link-patients.ts` file.

## Dependencies
This code doesn't directly import any external libraries, but it uses TypeScript for type definitions and relies on the Promise API for asynchronous operations.