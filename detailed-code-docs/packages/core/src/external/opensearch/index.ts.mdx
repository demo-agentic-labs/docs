---
title: "index.ts"
---

## High-level description
This code defines types and utility functions for working with OpenSearch, an open-source search and analytics engine. It focuses on document status checks and defines the structure for indexing fields in OpenSearch.

## Symbols

### `contentFieldName`
#### Description
A constant string that defines the name of the content field used in OpenSearch indexing.

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| contentFieldName | string | The name of the content field, set to "content" |

### `IndexFields`
#### Description
A TypeScript type definition for the fields used in OpenSearch indexing.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| cxId | string | Customer ID |
| patientId | string | Patient ID |
| s3FileName | string | Name of the file in S3 |
| [contentFieldName] | string | The content of the document |

### `isDocStatusReady`
#### Description
Checks if a document's status is ready (not preliminary or entered in error).

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| doc | DocumentReference | The document to check |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| isReady | boolean | True if the document status is ready |

### `isDocStatusFinal`
#### Description
Checks if a document's status is final.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| doc | DocumentReference | The document to check |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| isFinal | boolean | True if the document status is final |

### `isDocStatusAmended`
#### Description
Checks if a document's status is amended.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| doc | DocumentReference | The document to check |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| isAmended | boolean | True if the document status is amended |

### `isDocStatusPreliminary`
#### Description
Checks if a document's status is preliminary.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| doc | DocumentReference | The document to check |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| isPreliminary | boolean | True if the document status is preliminary |

### `isDocStatusEnteredInError`
#### Description
Checks if a document's status is entered in error.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| doc | DocumentReference | The document to check |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| isEnteredInError | boolean | True if the document status is entered in error |

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| @medplum/fhirtypes | Imports the DocumentReference type for type checking |

## Notes
This file is created outside of the `src/external/aws` directory because OpenSearch is an open-source technology that could be hosted outside of AWS. The code provides utility functions for checking document statuses and defines the structure for indexing fields in OpenSearch, which are likely used in other parts of the application for search and indexing operations.