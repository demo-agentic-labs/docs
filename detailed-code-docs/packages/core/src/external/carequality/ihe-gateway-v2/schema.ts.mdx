---
title: "schema.ts"
---

## High-level description
This file defines a set of Zod schemas for validating and typing various data structures related to healthcare information exchange, specifically for the Carequality IHE Gateway v2. It includes schemas for common elements like addresses, names, telecom information, and SAML headers, as well as utility functions for creating flexible schema combinations.

## Code Structure
The file exports multiple Zod schemas and their corresponding TypeScript types. These schemas are designed to be composable, with some schemas building upon others. The file also includes utility functions for creating more flexible schema combinations.

## Symbols

### `stringOrNumberSchema`
#### Description
A Zod schema that accepts either a string or a number.

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| stringOrNumberSchema | z.ZodUnion | A schema that validates either a string or a number |

### `schemaOrEmpty`
#### Description
A higher-order function that creates a Zod schema accepting either the provided schema or an empty string.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| schema | z.ZodTypeAny | The input schema to be combined with an empty string option |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| schemaOrEmpty | z.ZodUnion | A schema that validates either the input schema or an empty string |

### `schemaOrArray`
#### Description
A higher-order function that creates a Zod schema accepting either the provided schema or an array of that schema.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| schema | z.ZodTypeAny | The input schema to be combined with an array option |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| schemaOrArray | z.ZodUnion | A schema that validates either the input schema or an array of that schema |

### `schemaOrArrayOrEmpty`
#### Description
A higher-order function that creates a Zod schema accepting the provided schema, an array of that schema, or an empty string.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| schema | z.ZodTypeAny | The input schema to be combined with array and empty string options |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| schemaOrArrayOrEmpty | z.ZodUnion | A schema that validates the input schema, an array of that schema, or an empty string |

### `textSchema`
#### Description
A Zod schema for text content that can be either a string/number or an object with a `_text` property containing a string/number.

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| textSchema | z.ZodUnion | A schema that validates text content in different formats |

### `addressSchema`
#### Description
A Zod schema for address information, including optional fields for street address, city, state, postal code, country, and county.

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| addressSchema | z.ZodObject | A schema that validates address information |

### `nameSchema`
#### Description
A Zod schema for name information, including given name(s) and family name.

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| nameSchema | z.ZodObject | A schema that validates name information |

### `telecomSchema`
#### Description
A Zod schema for telecommunication information, including optional use and value fields.

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| telecomSchema | z.ZodObject | A schema that validates telecommunication information |

### `identifierSchema`
#### Description
A Zod schema for identifier information, including optional root and extension fields.

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| identifierSchema | z.ZodObject | A schema that validates identifier information |

### `genderCodeSchema`
#### Description
A Zod schema for gender codes, accepting specific string literals representing different gender options.

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| genderCodeSchema | z.ZodUnion | A schema that validates gender codes |

### `slot`
#### Description
A Zod schema for a slot object, containing a ValueList with Value(s) and a name.

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| slot | z.ZodObject | A schema that validates slot information |

### `codeSchema`
#### Description
A Zod schema for a code object, containing a code and a display name.

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| codeSchema | z.ZodObject | A schema that validates code information |

### `AttributeSchema`
#### Description
A Zod schema for attribute values, which can be either a Role, PurposeOfUse, PurposeForUse, or text.

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| AttributeSchema | z.ZodUnion | A schema that validates attribute values |

### `samlHeaderSchema`
#### Description
A Zod schema for SAML header information, including MessageID, Security details, and AttributeStatement.

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| samlHeaderSchema | z.ZodObject | A schema that validates SAML header information |

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| zod | Used for creating and composing schemas for runtime type checking and validation |

## Constants
| Constant | Type | Value | Description |
|:---------|:-----|:------|:------------|
| treatmentPurposeOfUse | string | "TREATMENT" | Represents the purpose of use for treatment in healthcare contexts |