---
title: "utils.ts"
---

## High-level description
This file contains utility functions for handling timestamps and text extraction in the context of the IHE Gateway V2 implementation. It provides two functions: one for converting timestamps to SOAP body format, and another for extracting text from a TextOrTextObject.

## Symbols

### `timestampToSoapBody`
#### Description
This function converts a given timestamp string to an ISO 8601 format suitable for use in a SOAP body.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| createdTimestamp | string | The input timestamp to be converted |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| (return value) | string | The timestamp converted to ISO 8601 format |

#### Internal Logic
The function uses the `dayjs` library to parse the input timestamp and convert it to ISO 8601 format using the `toISOString()` method.

### `extractText`
#### Description
This function extracts text from a TextOrTextObject, which can be either a string or an object with a `_text` property.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| textOrTextObject | TextOrTextObject | The input text or text object to extract text from |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| (return value) | string | The extracted text as a string |

#### Internal Logic
The function checks if the input is an object. If it is, it returns the `_text` property as a string. Otherwise, it returns the input directly as a string.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| dayjs | Used for timestamp parsing and formatting |

## References
- The `TextOrTextObject` type is likely defined in the `./schema` file, which is imported at the beginning of this file.

This utility file provides essential functions for handling timestamps and text extraction, which are likely used in various parts of the IHE Gateway V2 implementation, particularly in processing and formatting data for SOAP requests and responses.