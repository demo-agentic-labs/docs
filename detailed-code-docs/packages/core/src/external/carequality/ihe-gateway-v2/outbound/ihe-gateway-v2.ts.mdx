---
title: "ihe-gateway-v2.ts"
---

## High-level description
This code defines an abstract class `IHEGatewayV2` and related types for handling outbound requests in an IHE (Integrating the Healthcare Enterprise) Gateway V2 system. It provides a structure for patient discovery, document query, and document retrieval operations in a healthcare interoperability context.

## Code Structure
The code defines three types (`PDRequestGatewayV2Params`, `DQRequestGatewayV2Params`, and `DRRequestGatewayV2Params`) and an abstract class `IHEGatewayV2` with three abstract methods corresponding to the three main operations.

## References
This code references types from the `@metriport/ihe-gateway-sdk` package, specifically `OutboundPatientDiscoveryReq`, `OutboundDocumentQueryReq`, and `OutboundDocumentRetrievalReq`.

## Symbols

### `PDRequestGatewayV2Params`
#### Description
A type defining the parameters for a Patient Discovery request.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| patientId | string | Identifier for the patient |
| cxId | string | Context identifier |
| pdRequestGatewayV2 | OutboundPatientDiscoveryReq | Patient Discovery request object |

### `DQRequestGatewayV2Params`
#### Description
A type defining the parameters for a Document Query request.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| patientId | string | Identifier for the patient |
| cxId | string | Context identifier |
| requestId | string (optional) | Identifier for the request |
| dqRequestsGatewayV2 | OutboundDocumentQueryReq[] | Array of Document Query request objects |

### `DRRequestGatewayV2Params`
#### Description
A type defining the parameters for a Document Retrieval request.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| patientId | string | Identifier for the patient |
| cxId | string | Context identifier |
| requestId | string (optional) | Identifier for the request |
| drRequestsGatewayV2 | OutboundDocumentRetrievalReq[] | Array of Document Retrieval request objects |

### `IHEGatewayV2`
#### Description
An abstract class defining the interface for IHE Gateway V2 operations.

#### Methods
1. `startPatientDiscovery`
   - Input: `PDRequestGatewayV2Params`
   - Output: `Promise&lt;void&gt;`
   - Description: Initiates a patient discovery process.

2. `startDocumentQueryGatewayV2`
   - Input: `DQRequestGatewayV2Params`
   - Output: `Promise&lt;void&gt;`
   - Description: Starts a document query process.

3. `startDocumentRetrievalGatewayV2`
   - Input: `DRRequestGatewayV2Params`
   - Output: `Promise&lt;void&gt;`
   - Description: Begins a document retrieval process.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| @metriport/ihe-gateway-sdk | Provides types for outbound requests in the IHE Gateway context |

This code serves as an abstract interface for implementing IHE Gateway V2 functionality, allowing for different concrete implementations to handle the specific logic for patient discovery, document querying, and document retrieval in a healthcare interoperability system.