---
title: "patient.ts"
---

## High-level description
This code defines a function `toIheGatewayPatientResource` that converts a patient's data from a Metriport-specific format to a format compatible with the IHE Gateway SDK. It serves as a bridge between Metriport's internal patient representation and the standardized patient resource format used in health information exchange.

## Code Structure
The code consists of a single function that utilizes two imported functions/types from different modules to perform the conversion.

## References
- `PatientIdAndData` from "../../fhir/patient/index"
- `mapPatientDataToResource` from "../../fhir/patient/index"
- `PatientResource` from "@metriport/ihe-gateway-sdk"

## Symbols

### `toIheGatewayPatientResource`
#### Description
This function takes a `PatientIdAndData` object and converts it to a `PatientResource` object compatible with the IHE Gateway SDK.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| patient | PatientIdAndData | An object containing the patient's ID and data in Metriport's internal format |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| (return value) | PatientResource | A patient resource object compatible with the IHE Gateway SDK |

#### Internal Logic
The function simply calls the `mapPatientDataToResource` function, passing the input `patient` object. This suggests that the `mapPatientDataToResource` function handles all the necessary transformations to convert the Metriport patient data to the IHE Gateway format.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| @metriport/ihe-gateway-sdk | Provides the `PatientResource` type definition |

## Additional Context
Based on the related code snippets provided:

1. The `mapPatientDataToResource` function (from packages/core/src/external/fhir/patient/index.ts) performs a detailed mapping of the Metriport patient data to a FHIR-compatible format. It handles various patient attributes such as identifiers, name, contact information, gender, birth date, and address.

2. The `PatientResource` type (from packages/ihe-gateway-sdk/src/models/patient-discovery/patient.ts) is defined using Zod schema validation. It represents the structure of a patient resource in the IHE Gateway SDK, which closely aligns with the FHIR patient resource structure.

3. The `toIheGatewayPatientResource` function essentially acts as a thin wrapper around `mapPatientDataToResource`, ensuring that the output conforms to the `PatientResource` type expected by the IHE Gateway SDK.

This code plays a crucial role in standardizing patient data representation for health information exchange, facilitating interoperability between Metriport's system and other healthcare systems that adhere to IHE (Integrating the Healthcare Enterprise) standards.