---
title: "FMStatus.hbs"
---

## High-level description
This Handlebars template file defines a mapping for Financial Management (FM) status codes. It translates various input status codes to their corresponding FHIR FM status values, providing a standardized output for different status representations.

## Symbols

### Main Template
#### Description
The main template is an unnamed Handlebars template that uses conditional statements to map input status codes to FHIR FM status values.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| code | string | The input status code to be mapped |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| status | string | The mapped FHIR FM status value |

#### Internal Logic
The template uses a series of `{{#if}}` and `{{else if}}` statements to check the input `code` against specific values and return the corresponding FHIR FM status:

1. If `code` is 'active', return "active"
2. If `code` is 'cancelled', return "cancelled"
3. If `code` is 'abandonded', return "cancelled"
4. If `code` is 'entered-in-error', return "entered-in-error"
5. If `code` is 'error', return "entered-in-error"
6. If `code` is 'draft', return "draft"
7. If `code` doesn't match any of the above, return "active" as the default value

## Dependencies
This template relies on the Handlebars templating engine for its functionality.

| Dependency | Purpose |
|:-----------|:--------|
| Handlebars | Templating engine used for conditional logic and output generation |

## Error Handling
The template doesn't implement explicit error handling. Instead, it provides a default value of "active" for any unrecognized input codes, ensuring that the template always produces a valid output.

## Notes
1. The template includes a comprehensive copyright and license notice at the beginning, indicating that it incorporates work from Microsoft Corporation and is licensed under AGPLv3.
2. There's a minor typo in one of the conditions: 'abandonded' should be 'abandoned'. This might lead to unexpected behavior if the input code is 'abandoned' (with correct spelling).
3. The template maps both 'cancelled' and 'abandonded' to "cancelled", and both 'entered-in-error' and 'error' to "entered-in-error", suggesting some normalization of similar statuses.
4. The default status "active" is returned for any input that doesn't match the specified conditions, which might not be appropriate for all use cases and should be reviewed for correctness.