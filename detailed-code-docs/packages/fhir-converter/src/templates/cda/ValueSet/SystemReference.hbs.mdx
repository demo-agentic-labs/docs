---
title: "SystemReference.hbs"
---

## High-level description
This Handlebars template file is designed to map OID (Object Identifier) codes to their corresponding FHIR (Fast Healthcare Interoperability Resources) system references. It's used in the FHIR Converter project to translate CDA (Clinical Document Architecture) codes into FHIR-compatible system URLs.

## Symbols

### Main Template
#### Description
The main template is an unnamed Handlebars block that checks for the existence of a `code` variable and, if present, outputs a JSON object containing an "oid" key with a corresponding system reference URL value.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| code | string | An OID code to be mapped to a FHIR system reference |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| JSON object | object | Contains an "oid" key with the mapped system reference URL |

#### Internal Logic
1. Check if `code` exists using an `{{#if code}}` conditional.
2. If `code` exists, output a JSON object with an "oid" key.
3. Use a series of conditional statements to match the `code` against known OIDs and output the corresponding FHIR system reference URL.
4. If no specific match is found, use a fallback logic to generate a URL based on the code format.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| Handlebars | Template engine used for conditional logic and string manipulation |

## Error Handling
This template does not implement explicit error handling. If an unknown `code` is provided, it will fall through to the last condition, which generates a generic URL based on the code format.

## Performance Considerations
The template uses a long series of conditional checks, which may impact performance for large datasets. Consider optimizing this structure if performance becomes an issue, possibly by using a lookup table or a more efficient matching algorithm.