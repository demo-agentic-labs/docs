---
title: "AllergyStatus.hbs"
---

## High-level description
This Handlebars template file defines a mapping for allergy status codes from CDA (Clinical Document Architecture) to FHIR (Fast Healthcare Interoperability Resources) format. It translates specific CDA allergy status codes to their corresponding FHIR AllergyIntolerance status codes.

## Symbols

### Conditional Statements
#### Description
The template uses Handlebars conditional statements to map CDA allergy status codes to FHIR AllergyIntolerance status codes.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| code | string | The CDA allergy status code to be mapped |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| status | string | The corresponding FHIR AllergyIntolerance status code |

#### Internal Logic
The template checks the input `code` against four possible values and returns the corresponding FHIR status:
1. If `code` is 'active', it returns "active"
2. If `code` is 'aborted', it returns "resolved"
3. If `code` is 'completed', it returns "resolved"
4. If `code` is 'suspended', it returns "inactive"

If the input `code` doesn't match any of these conditions, no output is generated.

## Dependencies
This template relies on the Handlebars templating engine for its functionality.
| Dependency | Purpose |
|:-----------|:--------|
| Handlebars | Templating engine used for conditional logic and output generation |

## Notes
1. The file includes a comprehensive copyright notice at the beginning, indicating that it's part of a larger project (Metriport Inc.) and incorporates work from Microsoft Corporation.
2. The mapping is not exhaustive and only covers four specific status codes. Any other input will result in no output.
3. The 'aborted' and 'completed' CDA status codes are both mapped to 'resolved' in FHIR, which might indicate a simplification of the status in the FHIR model.