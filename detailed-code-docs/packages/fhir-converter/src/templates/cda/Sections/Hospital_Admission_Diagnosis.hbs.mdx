---
title: "Hospital_Admission_Diagnosis.hbs"
---

## High-level description
This Handlebars template is designed to process and transform Clinical Document Architecture (CDA) data related to hospital admission diagnoses into FHIR (Fast Healthcare Interoperability Resources) Condition resources. It extracts relevant information from the CDA structure and generates corresponding FHIR resources and references.

## Code Structure
The template uses nested Handlebars helpers to navigate through the CDA structure, extract diagnosis information, and generate FHIR Condition resources along with their subject references.

## Symbols

### Main Template
#### Description
The main template iterates through CDA sections with a specific template ID to find hospital admission diagnoses and generate corresponding FHIR resources.

#### Internal Logic
1. Uses `getFirstCdaSectionsByTemplateId` to find the relevant CDA section.
2. Iterates through entries in the section.
3. For each entry, processes observation data to create Condition resources.
4. Generates subject references for each Condition resource.

### Partial: Resources/Condition.hbs
#### Description
This partial is called to generate a FHIR Condition resource based on the CDA observation data.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| conditionEntry | Object | The CDA observation data for the condition |
| ID | String | A generated UUID for the Condition resource |

### Partial: References/Condition/subject.hbs
#### Description
This partial generates a subject reference for the Condition resource, linking it to a Patient resource.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| ID | String | The UUID of the Condition resource |
| REF | String | The reference to the Patient resource |

### Helper: generateUUID
#### Description
Generates a UUID based on the input string.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| input | String | The input string used to generate the UUID |

### Helper: evaluate
#### Description
Evaluates another Handlebars template within the current context.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| template | String | The path to the template to be evaluated |
| obj | Object | The object to be passed to the evaluated template |

## Dependencies
This template relies on several other Handlebars templates and helpers:
| Dependency | Purpose |
|:-----------|:--------|
| Resources/Condition.hbs | Generates FHIR Condition resources |
| References/Condition/subject.hbs | Generates subject references for Condition resources |
| Utils/GeneratePatientId.hbs | Generates a patient ID |

Note: The actual implementation of these dependencies is not provided in the given code snippet.