---
title: "Complications.hbs"
---

## High-level description
This Handlebars template file is designed to generate FHIR Condition resources from CDA (Clinical Document Architecture) data. It specifically focuses on extracting complication-related information from a CDA document and transforming it into FHIR-compliant Condition resources.

## Symbols

### Main Template
#### Description
The main template iterates through complication entries in a specific CDA section and generates corresponding FHIR Condition resources along with their subject references.

#### Internal Logic
1. It uses the `getFirstCdaSectionsByTemplateId` helper to retrieve the CDA section with the template ID '2.16.840.1.113883.10.20.22.2.37', which corresponds to the Complications section.
2. For each entry in this section:
   - It generates a Condition resource using the `Resources/Condition.hbs` partial template.
   - It creates a subject reference for the Condition using the `References/Condition/subject.hbs` partial template.

#### Performance Considerations
The template uses the `toArray` helper to ensure that the entries are processed as an array, which is important for handling cases where there might be a single entry or multiple entries.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| Resources/Condition.hbs | Partial template for generating FHIR Condition resources |
| References/Condition/subject.hbs | Partial template for creating subject references for Condition resources |
| Utils/GeneratePatientId.hbs | Helper template for generating patient IDs |

## Configuration
The template uses a specific CDA template ID for identifying the Complications section:
| Option | Type | Value | Description |
|:-------|:-----|:------|:------------|
| CDA Template ID | string | 2.16.840.1.113883.10.20.22.2.37 | Identifies the Complications section in the CDA document |

## Error Handling
The template does not implement explicit error handling. It relies on the underlying Handlebars engine and helper functions to manage potential errors.

## TODOs
There are no explicit TODOs in this template.