---
title: "DischargeSummary.hbs"
---

## High-level description
This Handlebars template file, `DischargeSummary.hbs`, defines the structure of a FHIR Bundle resource representing a discharge summary. It includes various sections such as allergies, diagnoses, and procedures, combining them into a comprehensive discharge summary document.

## Code Structure
The template creates a FHIR Bundle resource with a "batch" type. It includes multiple partial templates for different sections of the discharge summary, as well as a DocumentReference resource at the end.

## Symbols

### FHIR Bundle Resource
#### Description
The main structure of the template, which creates a FHIR Bundle resource of type "batch".

#### Internal Logic
1. Defines the resourceType as "Bundle"
2. Sets the type to "batch"
3. Creates an "entry" array that will contain all the resources for the discharge summary

### Partial Templates
#### Description
The template includes several partial templates for different sections of the discharge summary.

#### Internal Logic
- Includes required sections:
  - Header
  - Allergies and Adverse Reactions
  - Hospital Discharge Diagnosis
- Includes optional sections:
  - Functional Status
  - Hospital Admission Diagnosis
  - Problems
  - Procedures
  - Vital Signs
  - Social History
  - Immunization
  - Family History
  - Hospital Discharge Medications

### DocumentReference Resource
#### Description
Creates a DocumentReference resource at the end of the Bundle.

#### Internal Logic
Uses the `Resources/DocumentReference.hbs` partial template to create the DocumentReference resource. It passes the following parameters:
- `docref`: Set to the `msg` variable
- `ID`: Generated using `generateUUID` function with the stringified `msg` as input

## Dependencies
This template relies on several partial Handlebars templates, which are referenced using the `{{&gt;TemplateName}}` syntax.

## Configuration
The template doesn't define any explicit configuration options. However, the inclusion of optional sections suggests that there might be some configuration mechanism to determine which sections should be included in the final document.

## Error Handling
There's no explicit error handling in this template. Error handling would likely be managed by the Handlebars rendering engine or the system using this template.

## Notes
1. The template includes a detailed copyright notice at the beginning, indicating that it incorporates work from Microsoft Corporation and is licensed under AGPLv3.
2. The use of partial templates allows for modular construction of the discharge summary, making it easier to maintain and customize the document structure.
3. The template uses the `generateUUID` helper function to create a unique ID for the DocumentReference resource, ensuring that each generated document has a unique identifier.

This template serves as a high-level structure for creating a FHIR Bundle representing a discharge summary, with the actual content being populated by the various partial templates it includes.