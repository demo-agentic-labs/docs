---
title: "Overview"
---

## High-level description
This directory contains Handlebars templates for generating FHIR Specimen resources as part of a CDA to FHIR conversion process. Each template focuses on a specific aspect of the Specimen resource, such as collection details, container information, parent references, processing additives, requests, and subject references.

## What does it do?
These templates work together to create structured JSON representations of FHIR Specimen resources. They allow for the dynamic insertion of specific data (like IDs and references) into predefined FHIR-compliant structures. This process is crucial in converting Clinical Document Architecture (CDA) data into FHIR format, ensuring that specimen-related information is accurately represented in the FHIR standard.

## Key Files
1. `collection.collector.hbs`: Generates a Specimen resource focusing on the collector information within the collection details.
2. `container.additiveReference.hbs`: Creates a Specimen resource with a container that has an additive reference.
3. `parent.hbs`: Produces a Specimen resource with a parent reference.
4. `processing.additive.hbs`: Generates a Specimen resource with processing additive information.
5. `request.hbs`: Creates a Specimen resource with a request reference.
6. `subject.hbs`: Produces a Specimen resource with a subject reference.

Each of these templates is responsible for a specific part of the Specimen resource, allowing for modular and flexible resource creation.

## Dependencies
These templates are designed to work with:
1. Handlebars templating engine: Used to process the templates and insert dynamic values.
2. FHIR Converter system: The broader system that utilizes these templates for CDA to FHIR conversions.

## Configuration
While the templates themselves don't have explicit configuration options, they expect certain inputs to be provided when rendered:

| Input | Description |
|:------|:------------|
| ID    | The unique identifier for the Specimen resource |
| REF   | A reference to another resource (e.g., collector, additive, parent, subject) |

These inputs are used to populate the generated JSON structures with specific data for each Specimen resource.

## Notes
1. All files in this directory include a comprehensive copyright and license notice, indicating that they are part of the Metriport Inc. project but incorporate work from Microsoft Corporation.
2. The templates generate partial JSON structures, often with trailing commas, suggesting they are meant to be part of larger FHIR resource bundles.
3. Each template focuses on a specific aspect of the Specimen resource, allowing for modular composition of complete resources.
4. The templates follow FHIR resource structure guidelines, ensuring compatibility with the FHIR standard.
5. Error handling is not explicitly implemented in these templates, assuming that required input values will be provided during the rendering process.

Here's an example of how the `subject.hbs` template generates a JSON structure:

```json
{
  "resource": {
    "resourceType": "Specimen",
    "id": "{{ID}}",
    "subject": {
      "reference": "{{REF}}"
    }
  },
}
```

This modular approach allows for flexible and efficient creation of Specimen resources during the CDA to FHIR conversion process, with each template handling a specific aspect of the resource structure.