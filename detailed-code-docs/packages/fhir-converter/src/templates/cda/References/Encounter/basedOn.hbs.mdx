---
title: "basedOn.hbs"
---

## High-level description
This Handlebars template file defines the structure for creating a FHIR Encounter resource with a `basedOn` reference. It's designed to be used in a FHIR converter, specifically for handling CDA (Clinical Document Architecture) to FHIR conversions.

## Symbols

### Encounter Resource Template
#### Description
This template creates a JSON structure for a FHIR Encounter resource. It includes the `basedOn` field, which is used to reference another resource that this encounter is based on.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| ID   | String | The unique identifier for the Encounter resource |
| REF  | String | The reference to the resource that this encounter is based on |

#### Outputs
The output is a JSON object representing a partial FHIR Encounter resource with the `basedOn` field populated.

#### Internal Logic
1. The template creates a JSON object with a `resource` property.
2. Inside `resource`, it sets the `resourceType` to "Encounter".
3. It uses the `{{ID}}` placeholder to set the `id` of the Encounter.
4. In the `basedOn` array, it creates an object with a `reference` property, using the `{{REF}}` placeholder.

## Dependencies
This template is likely part of a larger FHIR conversion system and may depend on:
| Dependency | Purpose |
|:-----------|:--------|
| Handlebars | Template engine for generating the JSON structure |
| FHIR Converter | The broader system this template is a part of |

## Configuration
This template doesn't include any explicit configuration options. The `ID` and `REF` values are expected to be provided when the template is rendered.

## Notes
1. The file includes a comprehensive copyright and license notice at the top, indicating it's part of a larger project by Metriport Inc., with some components originally from Microsoft Corporation.
2. The template is specifically designed for CDA to FHIR conversions, as indicated by its location in the file structure (`packages/fhir-converter/src/templates/cda/References/Encounter/`).
3. This template only defines a partial Encounter resource, focusing on the `basedOn` field. It's likely used in conjunction with other templates to build a complete Encounter resource.
4. The use of Handlebars (indicated by the `{{}}` syntax) allows for dynamic content insertion when the template is rendered.