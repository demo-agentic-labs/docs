---
title: "reasonReference.hbs"
---

## High-level description
This Handlebars template file defines the structure for creating a FHIR Encounter resource with a reasonReference field. It's designed to be used in a FHIR converter, specifically for converting CDA (Clinical Document Architecture) data to FHIR format.

## Symbols

### Encounter Resource Template
#### Description
This template creates a FHIR Encounter resource with a reasonReference field. The reasonReference is used to link the encounter to a specific reason or condition that led to the encounter.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| ID | String | The unique identifier for the Encounter resource |
| REF | String | The reference to the reason for the encounter |

#### Outputs
The output is a JSON object representing a FHIR Encounter resource with the following structure:
- `resource`: An object containing the Encounter resource details
  - `resourceType`: Always set to "Encounter"
  - `id`: The unique identifier for the Encounter
  - `reasonReference`: An array containing a single object with a `reference` field

#### Internal Logic
1. The template creates a JSON structure for an Encounter resource.
2. It sets the `resourceType` to "Encounter".
3. It uses the `{{ID}}` placeholder to set the `id` field of the Encounter.
4. It creates a `reasonReference` array with a single object.
5. The `reference` field within the `reasonReference` object is set using the `{{REF}}` placeholder.

## Dependencies
This template is part of a larger FHIR converter system and likely depends on:
| Dependency | Purpose |
|:-----------|:--------|
| Handlebars | Template engine for generating the JSON structure |
| FHIR Specification | Defines the structure and requirements for the Encounter resource |

## Notes
- The template includes a comprehensive copyright and license notice at the top, indicating it's based on work by Microsoft but is now maintained by Metriport Inc. under the AGPLv3 license.
- The template is specifically designed for the CDA to FHIR conversion process, as indicated by its location in the file structure (`packages/fhir-converter/src/templates/cda/References/Encounter/`).
- The `reasonReference` field is an important part of the Encounter resource in FHIR, allowing the encounter to be linked to a specific reason or condition that led to the encounter.