---
title: "basedOn.hbs"
---

## High-level description
This Handlebars template defines a FHIR DeviceRequest resource with a `basedOn` property. It's designed to create a JSON structure for a DeviceRequest that is based on another resource.

## Symbols

### DeviceRequest Template
#### Description
This template creates a JSON structure for a FHIR DeviceRequest resource. It specifically focuses on the `basedOn` property, which indicates that this DeviceRequest is based on another resource.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| ID   | String | The unique identifier for this DeviceRequest |
| REF  | String | The reference to the resource this DeviceRequest is based on |

#### Outputs
The output is a JSON object representing a FHIR DeviceRequest resource with the following structure:
```json
{
    "resource": {
        "resourceType": "DeviceRequest",
        "id": "{{ID}}",
        "basedOn": [
            {
                "reference": "{{REF}}"
            }
        ]
    }
}
```

#### Internal Logic
1. The template sets the `resourceType` to "DeviceRequest".
2. It assigns the provided `{{ID}}` to the `id` field.
3. In the `basedOn` array, it creates an object with a `reference` field, populated by the `{{REF}}` input.

## Dependencies
This template relies on the Handlebars templating engine to process the placeholders ({{ID}} and {{REF}}).

## Configuration
There are no specific configuration options defined in this template.

## Error Handling
This template does not implement any explicit error handling. It assumes that the `ID` and `REF` values will be provided when the template is rendered.

## Notes
1. The template includes a comprehensive copyright and license notice at the top, indicating that it's based on work by Microsoft but is now maintained by Metriport Inc. under the AGPLv3 license.
2. The `basedOn` property is an array, suggesting that a DeviceRequest could potentially be based on multiple resources, although this template only includes one.
3. The JSON structure is not closed with a final curly brace, indicating that this might be part of a larger template or that additional properties could be added after this snippet.