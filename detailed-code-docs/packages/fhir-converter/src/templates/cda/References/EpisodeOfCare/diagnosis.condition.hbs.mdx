---
title: "diagnosis.condition.hbs"
---

## High-level description
This file contains a Handlebars template for generating a FHIR EpisodeOfCare resource with a diagnosis reference. It specifically focuses on creating the diagnosis section of the EpisodeOfCare resource, linking it to a Condition resource.

## Symbols

### EpisodeOfCare Template
#### Description
This template defines the structure for an EpisodeOfCare resource in FHIR format. It includes a diagnosis section that references a Condition resource.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| ID | String | The unique identifier for the EpisodeOfCare resource |
| REF | String | The reference to the associated Condition resource |

#### Outputs
The output is a JSON object representing a partial FHIR EpisodeOfCare resource with a diagnosis section.

#### Internal Logic
1. Creates an EpisodeOfCare resource structure
2. Sets the `resourceType` to "EpisodeOfCare"
3. Assigns the provided `ID` to the resource's `id` field
4. Creates a `diagnosis` array with a single element
5. Within the diagnosis, sets a `condition` object with a `reference` field containing the provided `REF` value

## Dependencies
This template relies on the Handlebars templating engine for variable substitution and rendering.

## Configuration
The template uses two configuration options:
| Option | Type | Description |
|:-------|:-----|:------------|
| ID | String | The identifier for the EpisodeOfCare resource |
| REF | String | The reference to the associated Condition resource |

## Notes
1. This template is part of a larger FHIR conversion system, likely used to transform CDA (Clinical Document Architecture) data into FHIR format.
2. The file includes a comprehensive copyright notice, indicating it's based on work by Microsoft Corporation but is now maintained by Metriport Inc. under the AGPLv3 license.
3. The template generates only a partial EpisodeOfCare resource, focusing specifically on the diagnosis section. It would likely be combined with other templates to create a complete FHIR resource.
4. The structure follows the FHIR specification for EpisodeOfCare resources, particularly in how it represents the diagnosis and its reference to a Condition resource.