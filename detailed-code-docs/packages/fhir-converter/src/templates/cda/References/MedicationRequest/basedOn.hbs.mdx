---
title: "basedOn.hbs"
---

## High-level description
This Handlebars template defines a partial FHIR MedicationRequest resource structure, specifically focusing on the `basedOn` field. It's designed to be used in the context of converting CDA (Clinical Document Architecture) data to FHIR (Fast Healthcare Interoperability Resources) format.

## Symbols

### Handlebars Template
#### Description
This template creates a JSON structure for a MedicationRequest resource with a `basedOn` field. The `basedOn` field is used to reference another resource that this medication request is based on.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| ID   | String | The identifier for the MedicationRequest resource |
| REF  | String | The reference to the resource that this MedicationRequest is based on |

#### Outputs
A JSON object representing a partial MedicationRequest resource with the `basedOn` field populated.

#### Internal Logic
1. Creates a `resource` object with `resourceType` set to "MedicationRequest".
2. Sets the `id` of the resource using the `{{ID}}` input.
3. Creates a `basedOn` array with a single object containing a `reference` field.
4. The `reference` field is populated with the `{{REF}}` input.

## Dependencies
This template relies on the Handlebars templating engine for processing.

## Configuration
There are no specific configuration options defined in this template.

## Notes
1. This template is part of a larger system for converting CDA documents to FHIR resources.
2. The template includes a comprehensive copyright notice, indicating it's based on work by Microsoft but is now licensed under AGPLv3 by Metriport Inc.
3. The structure suggests that this template might be used in conjunction with other templates or in a larger conversion process.
4. The `basedOn` field in FHIR is used to indicate that a request was based on another request or protocol, which is important for tracking the provenance of medical orders.