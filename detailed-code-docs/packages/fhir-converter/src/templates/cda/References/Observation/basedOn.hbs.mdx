---
title: "basedOn.hbs"
---

## High-level description
This Handlebars template file defines a partial FHIR Observation resource structure, specifically focusing on the `basedOn` field. It's designed to be used in the context of converting Clinical Document Architecture (CDA) data to FHIR format.

## Symbols

### Observation Resource Template
#### Description
This template creates a partial FHIR Observation resource with a focus on the `basedOn` field. The `basedOn` field is used to indicate the plan, proposal, or order that this observation fulfills.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| ID | string | The unique identifier for the Observation resource |
| REF | string | The reference to the plan, proposal, or order that this observation is based on |

#### Outputs
The output is a JSON object representing a partial FHIR Observation resource with the `basedOn` field populated.

#### Internal Logic
1. The template creates a JSON object with a `resource` property.
2. Inside the `resource`, it sets the `resourceType` to "Observation".
3. It sets the `id` of the Observation to the provided `{{ID}}`.
4. It creates a `basedOn` array with a single object containing a `reference` property set to the provided `{{REF}}`.

## Dependencies
This template is part of a larger system for converting CDA documents to FHIR format. It likely depends on other templates and helper functions within the FHIR converter project.

## Configuration
This template doesn't include any specific configuration options. The `ID` and `REF` values are expected to be provided when the template is rendered.

## Error Handling
There is no explicit error handling in this template. It assumes that the `ID` and `REF` values will be provided correctly.

## Logging
This template does not implement any logging mechanisms.

## API/Interface Reference
This template is not an API endpoint itself, but it contributes to the creation of FHIR Observation resources, which could be part of a larger API for converting or accessing health data.