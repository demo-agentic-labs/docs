---
title: "context.related.hbs"
---

## High-level description
This Handlebars template defines a partial FHIR DocumentReference resource structure, specifically focusing on the `context.related` field. It's designed to be used in the context of converting Clinical Document Architecture (CDA) documents to FHIR format.

## Symbols

### Template
#### Description
This Handlebars template creates a JSON structure for a FHIR DocumentReference resource, specifically populating the `context.related` field.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| ID | string | The identifier for the DocumentReference resource |
| REF | string | The reference value for the related context |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| JSON | object | A partial FHIR DocumentReference resource JSON structure |

#### Internal Logic
1. The template creates a nested JSON structure representing a FHIR DocumentReference resource.
2. It sets the `resourceType` to "DocumentReference".
3. It uses the `{{ID}}` input to set the `id` field of the resource.
4. Within the `context` object, it creates a `related` array with a single object.
5. This object contains a `reference` field, populated with the `{{REF}}` input.

## Dependencies
This template is part of a larger system for converting CDA documents to FHIR format. It likely depends on other templates and helpers within the FHIR converter project.

## Configuration
There are no explicit configuration options in this template. The behavior is determined by the input variables provided when the template is rendered.

## Error Handling
This template does not include explicit error handling. It assumes that the `ID` and `REF` inputs will be provided and valid when the template is used.

## Notes
1. The template includes a comprehensive copyright and license notice at the top, indicating it's part of a larger project with contributions from both Metriport Inc. and Microsoft Corporation.
2. The template uses Handlebars syntax (`{{}}`) for variable interpolation.
3. The JSON structure is not complete and is likely meant to be combined with other partial structures to form a complete FHIR DocumentReference resource.
4. The `related` array in the `context` object is hardcoded to contain only one item. If multiple related references are needed, the template would need to be modified.