---
title: "basedOn.hbs"
---

## High-level description
This Handlebars template defines a FHIR CommunicationRequest resource with a `basedOn` property. It's designed to be used in the context of converting CDA (Clinical Document Architecture) documents to FHIR (Fast Healthcare Interoperability Resources) format.

## Symbols

### CommunicationRequest Template
#### Description
This template creates a FHIR CommunicationRequest resource with a `basedOn` property. The `basedOn` property is used to reference another resource that this communication request is based on.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| ID | String | The unique identifier for the CommunicationRequest resource |
| REF | String | The reference to the resource that this communication request is based on |

#### Outputs
A JSON object representing a FHIR CommunicationRequest resource with the following structure:
```json
{
    "resource": {
        "resourceType": "CommunicationRequest",
        "id": "{{ID}}",
        "basedOn": [
            {
                "reference": "{{REF}}"
            }
        ]
    }
}
```

#### Internal Logic
1. The template sets the `resourceType` to "CommunicationRequest".
2. It uses the `{{ID}}` placeholder for the resource's `id`.
3. The `basedOn` property is an array with a single object containing a `reference` field, which uses the `{{REF}}` placeholder.

## Dependencies
This template is part of a larger FHIR conversion system and likely depends on:
| Dependency | Purpose |
|:-----------|:--------|
| Handlebars | Template engine for generating the JSON output |

## Notes
1. The file includes a comprehensive copyright notice, indicating that it's part of a larger project involving Metriport Inc. and incorporating work from Microsoft Corporation.
2. The template is specifically designed for the CDA to FHIR conversion process, focusing on the CommunicationRequest resource.
3. The `basedOn` array in this template only includes one reference, but in a real FHIR resource, it could potentially contain multiple references.