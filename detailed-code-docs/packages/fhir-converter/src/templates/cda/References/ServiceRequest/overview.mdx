---
title: "Overview"
---

## High-level description
This directory contains Handlebars templates for creating various aspects of FHIR ServiceRequest resources. These templates are part of a larger FHIR converter system, specifically designed to transform Clinical Document Architecture (CDA) data into FHIR format. Each template focuses on a specific field or reference within a ServiceRequest resource, allowing for modular and flexible construction of FHIR-compliant JSON structures.

## What does it do?
These templates work together to create different parts of a FHIR ServiceRequest resource. A ServiceRequest in FHIR represents a record of a request for a procedure, diagnostic investigation, or other service to be planned, proposed, or ordered. The templates in this directory allow for the creation of various references and fields within a ServiceRequest, such as:

1. The base resource on which the ServiceRequest is based
2. The encounter associated with the request
3. Insurance information related to the request
4. Location references
5. Performers of the requested service
6. Reasons for the request
7. Relevant history
8. Information about requests that this one replaces
9. The requester of the service
10. Specimen information
11. The subject of the request
12. Supporting information

By using these templates, developers can construct a complete ServiceRequest resource piece by piece, depending on the available information in the source CDA document.

## Key Files
1. `basedOn.hbs`: Creates a reference to the resource that this ServiceRequest is based on.
2. `encounter.hbs`: Adds a reference to the associated encounter.
3. `insurance.hbs`: Includes insurance information related to the ServiceRequest.
4. `locationReference.hbs`: Adds location references to the ServiceRequest.
5. `performer.hbs`: Specifies the performer of the requested service.
6. `reasonReference.hbs`: Includes references to the reasons for the request.
7. `relevantHistory.hbs`: Adds relevant historical information to the ServiceRequest.
8. `replaces.hbs`: Indicates if this ServiceRequest replaces another one.
9. `requester.hbs`: Specifies the requester of the service.
10. `specimen.hbs`: Includes specimen information related to the request.
11. `subject.hbs`: Specifies the subject of the ServiceRequest.
12. `supportingInfo.hbs`: Adds supporting information to the ServiceRequest.

Each of these templates focuses on a specific aspect of the ServiceRequest resource, allowing for modular construction of the FHIR resource based on available data.

## Dependencies
These templates rely on the Handlebars templating engine for processing and generating the JSON structures. They are designed to be part of a larger FHIR conversion system, likely integrated with other components that handle the overall conversion process from CDA to FHIR format.

## Configuration
The templates use a consistent pattern of input variables:

1. `ID`: A unique identifier for the ServiceRequest resource.
2. `REF`: A reference to the specific entity (e.g., encounter, insurance, location) related to the ServiceRequest.

These variables are expected to be provided when the templates are rendered, allowing for dynamic content insertion based on the source CDA data.

## Notes
1. All templates in this directory include a comprehensive copyright and license notice, indicating they are part of the Metriport Inc. project but incorporate work from Microsoft Corporation. They are licensed under AGPLv3.
2. The templates are designed to be flexible and reusable, focusing on specific fields of the ServiceRequest resource. This modular approach allows for easy maintenance and updates to individual aspects of the resource without affecting the entire structure.
3. The JSON structures in these templates often include trailing commas, which suggests they might be combined with other partial templates to form complete ServiceRequest resources.
4. There is no explicit error handling in these templates. They assume that the required input variables (ID and REF) will be provided correctly when rendered.
5. These templates are specifically located in the CDA to FHIR conversion templates directory, indicating their primary use in transforming CDA documents to FHIR format.