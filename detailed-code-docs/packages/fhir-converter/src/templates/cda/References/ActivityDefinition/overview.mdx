---
title: "Overview"
---

## High-level description
This directory contains Handlebars templates for generating partial FHIR ActivityDefinition resources. These templates are part of a larger system for converting Clinical Document Architecture (CDA) documents to FHIR format. Each template focuses on a specific aspect of the ActivityDefinition resource, such as location, observation requirements, product references, specimen requirements, and subject references.

## What does it do?
These templates work together to create different parts of an ActivityDefinition resource in FHIR format. An ActivityDefinition describes an action that can be taken in a healthcare context, such as ordering a lab test or administering a medication. The templates in this directory allow for the dynamic generation of various components of an ActivityDefinition, including:

1. Specifying the location where an activity should occur
2. Defining observation requirements for the activity
3. Referencing products associated with the activity
4. Specifying specimen requirements for the activity
5. Referencing the subject of the activity

By using these templates, developers can flexibly generate FHIR-compliant ActivityDefinition resources based on input data from CDA documents or other sources.

## Key Files
1. `location.hbs`: Generates a partial ActivityDefinition with a location reference.
2. `observationRequirement.hbs`: Creates a partial ActivityDefinition with an observation requirement.
3. `observationResultRequirement.hbs`: Produces a partial ActivityDefinition with an observation result requirement.
4. `productReference.hbs`: Generates a partial ActivityDefinition with a product reference.
5. `specimenRequirement.hbs`: Creates a partial ActivityDefinition with a specimen requirement.
6. `subjectReference.hbs`: Produces a partial ActivityDefinition with a subject reference.

Each of these templates follows a similar structure:

```handlebars
{
  "resource": {
    "resourceType": "ActivityDefinition",
    "id": "{{ID}}",
    "specificField": {
      "reference": "{{REF}}"
    }
  }
}
```

Where `specificField` is replaced by the relevant field for each template (e.g., `location`, `observationRequirement`, etc.), and `{{ID}}` and `{{REF}}` are placeholders for dynamic values.

## Dependencies
These templates rely on the Handlebars templating engine for rendering. They are designed to work within the context of the FHIR Converter project, which is used for transforming various healthcare document formats into FHIR resources.

## Configuration
While the templates themselves don't have specific configuration options, they are designed to be flexible through the use of Handlebars placeholders. The primary configuration points are:

1. `{{ID}}`: Used to set the unique identifier for the ActivityDefinition resource.
2. `{{REF}}`: Used to set the reference value for the specific field in each template (e.g., location reference, observation requirement reference, etc.).

These placeholders allow for dynamic generation of ActivityDefinition resources based on input data provided when the templates are rendered.

## Notes
1. These templates are partial representations of ActivityDefinition resources. In a complete FHIR document, multiple templates might be combined to form a full ActivityDefinition resource.
2. The templates adhere to strict JSON formatting, which is crucial for generating valid FHIR resources.
3. Error handling is not explicitly implemented in these templates. It's assumed that input validation and error management are handled by the system using these templates.
4. Each file includes a comprehensive copyright and license notice, indicating that the project is maintained by Metriport Inc. under the AGPLv3 license and incorporates work from Microsoft Corporation.
5. The modular design of these templates allows for easy maintenance and extension of the ActivityDefinition resource generation process.

In summary, this directory provides a set of flexible, reusable templates for generating various components of FHIR ActivityDefinition resources, facilitating the conversion of CDA documents to FHIR format in a modular and maintainable way.