---
title: "detectedIssue.hbs"
---

## High-level description
This Handlebars template defines a partial FHIR MedicationDispense resource structure, specifically focusing on the `detectedIssue` field. It's designed to be used as part of a larger template for converting CDA (Clinical Document Architecture) data to FHIR format.

## Symbols

### MedicationDispense Resource Template
#### Description
This template creates a partial JSON structure for a FHIR MedicationDispense resource, specifically including the `detectedIssue` field.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| ID | String | The unique identifier for the MedicationDispense resource |
| REF | String | The reference to the detected issue |

#### Outputs
A JSON object representing a partial MedicationDispense resource with the following structure:
- `resource`: An object containing:
  - `resourceType`: Always set to "MedicationDispense"
  - `id`: The unique identifier for this resource
  - `detectedIssue`: An array containing a single object with a `reference` field

#### Internal Logic
1. The template sets the `resourceType` to "MedicationDispense".
2. It uses the `{{ID}}` placeholder to set the `id` field.
3. It creates a `detectedIssue` array with a single object.
4. Within this object, it sets the `reference` field using the `{{REF}}` placeholder.

## Dependencies
This template is likely part of a larger system for converting CDA documents to FHIR format. It may depend on:
- Handlebars templating engine
- A FHIR validation system (not explicitly shown in this file)
- A larger template structure that incorporates this partial template

## Configuration
This template doesn't include any explicit configuration options. The behavior is determined by the values passed for `{{ID}}` and `{{REF}}` when the template is rendered.

## Notes
1. This template only defines a partial resource structure. It's likely meant to be combined with other templates or data to form a complete FHIR MedicationDispense resource.
2. The template includes a comprehensive copyright notice, indicating it's based on work by Microsoft but is now part of a project by Metriport Inc., licensed under AGPLv3.
3. The `detectedIssue` array is hardcoded to contain only one item. If multiple detected issues need to be supported, the template would need to be modified to iterate over a collection of references.
4. The template uses a nested structure with `resource` as the top-level key, which suggests it might be designed to be included in a larger FHIR Bundle resource.