---
title: "basedOn.hbs"
---

## High-level description
This Handlebars template defines a partial FHIR (Fast Healthcare Interoperability Resources) ImagingStudy resource with a focus on the `basedOn` field. It's designed to be used in the context of converting CDA (Clinical Document Architecture) data to FHIR format.

## Symbols

### ImagingStudy Resource Template
#### Description
This template creates a partial FHIR ImagingStudy resource structure with the `basedOn` field populated.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| ID | String | The unique identifier for the ImagingStudy resource |
| REF | String | The reference to the resource that this imaging study is based on |

#### Outputs
A JSON object representing a partial FHIR ImagingStudy resource with the following structure:
- `resource`: An object containing:
  - `resourceType`: Always set to "ImagingStudy"
  - `id`: The unique identifier for this resource
  - `basedOn`: An array containing a single object with a `reference` field

#### Internal Logic
1. Sets the `resourceType` to "ImagingStudy"
2. Assigns the provided `ID` to the `id` field
3. Creates a `basedOn` array with a single object
4. Sets the `reference` field of the `basedOn` object to the provided `REF` value

## Dependencies
This template relies on the Handlebars templating engine for rendering.

## Configuration
This template doesn't include any specific configuration options. It uses Handlebars syntax to insert values for `ID` and `REF`.

## Notes
1. This template appears to be part of a larger system for converting CDA documents to FHIR format.
2. The template only defines a partial resource structure, focusing on the `basedOn` field. Other fields of the ImagingStudy resource are not included.
3. The `basedOn` field is always populated with a single reference, even though the FHIR specification allows for multiple references.
4. The copyright notice indicates that this file incorporates work from Microsoft Corporation but is now maintained by Metriport Inc. under the AGPLv3 license.