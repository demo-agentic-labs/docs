---
title: "subjectMedicalHistory.hbs"
---

## High-level description
This Handlebars template defines a partial FHIR (Fast Healthcare Interoperability Resources) AdverseEvent resource structure, specifically focusing on the `subjectMedicalHistory` field. It's designed to be used in the context of converting Clinical Document Architecture (CDA) data to FHIR format.

## Symbols

### AdverseEvent Resource Template
#### Description
This template creates a partial structure for an AdverseEvent resource in FHIR format. It specifically populates the `subjectMedicalHistory` field with a reference to another resource.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| ID   | String | The unique identifier for the AdverseEvent resource |
| REF  | String | The reference to the subject's medical history resource |

#### Outputs
The output is a JSON object representing a partial AdverseEvent resource with the following structure:
- `resource`: An object containing the AdverseEvent details
  - `resourceType`: Set to "AdverseEvent"
  - `id`: The unique identifier for this resource
  - `subjectMedicalHistory`: An array containing a single object with a `reference` field

#### Internal Logic
1. The template sets the `resourceType` to "AdverseEvent".
2. It uses the provided `ID` to set the `id` field of the resource.
3. The `subjectMedicalHistory` field is populated with an array containing a single object.
4. This object has a `reference` field, which is set to the provided `REF` value.

## Dependencies
This template is part of a larger FHIR conversion system and likely depends on:
| Dependency | Purpose |
|:-----------|:--------|
| Handlebars | Template engine used for generating the JSON structure |

## Notes
1. This template appears to be part of a larger system for converting CDA documents to FHIR format, specifically handling adverse event information.
2. The template only defines a partial resource structure, focusing on the `subjectMedicalHistory` field. It's likely used in conjunction with other templates to build a complete AdverseEvent resource.
3. The file includes a detailed copyright notice, indicating it's based on work by Microsoft but is now maintained by Metriport Inc. under the AGPLv3 license.