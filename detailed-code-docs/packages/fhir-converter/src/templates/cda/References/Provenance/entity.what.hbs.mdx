---
title: "entity.what.hbs"
---

## High-level description
This Handlebars template defines a FHIR Provenance resource with an entity reference. It's designed to create a JSON structure representing a Provenance resource, which is used to track the origins and history of healthcare data.

## Symbols

### Provenance Resource Template
#### Description
This template creates a JSON structure for a FHIR Provenance resource. It includes an entity with a reference to another resource.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| ID   | string | The unique identifier for the Provenance resource |
| REF  | string | The reference to the entity associated with this Provenance |

#### Outputs
The output is a JSON object representing a FHIR Provenance resource with the following structure:
- `resource`: An object containing the Provenance resource details
  - `resourceType`: Set to "Provenance"
  - `id`: The unique identifier for this Provenance resource
  - `entity`: An array containing a single object with:
    - `what`: An object with a `reference` property pointing to the associated entity

#### Internal Logic
1. The template creates a JSON structure for a Provenance resource.
2. It sets the `resourceType` to "Provenance".
3. It uses the `ID` input to set the `id` of the Provenance resource.
4. In the `entity` array, it creates an object with a `what` property.
5. The `what` property contains a `reference` that uses the `REF` input to specify the associated entity.

## Dependencies
This template relies on the Handlebars templating engine to process the placeholders ({{ID}} and {{REF}}).

## Configuration
There are no specific configuration options defined in this template.

## Notes
1. The template includes a comprehensive copyright and license notice at the beginning, indicating that it's based on work by Microsoft Corporation but is now maintained by Metriport Inc. under the AGPLv3 license.
2. The template is designed to be part of a larger FHIR conversion system, likely used to transform data from Clinical Document Architecture (CDA) format to FHIR format.
3. The structure of the output JSON is compliant with the FHIR Provenance resource specification, focusing on the entity reference aspect.