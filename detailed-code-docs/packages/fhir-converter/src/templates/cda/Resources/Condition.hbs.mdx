---
title: "Condition.hbs"
---

## High-level description
This Handlebars template file is used to generate a FHIR Condition resource from CDA (Clinical Document Architecture) data. It defines the structure and mapping of CDA elements to FHIR Condition fields, including identifiers, clinical status, code, onset, and category.

## Code Structure
The template uses Handlebars syntax to conditionally include and format data. It references helper functions and partial templates (e.g., `DataType/Identifier.hbs`, `DataType/Coding.hbs`) to handle specific data types and complex structures.

## Symbols

### Main Template
#### Description
The main template defines the structure of a FHIR Condition resource, including its fullUrl, resource type, and various properties.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| ID | string | Unique identifier for the Condition resource |
| conditionEntry | object | CDA data structure containing condition information |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| Condition | object | FHIR Condition resource |

#### Internal Logic
1. Sets the fullUrl and resource type
2. Maps identifiers from CDA to FHIR format
3. Determines clinical status based on CDA observation templates
4. Maps condition code and text
5. Sets onset information (either as age or period)
6. Sets category
7. Defines the request method and URL for the resource

## Side Effects
This template doesn't have direct side effects, but it relies on external partial templates and helper functions to process and format data.

## Dependencies
The template uses several partial templates and helper functions, including:
- DataType/Identifier.hbs
- DataType/Coding.hbs
- DataType/CodeableConcept.hbs
- Utils/PeriodOrDefaultPeriod.hbs
- DataType/Age.hbs

## Error Handling
The template uses Handlebars' built-in error handling. If a referenced property is undefined, it will be omitted from the output rather than causing an error.

## Logging
This template does not implement any specific logging mechanisms.

## TODOs
The template includes comments indicating missing fields that could be added in the future:
- Missing meta
- Missing extension
- Missing recordedDate