---
title: "ProcedureNote.hbs"
---

## High-level description
This Handlebars template defines the structure of a FHIR Bundle resource for a Procedure Note. It includes various sections related to a medical procedure, such as complications, diagnoses, and indications, as well as optional sections like allergies, family history, and medications.

## Code Structure
The template creates a FHIR Bundle resource with a "batch" type. It includes multiple entries, each representing different sections of the Procedure Note. The structure is composed of required and optional sections, followed by a DocumentReference resource creation.

## Symbols

### Bundle Resource
#### Description
The main FHIR resource being created, which contains all the entries for the Procedure Note.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| msg | Object | The input data used to populate the template |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| Bundle | FHIR Resource | A FHIR Bundle containing all the entries for the Procedure Note |

#### Internal Logic
1. Sets the resourceType to "Bundle"
2. Sets the type to "batch"
3. Includes an array of entries, which are populated by partial templates

### Required Sections
#### Description
These are the mandatory sections of the Procedure Note.

#### Internal Logic
1. Includes the Header partial template
2. Includes the Complications section
3. Includes the Postprocedure Diagnosis section
4. Includes the Procedure Indications section

### Optional Sections
#### Description
These are additional sections that may be included in the Procedure Note if relevant data is available.

#### Internal Logic
1. Includes the Allergies and Adverse Reactions section
2. Includes the Family History section
3. Includes the Medication section
4. Includes the Procedures section
5. Includes the Social History section
6. Includes the Procedure Findings section
7. Includes the Procedure Anesthesia section

### DocumentReference Resource
#### Description
Creates a DocumentReference resource for the Procedure Note.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| msg | Object | The input data used to populate the template |
| ID | String | A generated UUID based on the stringified msg object |

#### Internal Logic
Calls the DocumentReference partial template, passing the msg object and a generated UUID as parameters.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| Handlebars | Template engine used for generating the FHIR Bundle |

## Notes
- The template uses partial templates (indicated by `{{&gt;TemplateName.hbs}}`) to include various sections and resources.
- The `generateUUID` helper function is used to create a unique identifier for the DocumentReference resource.
- The template is designed to be flexible, allowing for the inclusion of optional sections based on the available data.