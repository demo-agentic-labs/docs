---
title: "RelatedPersonCodeFromText.hbs"
---

## High-level description
This Handlebars template file, `RelatedPersonCodeFromText.hbs`, is designed to map textual descriptions of personal relationships to standardized codes and display names. It uses a comprehensive set of conditional statements to match input text with corresponding relationship codes, display names, and code systems.

## Symbols

### personalRelationshipRoleTypeCodeSystem
#### Description
This is a helper function that presumably returns the code system used for personal relationship role types. Its implementation is not shown in this file.

### Main Template
#### Description
The main template is an anonymous block that uses the `personalRelationshipRoleTypeCodeSystem` helper to set the `codeSystem` variable. It then uses a series of conditional statements to match the input text (accessed via `../text`) with predefined relationship descriptions.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| text | string | The textual description of the relationship |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| code | object | An object containing the standardized code, display name, and code system for the relationship. Some entries also include a gender field. |

#### Internal Logic
1. The template first calls the `personalRelationshipRoleTypeCodeSystem` helper to set the `codeSystem`.
2. It then uses a series of `{{#if (eq ../text "...")}}` statements to compare the input text with predefined relationship descriptions.
3. For each match, it outputs a JSON object with the following properties:
   - `code`: A standardized code for the relationship
   - `displayName`: The human-readable name of the relationship
   - `codeSystem`: The code system used (from the helper function)
   - `gender`: (optional) The gender associated with the relationship, if applicable
4. If no match is found, it defaults to a generic "Other" code.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| Handlebars | Template engine used for conditional logic and output generation |

## Notes
- The template covers a wide range of family relationships, including extended family, in-laws, and step-relations.
- It also includes codes for non-family relationships such as spouse, significant other, and friend.
- The template is case-sensitive in its matching, so input text must exactly match the predefined strings.
- Some relationships include gender information, which could be useful for further processing or analysis.
- The default case ("Other") allows for handling of unrecognized or custom relationship descriptions.

This template is likely part of a larger system for standardizing and coding personal relationship data, possibly in a healthcare or legal context where precise relationship definitions are important.