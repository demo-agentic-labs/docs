---
title: "test_create_patient.py"
---

## High-level description
This code defines a test function `test_create_patient()` that demonstrates the creation of a patient using the Metriport API. It sets up the necessary environment variables, constructs a patient object with sample data, and sends a request to create the patient using the Metriport client.

## Symbols

### `test_create_patient()`
#### Description
This function tests the creation of a patient using the Metriport API. It initializes the Metriport client, constructs a patient object with sample data, and sends a request to create the patient.

#### Inputs
This function doesn't take any inputs.

#### Outputs
This function doesn't return any value, but it prints the ID of the created patient.

#### Internal Logic
1. Load environment variables using `dotenv`.
2. Initialize the Metriport client with the API key and base URL.
3. Create a `BasePatient` object with sample patient data, including personal identifiers and address.
4. Call the `metriport.medical.patient.create()` method to create the patient.
5. Print the ID of the created patient.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| os | Accessing environment variables |
| dotenv | Loading environment variables from a .env file |
| generated.client | Importing the Metriport client |
| generated.resources | Importing data types and enums for patient creation |

## Configuration
The code uses the following environment variables:
| Option | Type | Description |
|:-------|:-----|:------------|
| API_KEY | string | API key for authenticating with the Metriport API |
| FACILITY_ID | string | ID of the facility where the patient is being created |
| BASE_URL | string | Base URL for the Metriport API |

## Error Handling
The code doesn't implement explicit error handling. Any exceptions raised during the API call will propagate up.

## Logging
The code uses a simple print statement to log the ID of the created patient.

## TODOs
- Consider adding error handling to manage potential API errors or network issues.
- Implement assertions to verify the success of the patient creation and validate the response.
- Consider parameterizing the test function to allow for different patient data inputs.