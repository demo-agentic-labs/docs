---
title: "Overview"
---

## High-level description
This directory contains a suite of test scripts for the Metriport Python SDK, focusing on various functionalities of the Metriport API. The tests cover operations such as creating patients, matching patients, creating document references, listing documents, starting bulk downloads, and executing consolidated queries. These tests serve as both functional verification and usage examples for the SDK.

## What does it do?
The test suite in this directory performs the following main functions:

1. Patient Management:
   - Creates new patient records with sample data
   - Retrieves patient information (both individual and all patients)
   - Matches patients based on demographic data

2. Document Handling:
   - Creates document references
   - Lists documents for a specific patient
   - Initiates bulk document downloads

3. Consolidated Queries:
   - Starts consolidated queries for patient data
   - Checks the status of these queries
   - Counts patient data after query completion

4. API Interaction:
   - Demonstrates proper usage of the Metriport SDK
   - Shows how to authenticate and make various API calls
   - Illustrates handling of API responses

These tests interact with the Metriport API, creating, retrieving, and manipulating data to ensure the SDK functions correctly and to provide developers with examples of how to use the SDK in their own applications.

## Key Files
1. `test_create_patient.py`: Demonstrates creating a new patient record using the Metriport API.

2. `test_get_patient.py`: Contains tests for retrieving patient information, both for all patients and a specific patient.

3. `test_match_patient.py`: Shows how to match a patient using demographic data.

4. `test_create_document_reference.py`: Illustrates the creation of a document reference in the medical records system.

5. `test_list_documents.py`: Demonstrates how to list documents for a specific patient.

6. `test_start_bulk_download.py`: Shows how to initiate a bulk download of document URLs for a patient.

7. `test_start_consolidated_query.py`: Demonstrates starting a consolidated query, checking its status, and counting patient data.

8. `test_create_patient_consolidated.py`: Shows how to create a consolidated patient record with an Appointment resource.

9. `test_start_doc_query.py`: Illustrates how to start a document query for a specific patient and facility.

Each of these files contains test functions that interact with different aspects of the Metriport API, providing coverage for various SDK functionalities.

## Dependencies
The test suite relies on the following main dependencies:

1. `generated.client`: The Metriport SDK client, used for interacting with the API.
2. `generated.resources`: Provides data types and resource definitions for the Metriport API.
3. `dotenv`: Used for loading environment variables from a .env file.
4. `os`: Used for accessing environment variables.
5. `time`: Used in some tests for introducing delays.
6. `json`: Used for pretty-printing JSON responses in some tests.

## Configuration
The tests are configured using environment variables, typically loaded from a .env file. Common configuration options include:

| Option | Type | Description |
|:-------|:-----|:------------|
| API_KEY | string | API key for authenticating with the Metriport API |
| PATIENT_ID | string | ID of a test patient used in various tests |
| FACILITY_ID | string | ID of a facility used in some tests |
| BASE_URL | string | Base URL for the Metriport API |

These environment variables are used to initialize the Metriport client and provide necessary identifiers for API calls.

In conclusion, this test suite serves as a comprehensive set of examples and functional tests for the Metriport Python SDK, covering a wide range of API functionalities and demonstrating proper usage of the SDK for various healthcare data operations.