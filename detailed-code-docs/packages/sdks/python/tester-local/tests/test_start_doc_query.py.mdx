---
title: "test_start_doc_query.py"
---

## High-level description
This code is a test script for the `start_doc_query` functionality of the Metriport API. It loads environment variables, initializes a Metriport client, and executes a document query for a specific patient and facility.

## Symbols

### `test_start_doc_query`
#### Description
This function is a test case that demonstrates how to use the Metriport SDK to start a document query for a specific patient and facility.

#### Inputs
This function doesn't take any inputs directly, but it uses environment variables loaded from a `.env` file.

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| None | None | The function doesn't return a value, but it prints the response from the API call. |

#### Internal Logic
1. Creates a Metriport client instance using the API key and base URL from environment variables.
2. Calls the `start_query` method of the `medical.document` resource, passing the patient ID and facility ID.
3. Prints the response from the API call.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| os | Used to access environment variables |
| dotenv | Used to load environment variables from a .env file |
| generated.client | Imports the Metriport client class |
| generated.resources.medical | Imports the medical resource for document queries |

## Configuration
The script uses environment variables for configuration:
| Option | Type | Default | Description |
|:-------|:-----|:--------|:------------|
| API_KEY | string | None | API key for authenticating with Metriport |
| PATIENT_ID | string | None | ID of the patient for the document query |
| FACILITY_ID | string | None | ID of the facility for the document query |
| BASE_URL | string | None | Base URL for the Metriport API |

## Error Handling
This script does not implement explicit error handling. Any exceptions raised during the API call will propagate up and potentially cause the test to fail.

## Logging
The script uses a simple `print` statement to log the response from the API call. This is not a formal logging mechanism but serves to display the result of the test.