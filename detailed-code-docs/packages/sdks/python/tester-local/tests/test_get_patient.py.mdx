---
title: "test_get_patient.py"
---

## High-level description
This code contains two test functions that interact with the Metriport medical API to retrieve patient information. The first function retrieves all patients, while the second retrieves a specific patient using an ID.

## Symbols

### `test_get_all_patients()`
#### Description
This function tests the ability to retrieve a list of all patients from the Metriport medical API.

#### Inputs
None

#### Outputs
None (prints patient IDs to console)

#### Internal Logic
1. Creates a Metriport client instance using the API key and base URL from environment variables.
2. Calls the `list()` method on the `metriport.medical.patient` object to retrieve all patients.
3. Iterates through the returned patients and prints each patient's ID.

### `test_get_specific_patient()`
#### Description
This function tests the ability to retrieve a specific patient from the Metriport medical API using a patient ID.

#### Inputs
None

#### Outputs
None (prints the specific patient's ID to console)

#### Internal Logic
1. Creates a Metriport client instance using the API key and a hardcoded base URL ("http://localhost:8080").
2. Calls the `get()` method on the `metriport.medical.patient` object, passing the `patient_id` from environment variables.
3. Prints the ID of the retrieved patient.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| os | Accessing environment variables |
| dotenv | Loading environment variables from a .env file |
| generated.client | Importing the Metriport client |

## Configuration
The code uses environment variables for configuration:
| Option | Type | Description |
|:-------|:-----|:------------|
| API_KEY | string | API key for authenticating with the Metriport API |
| PATIENT_ID | string | ID of a specific patient to retrieve |
| BASE_URL | string | Base URL for the Metriport API (used in `test_get_all_patients()`) |

Note: `test_get_specific_patient()` uses a hardcoded base URL ("http://localhost:8080") instead of the `BASE_URL` environment variable.

## TODOs
- Consider using the `BASE_URL` environment variable in `test_get_specific_patient()` instead of the hardcoded value for consistency.
- Add error handling for cases where the API calls might fail or return unexpected results.
- Consider adding assertions to validate the returned data, making these true unit tests rather than just API interaction examples.