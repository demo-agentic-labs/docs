---
title: "Overview"
---

## High-level description
This directory contains a set of Node.js scripts that demonstrate the usage of the Metriport Medical API SDK. These scripts cover various functionalities such as creating consolidated patient data, querying patient information, retrieving document query status, and listing patients. The scripts serve as examples and tests for interacting with the Metriport Medical API using the TypeScript SDK.

## What does it do?
The scripts in this directory perform the following tasks:

1. Create consolidated patient data by sending a FHIR Bundle to the API.
2. Query consolidated patient data and check the status of consolidated queries.
3. Retrieve the status of document queries for specific patients.
4. List patients associated with a facility and retrieve information for individual patients.

These scripts demonstrate how to initialize the Metriport Medical API client, make various API calls, and handle the responses. They serve as practical examples for developers integrating the Metriport Medical API into their applications.

## Key Files

1. `consolidated-create.ts`: Demonstrates creating consolidated patient data using the Metriport Medical API.
2. `consolidated-query.ts`: Shows how to query consolidated patient data, start new queries, and check query statuses.
3. `document-query.ts`: Retrieves the status of a document query for a specific patient.
4. `patient-list.ts`: Retrieves information for a single patient and lists all patients for a given facility.

Each file contains a `main()` function that serves as the entry point for the script, initializing the API client and making the relevant API calls.

## Dependencies
The scripts rely on the following main dependencies:

1. `@metriport/api-sdk`: Provides the `MetriportMedicalApi` class for interacting with the Metriport Medical API.
2. `@metriport/core/util/env-var`: Offers utility functions for accessing environment variables.
3. `dotenv`: Used to load environment variables from a `.env` file.

## Configuration
All scripts use environment variables for configuration. The common variables across the scripts are:

- `API_URL`: The base URL for the Metriport API
- `API_KEY`: The API key for authenticating with the Metriport API
- `PATIENT_ID`: The ID of the patient for various operations

Additional configuration variables specific to certain scripts include:

- `FACILITY_ID`: The ID of the facility to list patients for (used in `patient-list.ts`)

These environment variables should be set in a `.env` file or provided through the system environment.

## Error Handling
The scripts generally do not implement extensive error handling. Errors from API calls or environment variable retrieval will typically propagate up the call stack. The `patient-list.ts` script does include a try-catch block to log any errors that occur during API calls.

In summary, this directory provides a set of example scripts that demonstrate various functionalities of the Metriport Medical API, serving as both documentation and testing tools for developers working with the API.