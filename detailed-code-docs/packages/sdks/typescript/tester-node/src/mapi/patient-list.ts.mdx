---
title: "patient-list.ts"
---

## High-level description
This script is designed to test the Metriport Medical API SDK by demonstrating the usage of patient-related API endpoints. It retrieves information for a single patient and lists all patients for a given facility using the SDK.

## Code Structure
The script imports necessary dependencies, sets up environment variables, and defines a main function that initializes the Metriport Medical API client and makes API calls to retrieve patient data.

## Symbols

### `main`
#### Description
The `main` function is an asynchronous function that serves as the entry point for the script. It initializes the Metriport Medical API client and makes API calls to retrieve patient data.

#### Internal Logic
1. Initialize the Metriport Medical API client with the provided API token and base address.
2. Call the `getPatient` method to retrieve information for a single patient.
3. Log the retrieved single patient information.
4. Call the `listPatients` method to retrieve all patients for a given facility.
5. Log the retrieved list of patients.
6. Catch and log any errors that occur during the API calls.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| dotenv | Load environment variables from a .env file |
| @metriport/api-sdk | Metriport Medical API SDK for making API calls |
| @metriport/core/util/env-var | Utility function for retrieving environment variables |

## Configuration
| Option | Type | Default | Description |
|:-------|:-----|:--------|:------------|
| API_URL | string | N/A | The base URL for the Metriport API |
| API_KEY | string | N/A | The API key for authentication |
| FACILITY_ID | string | N/A | The ID of the facility to list patients for |
| PATIENT_ID | string | N/A | The ID of the patient to retrieve information for |

## Error Handling
The script uses a try-catch block to catch and log any errors that occur during the API calls.

## TODOs
- Move this script to an E2E test on the API SDK itself.