---
title: "verify-webhook-types.ts"
---

## High-level description
This code defines and tests webhook payload types for patient document data and consolidated data in a medical context. It includes type definitions, sample payloads, and unit tests to ensure type correctness.

## Symbols

### `documentDataPayload`
#### Description
A constant that represents a sample payload for patient document data webhook.

#### Inputs
None (constant declaration)

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| documentDataPayload | WebhookPatientDocumentDataPayload | Sample payload for patient document data |

#### Internal Logic
- Defines a payload structure with metadata and patient information
- Includes an array of patients with their documents
- Uses `MapiWebhookStatus.Completed` for status

### `consolidatedDataPayload`
#### Description
A constant that represents a sample payload for patient consolidated data webhook.

#### Inputs
None (constant declaration)

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| consolidatedDataPayload | WebhookPatientConsolidatedDataPayload | Sample payload for patient consolidated data |

#### Internal Logic
- Defines a payload structure with metadata and patient information
- Includes a FHIR Bundle with an Appointment resource
- Uses `MapiWebhookStatus.Completed` for status

### `describe("Webhook types", ...)`
#### Description
A test suite that verifies the correctness of webhook payload types.

#### Internal Logic
Contains two test cases:
1. Verifies `WebhookPatientDocumentDataPayload` type
2. Verifies `WebhookPatientConsolidatedDataPayload` type

Both tests use type assertions and a simple truthy check to ensure the payloads match their respective types.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| WebhookPatientDocumentDataPayload | Type definition for document data payload |
| WebhookPatientConsolidatedDataPayload | Type definition for consolidated data payload |
| MapiWebhookStatus | Enum for webhook status |

## References
- `WebhookPatientDocumentDataPayload` (imported from "../src/api/resources/medical/resources/webhooks/types/WebhookPatientDocumentDataPayload")
- `WebhookPatientConsolidatedDataPayload` (imported from "../src/api/resources/medical/resources/webhooks/types/WebhookPatientConsolidatedDataPayload")
- `MapiWebhookStatus` (imported from "../src/api/resources/medical/resources/webhooks/types/MapiWebhookStatus")

These types are likely defined in separate files within the project structure.

## Notes
1. The code uses TypeScript for type checking and Jest for testing.
2. The payloads include detailed medical information structures, following FHIR (Fast Healthcare Interoperability Resources) standards.
3. The tests are type-level checks, ensuring that the sample payloads conform to their respective type definitions.
4. The `parseInt` function is used for size values, which might be unnecessary if the types already expect numbers.

This code serves as a type verification and example of how to structure webhook payloads for medical data in the system, which can be valuable for both documentation and testing purposes.