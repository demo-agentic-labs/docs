---
title: "check-doc-queries-shared.ts"
---

## High-level description
This code defines types related to the validation of document query progress for patients. It includes types for representing the progress of individual validation steps (convert, download), the overall validation result for a patient, and a collection of validation results for multiple patients.

## Code Structure
This code defines several types that represent different aspects of document query validation results:
- `SingleValidationResult`: Represents the result of a single validation step (convert or download).
- `GroupedValidationResult`: Groups the validation results for both convert and download steps for a single patient.
- `PatientsWithValidationResult`: A dictionary that maps patient IDs to their respective `GroupedValidationResult`.

## References
- `Progress`: Imported from `@metriport/core/domain/document-query`. Represents the progress of a document query.

## Symbols
### `MainProgressProps`
#### Description
A type alias that extracts the `total` and `status` properties from the `Progress` type.

#### Inputs
N/A

#### Outputs
N/A

#### Internal Logic
This is a type alias, not a function. It uses `keyof Pick&lt;Progress, "total" | "status"&gt;` to create a type that represents the keys of a type that only includes the `total` and `status` properties of the `Progress` type.

### `SingleValidationResult`
#### Description
A union type representing the possible validation results for a single step (convert or download) of a document query.

#### Inputs
N/A

#### Outputs
N/A

#### Internal Logic
This is a type alias, not a function. It defines a union type that can be one of the following:
- `MainProgressProps`: Indicates that the validation should check the `total` and `status` properties.
- `"both"`: Indicates that both the `total` and `status` properties are invalid.
- `undefined`: Indicates that the validation passed.

### `GroupedValidationResult`
#### Description
An interface representing the grouped validation results for both the convert and download steps of a document query for a single patient.

#### Inputs
N/A

#### Outputs
N/A

#### Internal Logic
This is an interface, not a function. It defines the following properties:
- `cxId`: The ID of the context associated with the patient.
- `convert`: The validation result for the convert step.
- `download`: The validation result for the download step.

### `PatientsWithValidationResult`
#### Description
A type alias representing a dictionary where keys are patient IDs and values are `GroupedValidationResult` objects.

#### Inputs
N/A

#### Outputs
N/A

#### Internal Logic
This is a type alias, not a function. It uses `Record&lt;string, GroupedValidationResult&gt;` to define a dictionary type where keys are strings (patient IDs) and values are `GroupedValidationResult` objects.
