---
title: "getSettings.ts"
---

## High-level description
The `getSettings.ts` file provides functions for retrieving customer settings. It includes two functions: `getSettings` which retrieves settings by ID and `getSettingsOrFail` which retrieves settings by ID and throws an error if not found.

## References
- `NotFoundError` from "../../errors/not-found"
- `Settings` from "../../models/settings"

## Symbols

### `getSettings`
#### Description
This function attempts to retrieve customer settings from the database based on the provided ID.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| \{ id \} | \{ id: string \} | An object containing the ID of the settings to retrieve. |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| settings | Promise&lt;Settings \| null&gt; | A promise that resolves to the found Settings object or null if not found. |

#### Internal Logic
The function uses the `Settings.findByPk(id)` method to query the database for a Settings record matching the provided ID.

### `getSettingsOrFail`
#### Description
This function retrieves customer settings from the database based on the provided ID. If no settings are found, it throws a `NotFoundError`.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| \{ id \} | \{ id: string \} | An object containing the ID of the settings to retrieve. |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| settings | Promise&lt;Settings&gt; | A promise that resolves to the found Settings object. |

#### Internal Logic
1. It first calls the `getSettings` function to attempt to retrieve the settings by ID.
2. If the `getSettings` function returns null (no settings found), it throws a `NotFoundError` with a message indicating the settings were not found.
3. If settings are found, it returns the settings object.
