---
title: "conversion-error.ts"
---

## High-level description
This code defines a custom error class `ConversionError` that extends the `MetriportError` class. It is designed to handle errors related to data conversion operations in the Metriport API, providing a standardized way to create and manage conversion-specific errors with additional context.

## Code Structure
The `ConversionError` class extends `MetriportError`, inheriting its properties and methods. It sets a specific HTTP status code and provides a customizable error message with optional cause and additional information.

## References
- `MetriportError`: The base error class that `ConversionError` extends.
- `httpStatus`: A module used to set the HTTP status code for the error.

## Symbols

### ConversionError
#### Description
A custom error class for handling conversion-related errors in the Metriport API. It extends the `MetriportError` class and sets a specific HTTP status code.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| message | string | The error message (optional, defaults to a generic message) |
| cause | unknown | The underlying cause of the error (optional) |
| additionalInfo | Record&lt;string, string&gt; | Additional information about the error (optional) |

#### Internal Logic
1. Sets a static `prefix` property to the name of the error class.
2. In the constructor:
   - Calls the superclass constructor with the provided message, cause, and additionalInfo.
   - Sets the `status` property to `INTERNAL_SERVER_ERROR` (500).
   - Sets the `name` property to the name of the constructor.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| httpStatus | Provides HTTP status codes, used to set the error status |

## Error Handling
This class is part of the error handling mechanism for the Metriport API. It specifically handles conversion-related errors, providing a consistent structure for error reporting and management.

## Notes
1. The class uses a static `prefix` property, which is set to the prototype name of the class. This prefix is used in the default error message.
2. The constructor encourages providing a specific error message by mentioning it in a comment.
3. The error status is set to `INTERNAL_SERVER_ERROR` (500), indicating that conversion errors are treated as server-side issues.
4. This class is part of a larger error handling system, as evidenced by its extension of `MetriportError`.

## TODOs
The code includes a comment suggesting that clients should attempt to provide a specific error message when using this class. This could be considered a soft TODO for users of this class.