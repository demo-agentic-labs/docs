---
title: "Overview"
---

## High-level description
This directory contains custom error classes and error handling utilities for the Metriport API. It provides a set of specialized error types that extend the base `MetriportError` class, each designed to handle specific error scenarios such as bad requests, unauthorized access, version mismatches, and webhook failures. The directory also includes utility functions for processing and formatting error messages.

## What does it do?
The error classes and utilities in this directory serve several important functions in the Metriport API:

1. Error Classification: It provides a way to categorize different types of errors that can occur during API operations. For example, `BadRequestError` for invalid input, `UnauthorizedError` for authentication issues, and `NotFoundError` for missing resources.

2. HTTP Status Code Mapping: Each error class is associated with an appropriate HTTP status code, ensuring that API responses accurately reflect the nature of the error.

3. Error Context: The custom error classes allow for the inclusion of additional context and information about the error, which can be crucial for debugging and error reporting.

4. Standardized Error Handling: By using these custom error classes throughout the API, developers can implement consistent error handling and reporting mechanisms.

5. Asynchronous Error Processing: The `processAsyncError` function provides a way to handle errors in asynchronous operations, including logging and error capturing for further analysis.

6. Error Message Formatting: Utility functions like `getErrorMessage` help in converting error objects into readable string formats for logging and reporting purposes.

## Key Files

1. `metriport-error.ts`: Defines the base `MetriportError` class that all other custom error classes extend. It provides a foundation for error handling with properties like `status` and `additionalInfo`.

2. `bad-request.ts`, `unauthorized.ts`, `forbidden.ts`, `not-found.ts`: These files define specific error classes for common HTTP error scenarios, each mapped to the appropriate HTTP status code.

3. `version-mismatch.ts`: Defines a `VersionMismatchError` class for handling concurrent update conflicts.

4. `webhook.ts`: Contains a `WebhookError` class specifically for errors related to webhook operations.

5. `index.ts`: Provides utility functions for error handling and logging, including `getErrorMessage` and `processAsyncError`.

6. `conversion-error.ts`: Defines a `ConversionError` class for handling errors related to data conversion operations.

7. `not-implemented.ts`: Contains a `NotImplementedError` class for indicating unimplemented functionality.

8. `unsupported-data-type.ts`: Defines an `UnsupportedDataTypeError` class for cases where a provider doesn't support a specific data type.

## Dependencies
The error classes and utilities in this directory primarily depend on:

1. `http-status` (version not specified): Used to provide standardized HTTP status codes for error responses.
2. `@metriport/core/util` (version not specified): Provides logging utilities.
3. `@metriport/shared` (version not specified): Contains the base `MetriportError` class.

These dependencies were chosen to ensure consistent error handling and HTTP status code usage across the API, as well as to leverage existing logging and error reporting mechanisms.

## Configuration
While there are no specific configuration files for the error handling system, some error classes and utilities may use environment variables or configuration settings from other parts of the application. For example, the `processAsyncError` function in `index.ts` uses a `Config.isDevelopment()` check to determine the logging behavior.

The error classes are designed to be flexible, allowing developers to provide custom error messages and additional information when instantiating them. This configurability enables more detailed and context-specific error reporting throughout the API.

In summary, this directory provides a robust and extensible error handling system for the Metriport API, enabling developers to create, process, and report errors in a consistent and informative manner across the application.