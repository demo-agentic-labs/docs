---
title: "api-factory.ts"
---

## High-level description
This code defines functions for creating and managing FHIR API clients for different purposes, including customer-specific access and tenant management. It provides a way to create FHIR API clients with the appropriate configuration based on the customer ID or for administrative purposes.

## Code Structure
The main symbols in this code are two functions: `makeFhirApi` and `makeFhirAdminApi`. These functions are wrappers around core implementations from the `@metriport/core` package, configured with the appropriate FHIR server URL obtained from the `Config` object.

## Symbols

### `makeFhirApi`
#### Description
This function returns an instance of the FHIR API client configured to access a specific customer's data.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| cxId | string | The customer ID for which to create the FHIR API client |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| FhirClient | FhirClient | An instance of the FHIR API client configured for the specified customer |

#### Internal Logic
The function calls `coreMakeFhirApi` from the core package, passing the customer ID and the FHIR server URL obtained from the `Config` object.

### `makeFhirAdminApi`
#### Description
This function returns an instance of the FHIR API client configured for tenant management on the FHIR server.

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| FhirAdminClient | FhirAdminClient | An instance of the FHIR API client configured for tenant management |

#### Internal Logic
The function calls `coreMakeFhirAdminApi` from the core package, passing the FHIR server URL obtained from the `Config` object.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| @metriport/core | Provides core implementations of FHIR API clients |
| Config | Provides configuration settings, including the FHIR server URL |

## Notes
- The `makeFhirAdminApi` function is marked with a warning comment indicating that it should only be used for tenant management purposes.
- Both functions rely on the `Config` object to obtain the FHIR server URL, ensuring consistent configuration across the application.