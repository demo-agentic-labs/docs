---
title: "Overview"
---

## High-level description
This directory contains code for managing Health Information Exchange (HIE) operations in a medical data system. It includes functions for patient discovery, document querying, data retrieval, and progress tracking across different HIEs, primarily focusing on CommonWell and Carequality.

## What does it do?
The code in this directory handles various aspects of HIE operations:

1. Patient Discovery: Initiates and manages patient discovery processes across multiple HIEs.
2. Document Querying: Schedules, executes, and tracks progress of document queries for patients.
3. Data Retrieval: Manages the retrieval of patient documents from HIEs.
4. Progress Tracking: Updates and aggregates progress information for various HIE operations.
5. Demographics Management: Updates and checks patient demographic information across HIEs.
6. Cross-HIE Operations: Handles operations that span multiple HIEs, such as aggregating data and managing exclusion lists.

These functions work together to facilitate the exchange of patient information between different healthcare systems, ensuring data consistency and tracking the progress of various operations.

## Key Files

1. `run-or-schedule-patient-discovery.ts`: Orchestrates the patient discovery process across multiple HIEs.
2. `set-doc-query-progress.ts`: Manages the progress of document queries, including aggregation and status updates.
3. `tally-doc-query-progress.ts`: Updates and tallies document query progress for specific HIE sources.
4. `update-patient-link-demographics.ts`: Handles updating patient demographic information across HIEs.
5. `carequality-analytics.ts`: Provides analytics functions for Carequality operations.
6. `check-patient-link-demographics.ts`: Checks for new patient demographic links across HIEs.
7. `cross-hie-ids.ts`: Manages cross-HIE organization IDs and exclusion lists.
8. `get-hie-initiator.ts`: Determines the appropriate HIE initiator for queries.
9. `reset-doc-query-progress.ts`: Resets document query progress for specified HIE sources.
10. `schedule-document-query.ts`: Handles scheduling of document queries for patients.

## Dependencies
The code in this directory relies on several key dependencies:

1. @metriport/core: Provides core domain models, types, and utilities.
2. @metriport/ihe-gateway-sdk: Offers types and utility functions for IHE Gateway responses.
3. Sequelize: Used for database operations and transactions.
4. Jest: Testing framework used for unit tests.

## Configuration
While there are no specific configuration files in this directory, the code relies on broader system configurations, particularly for database connections and external service integrations. Environment variables and system-wide configurations likely influence the behavior of these functions.

The code makes extensive use of database transactions to ensure data consistency when updating patient records and progress information. It also interacts with external HIE systems, which may require specific configurations for authentication and data exchange protocols.

This directory plays a crucial role in managing the complex interactions between different health information exchanges, ensuring that patient data is accurately discovered, queried, and retrieved across multiple systems. The functions here form the backbone of the system's ability to aggregate and manage medical information from diverse sources.