---
title: "Overview"
---

## High-level description
This directory contains unit tests for various functions related to Health Information Exchange (HIE) operations in a medical data system. The tests cover functionalities such as patient discovery, document querying, data retrieval, and patient data management across different HIEs like CommonWell and Carequality.

## What does it do?
The tests in this directory verify the correct behavior of functions that:
1. Check and update patient link demographics across HIEs
2. Schedule and reset patient discovery requests
3. Manage document query progress and status
4. Set document retrieval start times
5. Aggregate and set HIE progresses for document queries
6. Verify successful outbound document query responses
7. Determine the appropriate HIE initiator for queries
8. Run or schedule patient discovery across HIEs

These tests ensure that the system correctly handles patient data, manages HIE interactions, and maintains accurate progress and status information for various operations.

## Key Files
1. `carequality-analytics.test.ts`: Tests for analyzing Carequality document query responses.
2. `check-patient-link-demographics.test.ts`: Verifies the function that checks patient link demographics across HIEs.
3. `doc-progress-tests.ts`: Contains utility functions for creating and manipulating Progress objects used in document query operations.
4. `get-hie-initiator.test.ts`: Tests functions related to determining the appropriate HIE initiator for queries.
5. `run-or-schedule-patient-discovery.test.ts`: Tests functions for running or scheduling patient discovery across HIEs.
6. `schedule-patient-discovery.test.ts`: Verifies functions for scheduling and resetting patient discovery requests.
7. `set-doc-query-progress.test.ts`: Tests functions for managing and aggregating document query progress.
8. `set-doc-query-start.test.ts`: Verifies the function that sets the start time for document queries.
9. `set-doc-retrieve-start.test.ts`: Tests the function that sets the document retrieval start time.
10. `update-patient-link-demographics.test.ts`: Tests the function for updating patient link demographics.

## Dependencies
The tests in this directory rely on several shared dependencies:

| Dependency | Purpose |
|:-----------|:--------|
| Jest | Testing framework used for all unit tests |
| @metriport/core | Provides core domain models and types |
| @faker-js/faker | Generates fake data for testing purposes |
| Various internal modules | Provide models, utilities, and functions being tested |

## Configuration
The tests use Jest's configuration, which is likely defined in a separate Jest configuration file for the entire project. No specific configuration files are present in this directory.

The tests make extensive use of mocking, particularly for database operations and external service calls, to isolate the functions being tested and ensure consistent test environments.