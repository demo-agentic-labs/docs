---
title: "connector.ts"
---

## High-level description
This code defines the structure and interface for the FHIR Converter, which is responsible for converting medical data from one format to FHIR (Fast Healthcare Interoperability Resources). It includes an enum for source data types, a request type, and an interface for the converter connector.

## Symbols

### `FHIRConverterSourceDataType`
#### Description
An enum that defines the types of source data that can be converted. Currently, it only includes 'cda' (Clinical Document Architecture).

### `FHIRConverterRequest`
#### Description
A type definition for the request object used in the FHIR conversion process. It includes various properties needed for the conversion.

#### Properties
| Name | Type | Description |
|:-----|:-----|:------------|
| cxId | string | Customer ID |
| patientId | string | Patient ID |
| documentId | string | Document ID |
| sourceType | FHIRConverterSourceDataType | Type of source data |
| payload | string | The data to be converted |
| template | string | The template to be used for conversion |
| unusedSegments | string | Handling of unused segments |
| invalidAccess | string | Handling of invalid access |
| requestId | string (optional) | Request ID |
| source | MedicalDataSource (optional) | Source of the medical data |

### `FHIRConverterConnector`
#### Description
An interface that defines the structure for the FHIR converter connector. It includes a single method for requesting a conversion.

#### Methods
| Name | Inputs | Outputs | Description |
|:-----|:-------|:--------|:------------|
| requestConvert | req: FHIRConverterRequest | Promise&lt;void&gt; | Requests a conversion of the provided data |

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| @metriport/core/external/index | Imports the MedicalDataSource enum |

## References
This code is referenced and used in other parts of the codebase, particularly:
1. `FHIRConverterConnectorSQS` in `connector-sqs.ts`, which implements the `FHIRConverterConnector` interface.
2. `convertCDAToFHIR` function in `converter.ts`, which uses the `FHIRConverterConnector` to request conversions.

The `MedicalDataSource` enum is imported from the core package and used as an optional property in the `FHIRConverterRequest` type.

This code serves as a foundation for the FHIR conversion process in the larger medical data processing system, defining the structure of requests and the interface for the conversion service.