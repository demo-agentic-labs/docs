---
title: "person-shared.ts"
---

## High-level description
This code defines a utility function `isEnrolledBy` that checks if a given person is enrolled by a specific organization in the CommonWell Health Alliance system. It's part of a larger system for managing patient data and interactions with the CommonWell network.

## Symbols

### `isEnrolledBy`
#### Description
This function determines whether a given person is enrolled by a specific organization in the CommonWell system.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| orgName | string | The name of the organization to check against |
| person | Person | The person object to check for enrollment |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| result | boolean | True if the person is enrolled by the specified organization, false otherwise |

#### Internal Logic
The function checks if the `person` object has an `enrollmentSummary` property, and if so, whether its `enroller` field matches the provided `orgName`. This comparison determines if the person was enrolled by the specified organization.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| @metriport/commonwell-sdk | Provides the `Person` type used in the function signature |

## References
This function is used in other parts of the codebase, specifically:
- In `packages/api/src/external/commonwell/admin/patch-patient-duplicates.ts`, it's used to check if a person is enrolled by the organization before unenrolling them.

## Notes
1. The function uses optional chaining (`?.`) to safely access nested properties, preventing errors if the `enrollmentSummary` is undefined.
2. This function is part of a larger system for managing patient data and interactions with the CommonWell network, as evidenced by its usage in the `patchDuplicatedPersonsForPatient` function in the related code snippets.
3. The `Person` type is defined in the CommonWell SDK, as shown in the related code snippet from `packages/commonwell-sdk/src/models/person.ts`.