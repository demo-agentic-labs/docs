---
title: "patient.ts"
---

Here's a high-level description of the target file:

The file `packages/api/src/external/commonwell/patient.ts` contains functions and utilities for managing patient data in relation to the CommonWell Health Alliance system. It includes operations for creating, updating, retrieving, and deleting patient information, as well as handling patient links and document queries. The code interacts with CommonWell's API, manages patient discovery processes, and handles various aspects of patient data synchronization between Metriport's system and CommonWell.

Key functionalities include:
1. Patient creation and update in CommonWell
2. Patient data retrieval and deletion
3. Patient link management (creation, retrieval, and deletion)
4. Document querying and processing
5. Patient discovery and link status management
6. Validation of CommonWell operations based on patient data and system configuration

The file also includes utility functions for data conversion, error handling, and integration with other parts of the Metriport system. It serves as a crucial component in the medical data interoperability features of the Metriport API, specifically for interactions with the CommonWell Health Alliance network.