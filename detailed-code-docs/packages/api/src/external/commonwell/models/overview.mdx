---
title: "Overview"
---

## High-level description
This code defines a Sequelize model for CommonWell patient data. It extends a base model and implements an interface for CommonWell patient data, providing a structure for storing and managing patient information related to the CommonWell Health Alliance network.

## Code Structure
The main symbol in this code is the `CwPatientDataModel` class, which extends `BaseModel` and implements `CwPatientData`. It defines the structure and setup for the CommonWell patient data model.

## Symbols

### `CwPatientDataModel`
#### Description
This class represents the Sequelize model for CommonWell patient data. It extends `BaseModel` and implements `CwPatientData`, providing a structure for storing and retrieving patient information related to the CommonWell Health Alliance network.

#### Inputs
This class doesn't have explicit inputs, but it defines the structure of the data it will store.

#### Outputs
The class itself doesn't produce outputs, but it defines the structure for querying and retrieving CommonWell patient data from the database.

#### Internal Logic
The class defines three main properties:
1. `id`: A string representing the unique identifier for the patient data.
2. `cxId`: A string representing the customer's identifier.
3. `data`: An object of type `CwData` containing the actual patient data.

The `setup` static method initializes the model with Sequelize, defining the table structure and options:
- It uses `BaseModel.attributes()` to include standard attributes like `id`, `createdAt`, and `updatedAt`.
- It adds `cxId` as a string field, mapped to the database column `cx_id`.
- It defines `data` as a JSONB field, allowing for flexible storage of patient data.
- It sets the table name to `cw_patient_data`.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| sequelize | ORM for database interactions |
| @metriport/core | Core types and interfaces (implied by the imports) |

## References
This model is likely used in other parts of the application for CRUD operations on CommonWell patient data. It's referenced in the following related files:
- `packages/api/src/external/commonwell/command/cw-patient-data/create-cw-data.ts`
- `packages/api/src/models/db.ts`
- `packages/api/src/external/commonwell/__tests__/cw.update-patient-data.test.ts`
- `packages/api/src/command/medical/patient/get-patient-facility-matches.ts`

These files use the `CwPatientDataModel` for operations like creating, updating, and querying CommonWell patient data.

## Configuration
The model uses the following configuration:
- Table name: `cw_patient_data`
- Underscored naming convention for database columns
- Timestamps are enabled (`createdAt` and `updatedAt`)

Note: The actual database connection and global Sequelize options are likely configured elsewhere in the application.