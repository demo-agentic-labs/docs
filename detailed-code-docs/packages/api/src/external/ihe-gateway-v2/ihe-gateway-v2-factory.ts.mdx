---
title: "ihe-gateway-v2-factory.ts"
---

## High-level description
The `makeIHEGatewayV2` function is a factory function that returns an instance of the `IHEGatewayV2` interface. It determines whether to return a direct or asynchronous implementation based on the current environment (development or other).

## Code Structure
The `makeIHEGatewayV2` function utilizes the `Config.isDev()` function to determine the appropriate implementation of the `IHEGatewayV2` interface. It returns an instance of `IHEGatewayV2Direct` in a development environment and `IHEGatewayV2Async` otherwise.

## References
- `Config`: Used to check if the application is running in a development environment.
- `IHEGatewayV2Async`: Asynchronous implementation of the `IHEGatewayV2` interface.
- `IHEGatewayV2Direct`: Direct implementation of the `IHEGatewayV2` interface.
- `IHEGatewayV2`: Interface defining the contract for IHE Gateway V2 interactions.

## Symbols

### `makeIHEGatewayV2`
#### Description
This function is a factory method that returns an instance of the `IHEGatewayV2` interface based on the current environment.

#### Inputs
None

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| (return value) | `IHEGatewayV2` | An instance of either `IHEGatewayV2Direct` or `IHEGatewayV2Async` depending on the environment. |

#### Internal Logic
1. Checks if the application is running in a development environment using `Config.isDev()`.
2. If in development, returns a new instance of `IHEGatewayV2Direct`.
3. Otherwise, returns a new instance of `IHEGatewayV2Async`.
