---
title: "outbound-document-retrieval-resp.ts"
---

## High-level description
The code defines a Sequelize model named `OutboundDocumentRetrievalRespModel` representing the result of an outbound document retrieval request in a healthcare integration context. It stores details like request ID, patient ID, status, and the actual response data received from an external system.

## Code Structure
The `OutboundDocumentRetrievalRespModel` extends the `BaseOutboundRespModel` and implements the `OutboundDocumentRetrievalResp` interface. It defines the model's structure, attributes, and configuration for Sequelize.

## References
- `OutboundDocumentRetrievalResp` from `@metriport/ihe-gateway-sdk`: This interface likely defines the structure of the document retrieval response data.
- `BaseOutboundRespModel`: This base class likely provides common attributes and functionality for outbound response models.
- `ModelSetup`: This type likely defines a function to set up Sequelize models.

## Symbols

### `OutboundDocumentRetrievalRespModel`
#### Description
This class represents a database model for storing the results of outbound document retrieval requests. It inherits common attributes from `BaseOutboundRespModel` and defines how the data should be stored in the database.

#### Inputs
This class does not directly accept inputs in its methods. However, it is configured to store data received from an external system.

#### Outputs
This class does not directly return outputs. However, it provides an interface to access stored data in the database.

#### Internal Logic
The `setup` method initializes the model with Sequelize, defining its attributes and database table configuration. 

- `id`: A UUID serving as the primary key.
- `requestId`: A UUID referencing the original outbound request.
- `patientId`: A UUID referencing the patient associated with the request.
- `status`: A string indicating the status of the retrieval request.
- `data`: A JSONB field to store the actual response data from the external system.
- `createdAt`: A timestamp indicating when the record was created.

The model is configured to use the table name "document_retrieval_result" and to automatically manage the `createdAt` timestamp.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| sequelize | ORM for interacting with the database |
| DataTypes | Used to define data types for model attributes |
| IHEOutboundDocumentRetrievalResp | Interface defining the structure of the document retrieval response data |
| BaseOutboundRespModel | Base class providing common attributes and functionality |
| ModelSetup | Type defining a function to set up Sequelize models |
