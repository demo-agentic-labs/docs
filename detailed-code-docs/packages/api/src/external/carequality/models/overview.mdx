---
title: "Overview"
---

## High-level description
This directory contains model definitions for the Carequality integration within the API. It includes models for directory entries, patient data, and various outbound response types (document query, document retrieval, and patient discovery). These models define the structure and behavior of data entities used in Carequality-related operations, facilitating interaction with the database and external systems.

## What does it do?
The models in this directory serve as the backbone for storing and managing Carequality-related data within the application. They enable the following functionalities:

1. Storing Carequality Directory entries, which contain information about healthcare organizations participating in the Carequality network.
2. Managing patient data specific to Carequality interactions, including links and demographics history.
3. Handling responses from outbound operations such as document queries, document retrievals, and patient discovery requests.

These models allow the application to persist and retrieve data related to Carequality operations, ensuring that information is properly structured and easily accessible for processing and analysis.

## Key Files

1. `cq-directory.ts`:
   - Defines the `CQDirectoryEntryModel` for storing Carequality Directory entries.
   - Includes fields for organization details, service URLs, location information, and management data.

2. `cq-patient-data.ts`:
   - Implements the `CQPatientDataModel` for managing Carequality-specific patient data.
   - Stores patient identifiers and associated Carequality data in a JSONB field.

3. `outbound-document-query-resp.ts`:
   - Contains the `OutboundDocumentQueryRespModel` for handling document query responses.
   - Stores query status, patient information, and the raw response data from Carequality gateways.

4. `outbound-document-retrieval-resp.ts`:
   - Defines the `OutboundDocumentRetrievalRespModel` for managing document retrieval responses.
   - Similar to the document query model, but specific to document retrieval operations.

5. `outbound-patient-discovery-resp.ts`:
   - Implements the `OutboundPatientDiscoveryRespModel` for storing patient discovery responses.
   - Captures the results of patient lookup operations in the Carequality network.

## Dependencies
The models in this directory rely on several key dependencies:

1. Sequelize (version not specified):
   - Used as the ORM for defining model structures and interacting with the database.
   - Provides data types and model configuration options.

2. @metriport/carequality-sdk (version not specified):
   - Supplies interfaces and types specific to Carequality operations.
   - Used in the `CQDirectoryEntryModel` for typing organization data.

3. @metriport/ihe-gateway-sdk (version not specified):
   - Provides interfaces for outbound response types used in document query, retrieval, and patient discovery models.

These dependencies were likely chosen to provide a robust ORM solution (Sequelize) and to ensure type safety and consistency with Carequality and IHE (Integrating the Healthcare Enterprise) standards through the custom SDK packages.

## Configuration
The models in this directory use Sequelize's configuration options to define table names, column mappings, and other database-related settings. Key configuration points include:

- Table names are explicitly set for each model (e.g., "cq_directory_entry", "document_query_result").
- Timestamps are managed differently for each model:
  - Some models use Sequelize's automatic timestamp management.
  - Others, like `OutboundDocumentQueryRespModel`, manually define a `createdAt` field.
- Column names are generally set to use snake_case through the `underscored: true` option.
- JSONB data types are used for storing complex data structures (e.g., the `data` field in `CQPatientDataModel`).

These configuration choices ensure that the models align with the database schema and provide flexibility for storing varied data types required for Carequality operations.