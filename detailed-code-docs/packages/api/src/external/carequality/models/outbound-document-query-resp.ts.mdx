---
title: "outbound-document-query-resp.ts"
---

## High-level description
The code defines a Sequelize model named `OutboundDocumentQueryRespModel` representing the result of a document query to an external Carequality gateway. It stores the response data, including document references, gateway information, and the status of the query.

## Code Structure
The `OutboundDocumentQueryRespModel` extends the `BaseOutboundRespModel` and implements the `OutboundDocumentQueryResp` interface. It defines the model's name, attributes, and configuration for Sequelize.

## References
- `OutboundDocumentQueryResp` from `@metriport/ihe-gateway-sdk` - Interface for the outbound document query response.
- `BaseOutboundRespModel` from `../../../models/medical/outbound-resp` - Base model for outbound responses.
- `ModelSetup` from `../../../models/_default` - Type definition for model setup function.

## Symbols

### `OutboundDocumentQueryRespModel`
#### Description
This class defines the Sequelize model for storing outbound document query responses from a Carequality gateway. It inherits properties from `BaseOutboundRespModel` and implements the `OutboundDocumentQueryResp` interface.

#### Inputs
N/A - This is a Sequelize model definition, not a function.

#### Outputs
N/A - This is a Sequelize model definition, not a function.

#### Internal Logic
The `setup` method initializes the model with its attributes and configuration:
- **Attributes:**
  - `id`: UUID, primary key.
  - `requestId`: UUID, foreign key to the original request.
  - `patientId`: UUID, foreign key to the patient.
  - `status`: String, status of the query.
  - `data`: JSONB, raw response data from the Carequality gateway.
  - `createdAt`: Date, timestamp of the record creation.
- **Configuration:**
  - `sequelize`: Sequelize instance.
  - `freezeTableName`: Prevents Sequelize from pluralizing the table name.
  - `underscored`: Uses snake_case for column names.
  - `timestamps`: Disables automatic timestamps for update operations.
  - `createdAt`: Specifies the `createdAt` attribute.
  - `tableName`: Sets the table name to `document_query_result`.

## Side Effects
This code defines a Sequelize model, which will interact with the database when used. It doesn't have any immediate side effects on its own.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| sequelize | ORM for interacting with the database. |
| @metriport/ihe-gateway-sdk | Provides the interface for the outbound document query response. |
| ../../../models/medical/outbound-resp | Provides the base model for outbound responses. |
| ../../../models/_default | Provides the type definition for the model setup function. |
