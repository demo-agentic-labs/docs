---
title: "cq.demographics.test.ts"
---

## High-level description
The `cq.demographics.test.ts` file contains unit tests for the `patientResourceToNormalizedLinkDemographics` function, which is responsible for transforming patient data from a `PatientResource` object into a normalized `LinkDemographics` object. This transformation is part of the integration with CareQuality.

## References
- `patientResourceToNormalizedLinkDemographics` function from `../patient-demographics`

## Symbols
### `describe(CQ demographics, ...)`
#### Description
This block defines a test suite named "CQ demographics" using the Jest testing framework. It contains a single test case that verifies the normalization of patient demographics data.

#### Internal Logic
- **Arrange:** Defines a sample `patientResource` object representing patient data.
- **Act:** Calls the `patientResourceToNormalizedLinkDemographics` function with the sample data.
- **Assert:** Uses `expect` assertions to verify that the returned `linkDemographics` object matches the expected normalized format. The assertions check for correct normalization of date of birth, gender, names, addresses, phone numbers, and emails. It also verifies that empty arrays are returned for driver's licenses and SSNs, as these fields are marked as TODOs in the implementation.

## Dependencies
- `@metriport/ihe-gateway-sdk`: Provides the `PatientResource` type.
- `@metriport/core/domain/patient-demographics`: Provides the `LinkDemographics` type.
- Jest: Testing framework used for assertions and test runner.
