---
title: "make-document-reference-with-metriport-id.ts"
---

## High-level description
The code defines two helper functions, `makeDocumentReference` and `makeDocumentReferenceWithMetriportId`, used in tests to create mock objects of `DocumentReference` and `DocumentReferenceWithMetriportId` types respectively. These functions take optional parameters to customize the generated mock data, using default values from Faker.js if not provided.

## Code Structure
Both `makeDocumentReference` and `makeDocumentReferenceWithMetriportId` are independent functions. However, `makeDocumentReferenceWithMetriportId` internally calls `makeDocumentReference` to generate the base `DocumentReference` object and then adds the `metriportId` property to it.

## Symbols

### `makeDocumentReference`
#### Description
This function creates a mock `DocumentReference` object populated with either provided values or randomly generated data using Faker.js.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| homeCommunityId | string (optional) |  Unique identifier for the home community. Defaults to a random UUID. |
| docUniqueId | string (optional) | Unique identifier for the document. Defaults to a random UUID. |
| repositoryUniqueId | string (optional) | Unique identifier for the repository. Defaults to a random UUID. |
| fileName | string (optional) | Name of the file. Defaults to a random string. |
| fileLocation | string (optional) | Location of the file. Defaults to a random string. |
| size | number (optional) | Size of the file. Defaults to a random integer. |
| urn | string (optional) | Uniform Resource Name for the document. Defaults to a random string. |
| newRepositoryUniqueId | string (optional) | New unique identifier for the repository. Defaults to a random UUID. |
| newDocumentUniqueId | string (optional) | New unique identifier for the document. Defaults to a random UUID. |
| contentType | string (optional) | Content type of the document. Defaults to "application/xml". |
| language | string (optional) | Language of the document. Defaults to undefined. |
| url | string (optional) | URL of the document. Defaults to a random URL. |
| uri | string (optional) | URI of the document. Defaults to a random URL. |
| isNew | boolean (optional) | Flag indicating if the document is new. Defaults to a random boolean. |
| creation | string (optional) | Creation timestamp of the document. Defaults to a random past date in ISO format. |
| title | string (optional) | Title of the document. Defaults to random lorem text. |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| documentReference | `DocumentReference` | A mock `DocumentReference` object populated with the provided or generated data. |


### `makeDocumentReferenceWithMetriportId`
#### Description
This function creates a mock `DocumentReferenceWithMetriportId` object. It leverages `makeDocumentReference` to generate the base `DocumentReference` and adds a `metriportId` property to it.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| metriportId | string (optional) | Unique identifier assigned by Metriport. Defaults to a random UUID. |
| ...rest | `Partial&lt;DocumentReferenceWithMetriportId&gt;` (optional) |  Rest of the parameters are passed to `makeDocumentReference` to construct the base object. |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| documentReferenceWithMetriportId | `DocumentReferenceWithMetriportId` | A mock `DocumentReferenceWithMetriportId` object with a `metriportId` and other properties from `DocumentReference`. |

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| @faker-js/faker | Used to generate realistic fake data for testing purposes. |
| @metriport/ihe-gateway-sdk | Provides the `DocumentReference` type definition. |

