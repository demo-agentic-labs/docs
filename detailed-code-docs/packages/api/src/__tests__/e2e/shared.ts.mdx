---
title: "shared.ts"
---

## High-level description
The code defines constants and an Axios instance used for end-to-end (E2E) testing of the API. It retrieves environment variables for the API key, base URL, and sets up headers for API requests.

## Symbols

### `nanoid`
#### Description
A custom alphabet nanoid generator function that creates random 10-character strings using only numbers and lowercase letters. This is likely used for generating unique identifiers in tests.

#### Inputs
None

#### Outputs
A 10-character random string.

#### Internal Logic
Uses the `customAlphabet` function from the `nanoid` library to create a generator with a specific alphabet (`1234567890abcdef`) and length (`10`).

### `testApiKey`
#### Description
Retrieves the value of the `TEST_API_KEY` environment variable. This key is essential for authenticating E2E test requests against the API.

#### Inputs
None

#### Outputs
The value of the `TEST_API_KEY` environment variable.

#### Internal Logic
Uses the `getEnvVarOrFail` function, which suggests that this environment variable is required for tests to run successfully.

### `baseURL`
#### Description
Retrieves the base URL of the API from the `API_URL` environment variable. This URL is used to construct the full URL for API requests.

#### Inputs
None

#### Outputs
The value of the `API_URL` environment variable.

#### Internal Logic
Uses the `getEnvVarOrFail` function, indicating that this environment variable is also required for tests.

### `api`
#### Description
An Axios instance pre-configured for making requests to the API during E2E tests. It includes a timeout, base URL, and authentication headers.

#### Inputs
None

#### Outputs
An Axios instance.

#### Internal Logic
- Sets a timeout of 20 seconds for all requests.
- Sets the `baseURL` to the value retrieved from the `API_URL` environment variable.
- Sets default headers for all requests:
    - `x-api-key`: Uses the `testApiKey` for authentication.
    - `Content-Type`: Sets the content type to `application/json`.

### `e2eResultsFolderName`
#### Description
A constant string representing the name of the folder where E2E test results are stored.

#### Inputs
None

#### Outputs
The string `"e2e-test-results"`.

## References
- `getEnvVarOrFail` from "@metriport/shared"

## Dependencies
- `axios`: Used for making HTTP requests.
- `nanoid`: Used for generating random strings.
- `@metriport/shared`: Provides the `getEnvVarOrFail` function. 
