---
title: "facility.test.part.ts"
---

## High-level description
The code defines two test suites, `runFacilityTestsPart1` and `runFacilityTestsPart2`, that test the creation, retrieval, update, and deletion of a facility using the `medicalApi`. These tests are likely part of a larger end-to-end test suite for the application's facility management functionality.

## Code Structure
The code defines two test suites, `runFacilityTestsPart1` and `runFacilityTestsPart2`, which contain individual test cases. Each test case interacts with the `medicalApi` to perform operations on a facility. The `createFacility` and `validateFacility` functions are imported from another file and are used to create and validate facility objects.

## References
- `E2eContext`: Provides context and shared data for end-to-end tests.
- `medicalApi`: An API client used to interact with the medical service.
- `createFacility`: A function that creates a facility object.
- `validateFacility`: A function that validates the properties of a facility object.

## Symbols

### `runFacilityTestsPart1`
#### Description
This function defines the first part of the facility e2e tests, covering facility creation, retrieval, and update.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| e2e | `E2eContext` | An object containing the context and shared data for the end-to-end tests. |

#### Outputs
This function does not return any value.

#### Internal Logic
1. **"creates a facility" test:**
    - Creates a facility using `medicalApi.createFacility(createFacility)`.
    - Validates the created facility using `validateFacility`.
2. **"gets a facility" test:**
    - Retrieves the previously created facility using `medicalApi.getFacility`.
    - Validates the retrieved facility using `validateFacility`.
3. **"updates a facility" test:**
    - Updates the name of the previously created facility using `medicalApi.updateFacility`.
    - Retrieves the updated facility using `medicalApi.getFacility`.
    - Asserts that the name of the retrieved facility matches the updated name.

### `runFacilityTestsPart2`
#### Description
This function defines the second part of the facility e2e tests, covering facility deletion.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| e2e | `E2eContext` | An object containing the context and shared data for the end-to-end tests. |

#### Outputs
This function does not return any value.

#### Internal Logic
1. **"deletes the facility" test:**
    - Deletes the previously created facility using `medicalApi.deleteFacility`.
    - Asserts that attempting to retrieve the deleted facility using `medicalApi.getFacility` throws a 404 error.
