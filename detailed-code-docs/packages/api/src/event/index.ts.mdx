---
title: "index.ts"
---

## High-level description
This code initializes event listeners for CommonWell Health Alliance (CW) and Canvas integration events. It provides a single function `initEvents()` that sets up both event listeners, centralizing the event initialization process for the API.

## Symbols

### `initEvents()`
#### Description
This function initializes event listeners for both CommonWell Health Alliance and Canvas integration events. It serves as a centralized point for setting up all event listeners in the API.

#### Inputs
This function does not take any inputs.

#### Outputs
This function does not return any value.

#### Internal Logic
The function calls two other initialization functions:
1. `initCWEvents()`: Initializes CommonWell Health Alliance event listeners.
2. `initCanvasIntegrationEvents()`: Initializes Canvas integration event listeners.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| `../external/commonwell/cq-bridge/patient-event-listener` | Provides the `initCWEvents` function for initializing CommonWell Health Alliance event listeners |
| `../external/canvas/canvas-event-listener` | Provides the `initCanvasIntegrationEvents` function for initializing Canvas integration event listeners |

## References
The `initEvents()` function is used in the main application file (`packages/api/src/app.ts`). It is called after setting up the Express application, routes, and error handlers, but before starting the server. This ensures that all necessary event listeners are initialized when the API server starts running.

## Notes
1. The code is modular and follows the principle of separation of concerns by delegating the initialization of specific event listeners to separate modules.
2. The `initEvents()` function acts as a facade, providing a simple interface to initialize all event listeners in one place.
3. The actual implementation details of the event listeners are encapsulated in their respective modules, making the code more maintainable and easier to extend in the future.