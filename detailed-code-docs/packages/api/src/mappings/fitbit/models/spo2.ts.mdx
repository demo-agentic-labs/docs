---
title: "spo2.ts"
---

## High-level description
The code defines a Zod schema, `fitbitSpo2Resp`, for validating the structure and data types of Fitbit's SpO2 (oxygen saturation) API response. It also defines a corresponding TypeScript type, `FitbitSpo2`, based on the schema.

## References
- `FitbitSpo2` is referenced in `packages/api/src/providers/fitbit.ts` and `packages/api/src/mappings/fitbit/biometrics.ts`.

## Symbols

### `fitbitSpo2Resp`
#### Description
This symbol is a Zod schema that defines the expected structure and data types for the response from Fitbit's SpO2 API. 

#### Inputs
N/A - This is a Zod schema definition, not a function.

#### Outputs
N/A - This is a Zod schema definition, not a function.

#### Internal Logic
The schema defines the following fields:
- `dateTime`: An optional string representing the date.
- `value`: An optional object containing:
    - `avg`: An optional nullable number representing the average SpO2 value.
    - `min`: An optional nullable number representing the minimum SpO2 value.
    - `max`: An optional nullable number representing the maximum SpO2 value.

### `FitbitSpo2`
#### Description
This symbol is a TypeScript type alias that represents the data structure of a Fitbit SpO2 response after it has been validated by the `fitbitSpo2Resp` schema.

#### Inputs
N/A - This is a type alias, not a function.

#### Outputs
N/A - This is a type alias, not a function.

## Dependencies
- **zod:** Used for schema validation.

## Error Handling
This code does not implement specific error handling. Zod will throw errors if the data being validated does not match the defined schema.
