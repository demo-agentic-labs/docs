---
title: "food.ts"
---

## High-level description
The code defines a Zod schema, `fitbitFoodResp`, for validating the response from the Fitbit API endpoint that retrieves food log data. It also exports a type, `FitbitFood`, which represents the inferred type of the validated response.

## References
- This code references the Zod library (`z`) for schema definition and validation.

## Symbols

### `fitbitFoodResp`
#### Description
This symbol is a Zod schema that defines the expected structure and data types for the response from the Fitbit API's food log endpoint. It ensures that the received data conforms to the defined schema, making the code more robust and less prone to errors from unexpected data.

#### Inputs
None. This symbol is a constant Zod schema definition.

#### Outputs
None. This symbol is a constant Zod schema definition.

#### Internal Logic
The schema defines the following structure:
- `foods`: An array of objects, each representing a logged food item.
  - `isFavorite`: A boolean indicating if the food is marked as a favorite.
  - `logDate`: A string representing the date of the food log entry.
  - `logId`: A number representing the unique identifier of the food log entry.
  - `loggedFood`: An object containing details about the logged food.
    - `accessLevel`: A string indicating the access level of the food data.
    - `amount`: A number representing the amount of food logged.
    - `brand`: An optional string representing the brand of the food.
    - `calories`: An optional number representing the calorie count of the food.
    - `foodId`: A number representing the unique identifier of the food item.
    - `locale`: An optional string representing the locale of the food data.
    - `mealTypeId`: A number representing the type of meal the food was logged under.
    - `name`: A string representing the name of the food item.
    - `unit`: An object representing the unit of measurement for the food.
      - `id`: A number representing the unique identifier of the unit.
      - `name`: A string representing the name of the unit.
      - `plural`: A string representing the plural form of the unit name.
    - `units`: An array of numbers representing the available units for the food item.
  - `nutritionalValues`: An optional object containing nutritional information about the logged food.
    - `calories`: An optional number representing the calorie count.
    - `carbs`: A number representing the carbohydrate content.
    - `fat`: A number representing the fat content.
    - `fiber`: A number representing the fiber content.
    - `protein`: A number representing the protein content.
    - `sodium`: A number representing the sodium content.
- `goals`: An optional object containing calorie goals.
  - `calories`: A number representing the calorie goal.
- `summary`: An object containing a summary of the nutritional information for the day.
  - `calories`: An optional number representing the total calorie intake.
  - `carbs`: A number representing the total carbohydrate intake.
  - `fat`: A number representing the total fat intake.
  - `fiber`: A number representing the total fiber intake.
  - `protein`: A number representing the total protein intake.
  - `sodium`: A number representing the total sodium intake.
  - `water`: A number representing the total water intake.

### `FitbitFood`
#### Description
This symbol is a TypeScript type alias that represents the data structure of a validated Fitbit food log response. It is inferred from the `fitbitFoodResp` Zod schema, ensuring that any variable declared as `FitbitFood` will have the same structure and data types as defined in the schema.

#### Inputs
None. This symbol is a type alias.

#### Outputs
None. This symbol is a type alias.

## Dependencies
- `zod`: Used for schema definition and validation.

## Error Handling
This code uses Zod for schema validation, which will throw errors if the received data does not match the defined schema. This ensures that the code does not try to process invalid data.
