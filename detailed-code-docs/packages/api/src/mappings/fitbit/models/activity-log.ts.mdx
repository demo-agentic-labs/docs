---
title: "activity-log.ts"
---

## High-level description
The code defines a Zod schema, `fitbitActivityLogResp`, to validate and parse the response from the Fitbit API endpoint for retrieving activity logs. It also defines a type, `FitbitActivityLogs`, and an interface, `HeartRateZone`, based on the schema.

## References
- This code is referenced by `mapToActivity` function in `packages/api/src/mappings/fitbit/activity.ts` file.

## Symbols
### `fitbitActivityLogResp`
#### Description
This symbol is a Zod schema that defines the structure of the expected response from the Fitbit API when fetching activity logs. It ensures that the response data conforms to the expected format.

#### Inputs
N/A - This is a Zod schema definition, not a function.

#### Outputs
N/A - This is a Zod schema definition, not a function.

#### Internal Logic
The schema defines various fields present in a Fitbit activity log entry, such as:
- `activeDuration`: Duration of active time in milliseconds.
- `activeZoneMinutes`: Details about time spent in different heart rate zones.
- `activityLevel`: Breakdown of time spent at different activity intensity levels.
- `activityName`: Name of the activity.
- `calories`: Estimated calories burned.
- `distance`: Distance covered during the activity.
- `duration`: Total duration of the activity.
- `heartRateZones`: Details about time spent in different heart rate zones.
- `lastModified`: Timestamp of the last modification.
- `logId`: Unique identifier of the activity log entry.
- `logType`: Type of the activity log entry.
- `originalStartTime`: Original start time of the activity.
- `source`: Information about the source device or app that recorded the activity.
- `startTime`: Start time of the activity.
- `steps`: Number of steps taken during the activity.

Each field is associated with a Zod type that specifies its expected data type, whether it's nullable, optional, and other validation rules.

### `FitbitActivityLogs`
#### Description
This symbol is a type alias that infers the type of data that conforms to the `fitbitActivityLogResp` schema. It represents an array of Fitbit activity log entries.

#### Inputs
N/A - This is a type alias, not a function.

#### Outputs
N/A - This is a type alias, not a function.

### `HeartRateZone`
#### Description
This symbol is an interface that defines the structure of a heart rate zone object. It includes fields like `caloriesOut`, `max`, `min`, `minutes`, and `name`.

#### Inputs
N/A - This is an interface, not a function.

#### Outputs
N/A - This is an interface, not a function.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| z | Zod library for schema validation and parsing. |

```typescript
import { z } from "zod";
```
