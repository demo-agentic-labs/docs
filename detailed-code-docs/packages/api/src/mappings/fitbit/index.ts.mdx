---
title: "index.ts"
---

## High-level description
This code defines TypeScript types for Fitbit webhook notifications and subscriptions using the Zod library for validation and type inference. It defines the structure of data received from Fitbit webhooks and the structure of Fitbit webhook subscriptions.

## Code Structure
This code defines several Zod schemas and corresponding TypeScript types for Fitbit webhook data. The `fitbitWebhookNotificationSchema` describes the structure of an array of webhook notifications, each containing information about a data update. The `fitbitWebhookSubscriptionSchema` describes the structure of a single webhook subscription, and `fitbitWebhookSubscriptionsSchema` describes an array of such subscriptions.

## References
This code references the `fitbitCollectionTypes` constant, which is defined in a separate file and lists the possible data collection types for Fitbit webhooks.

## Symbols

### `fitbitWebhookNotificationSchema`
#### Description
Defines the Zod schema for validating and inferring the type of Fitbit webhook notifications. It describes an array of objects, where each object represents a single notification.

#### Inputs
N/A - This is a Zod schema definition, not a function.

#### Outputs
N/A - This is a Zod schema definition, not a function.

#### Internal Logic
- Uses `z.array()` to define a schema for an array of objects.
- Each object in the array is defined using `z.object()` and includes the following properties:
    - `collectionType`: An enum value from `fitbitCollectionTypes` representing the type of data being updated.
    - `date`: A string representing the date of the data update.
    - `ownerId`: A string representing the Fitbit user ID.
    - `ownerType`: A string representing the type of owner (e.g., "user").
    - `subscriptionId`: A string representing the ID of the webhook subscription.

### `FitbitWebhook`
#### Description
A TypeScript type alias inferred from the `fitbitWebhookNotificationSchema` using `z.infer`. Represents the structure of a Fitbit webhook notification.

#### Inputs
N/A - This is a type alias, not a function.

#### Outputs
N/A - This is a type alias, not a function.

### `fitbitWebhookSubscriptionSchema`
#### Description
Defines the Zod schema for validating and inferring the type of a single Fitbit webhook subscription.

#### Inputs
N/A - This is a Zod schema definition, not a function.

#### Outputs
N/A - This is a Zod schema definition, not a function.

#### Internal Logic
- Uses `z.object()` to define a schema for an object with the following properties:
    - `collectionType`: An enum value from `fitbitCollectionTypes` representing the type of data being subscribed to.
    - `ownerId`: A string representing the Fitbit user ID.
    - `ownerType`: A string representing the type of owner (e.g., "user").
    - `subscriberId`: A string representing the ID of the subscriber.
    - `subscriptionId`: A string representing the ID of the webhook subscription.

### `FitbitWebhookSubscription`
#### Description
A TypeScript type alias inferred from the `fitbitWebhookSubscriptionSchema` using `z.infer`. Represents the structure of a Fitbit webhook subscription.

#### Inputs
N/A - This is a type alias, not a function.

#### Outputs
N/A - This is a type alias, not a function.

### `fitbitWebhookSubscriptionsSchema`
#### Description
Defines the Zod schema for validating and inferring the type of an array of Fitbit webhook subscriptions.

#### Inputs
N/A - This is a Zod schema definition, not a function.

#### Outputs
N/A - This is a Zod schema definition, not a function.

#### Internal Logic
- Uses `z.array()` to define a schema for an array of `fitbitWebhookSubscriptionSchema` objects.

### `FitbitWebhookSubscriptions`
#### Description
A TypeScript type alias inferred from the `fitbitWebhookSubscriptionsSchema` using `z.infer`. Represents an array of Fitbit webhook subscriptions.

#### Inputs
N/A - This is a type alias, not a function.

#### Outputs
N/A - This is a type alias, not a function.

## Dependencies
- **zod:** Used for schema validation and type inference.

## Error Handling
This code uses Zod for schema validation, which will throw errors if the data does not match the defined schemas.
