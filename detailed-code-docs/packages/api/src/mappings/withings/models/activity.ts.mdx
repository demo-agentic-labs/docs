---
title: "activity.ts"
---

## High-level description
The code defines a Zod schema, `withingsActivityLogResp`, to validate and parse activity data returned by the Withings API. It also defines a type alias, `WithingsActivityLogs`, for the inferred type of the schema.

## References
- This code is referenced by the `mapToActivity` function in `packages/api/src/mappings/withings/activity.ts` and the `fetchActivityData` function in `packages/api/src/providers/withings.ts`.

## Symbols
### `withingsActivityLogResp`
#### Description
A Zod schema that validates the structure and data types of the response from the Withings API's `/measurev2-getactivity` endpoint. It ensures that the response is an array of objects, with each object containing specific activity data fields.

#### Inputs
This is a Zod schema definition, not a function, so it doesn't have explicit inputs.

#### Outputs
This is a Zod schema definition, not a function, so it doesn't have explicit outputs. When used to parse data, it will return a parsed object conforming to the schema or throw an error if the data is invalid.

#### Internal Logic
The schema defines the expected structure and data types for each field in the Withings activity log response. It uses various Zod methods like `z.array`, `z.object`, `z.string`, `z.number`, `z.boolean`, etc., to define the schema for each field. For example:
- `z.array(z.object({...}))` ensures the response is an array of objects.
- `date: z.string()` ensures the `date` field is a string.
- `steps: z.number()` ensures the `steps` field is a number.
- Fields marked as optional (e.g., `timezone: z.string().optional().nullable()`) can be undefined or null.

### `WithingsActivityLogs`
#### Description
A type alias that represents the inferred type of the `withingsActivityLogResp` schema. It provides a convenient way to refer to the type of data that is expected to be returned after parsing the Withings activity log response using the schema.

#### Inputs
This is a type alias, not a function, so it doesn't have inputs.

#### Outputs
This is a type alias, not a function, so it doesn't have outputs.
