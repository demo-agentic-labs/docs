---
title: "user.ts"
---

## High-level description
The code defines a Zod schema, `userDevicesSchema`, to validate and type-check data representing Withings user devices. It ensures the data conforms to the expected structure and types for properties like device type, battery level, model, and session dates. The schema is used to define the `WithingsUserDevices` type, which represents an array of Withings user device objects or null.

## Code Structure
The `userDevicesSchema` is defined using Zod's fluent API to specify the structure and types of a Withings user device object within an array. It leverages Zod's array and object methods to define the nested structure and optional/nullable properties. The `WithingsUserDevices` type alias is then created using `z.infer` to extract the TypeScript type from the schema.

## Symbols

### `userDevicesSchema`
#### Description
A Zod schema that validates data representing an array of Withings user devices. Each device object can have optional properties for type, battery, model, timezone, session dates, and device identifiers.

#### Inputs
N/A - It's a schema definition, not a function.

#### Outputs
N/A - It's a schema definition, not a function.

#### Internal Logic
- Uses `z.array()` to define an array schema.
- Within the array, `z.object()` defines the schema for each device object.
- Each property within the object uses Zod types like `z.string()`, `z.number()`, and modifiers like `.optional()` and `.nullable()` to define its expected type and whether it's required or can be null.

### `WithingsUserDevices`
#### Description
A TypeScript type alias representing an array of Withings user device objects or null. It's inferred from the `userDevicesSchema` using `z.infer`.

#### Inputs
N/A - It's a type alias, not a function.

#### Outputs
N/A - It's a type alias, not a function.
