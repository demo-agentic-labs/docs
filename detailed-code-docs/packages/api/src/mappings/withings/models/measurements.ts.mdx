---
title: "measurements.ts"
---

## High-level description
The code defines types and parsing logic for Withings measurement data using the Zod library. It includes enums for measurement types, Zod schemas for validating and parsing measurement groups and responses, and type aliases for the inferred types.

## Code Structure
The code defines several Zod schemas and enums related to Withings measurement data. The `withingsMeasurementGrp` schema defines the structure of a measurement group, which includes an array of `measures`. The `withingsMeasurementResp` schema defines the structure of the response from the Withings API, which includes an array of `measuregrps`. The `WithingsMeasType` enum defines the different types of measurements that Withings can track.

## Symbols

### `WithingsMeasType`
#### Description
Enum representing the different measurement types supported by Withings. Each enum member maps to a specific measurement type identified by a numeric code.

#### Internal Logic
This enum does not contain any internal logic. It simply defines a mapping between measurement type names and their corresponding numeric codes.

### `withingsMeasurementGrp`
#### Description
A Zod schema defining the structure of a Withings measurement group. It ensures that data received from the Withings API adheres to the expected format for a measurement group.

#### Inputs
This is a Zod schema, it does not have explicit named inputs. It operates on data that conforms to the schema structure.

#### Outputs
This is a Zod schema, it does not have explicit named outputs. It parses and validates data against the defined schema, returning a parsed object if successful.

#### Internal Logic
The schema uses Zod's object and array combinators to define the structure of a measurement group. It specifies the expected types and optional/nullable properties for each field within the group.

### `WithingsMeasurementGrp`
#### Description
A type alias representing the inferred type of the `withingsMeasurementGrp` Zod schema. It provides a TypeScript type representing the structure of a Withings measurement group after it has been parsed and validated by the schema.

### `withingsMeasurementResp`
#### Description
A Zod schema defining the structure of the response received from the Withings API when fetching measurement data. It ensures that the API response adheres to the expected format.

#### Inputs
This is a Zod schema, it does not have explicit named inputs. It operates on data that conforms to the schema structure.

#### Outputs
This is a Zod schema, it does not have explicit named outputs. It parses and validates data against the defined schema, returning a parsed object if successful.

#### Internal Logic
The schema uses Zod's object and array combinators to define the structure of the API response. It specifies the expected types and optional/nullable properties for each field within the response, including an array of `withingsMeasurementGrp`.

### `WithingsMeasurements`
#### Description
A type alias representing the inferred type of the `withingsMeasurementResp` Zod schema. It provides a TypeScript type representing the structure of the Withings measurement response after it has been parsed and validated by the schema.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| z           | Provides runtime type validation and parsing using Zod schemas. |

```typescript
import { z } from "zod";
```

## References
- `withingsMeasurementGrp` is referenced by `withingsMeasurementResp` to define the structure of the `measuregrps` array.

```typescript
export const withingsMeasurementResp = z.object({
  // ... other fields
  measuregrps: z.array(withingsMeasurementGrp),
  // ... other fields
});
```

This code defines types and schemas for working with Withings measurement data, ensuring type safety and data integrity when interacting with the Withings API.
