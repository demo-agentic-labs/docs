---
title: "index.ts"
---

## High-level description
This code defines a set of Zod schemas for parsing and validating data from the Google Fit API. It includes schemas for common data structures like `googlePoint` and `sessionSchema`, as well as specific response schemas like `googleResp` and `sessionResp`.

## Code Structure
The code defines several Zod schemas, some of which are nested within others. For example, `googlePoint` is used within `googlePointArray`, which is then used within `googleResp`. Similarly, `sessionSchema` is used within `sessionResp`.

## References
This code references other code symbols like `googleActivityDataSourceId`, `googlePointArray`, and `googlePoint`. These symbols are defined in other files and are imported into this file.

## Symbols

### `googleResp`
#### Description
This function returns a Zod schema for validating the response from the Google Fit API. The schema expects an array of "buckets", each containing an array of "datasets". Each dataset has a `dataSourceId` and an array of `point` objects.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| googleActivityDataSourceId | any | A Zod schema or enum representing the expected data source ID. |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
|  | z.ZodObject | A Zod object schema representing the expected structure of the Google Fit API response. |

#### Internal Logic
The function uses Zod's object and array combinators to define the nested structure of the response. It also references the `googlePointArray` schema for validating the `point` array within each dataset.

### `googlePoint`
#### Description
A Zod schema defining the structure of a single data point from the Google Fit API. It includes fields for start and end times, data type, origin data source, and an array of values.

#### Inputs
None

#### Outputs
None

#### Internal Logic
The schema uses Zod's object, string, number, and array combinators to define the structure of a data point. It also includes optional fields like `fpVal` and `intVal` within the `value` array.

### `SingleGooglePoint`
#### Description
A type alias for the inferred type of the `googlePoint` schema.

#### Inputs
None

#### Outputs
None

### `googlePointArray`
#### Description
A Zod schema defining an array of `googlePoint` objects.

#### Inputs
None

#### Outputs
None

### `GooglePoint`
#### Description
A type alias for the inferred type of the `googlePointArray` schema.

#### Inputs
None

#### Outputs
None

### `sessionSchema`
#### Description
A Zod schema defining the structure of a session object from the Google Fit API. It includes fields for session ID, name, description, start and end times, application details, and activity type.

#### Inputs
None

#### Outputs
None

#### Internal Logic
The schema uses Zod's object, string, and number combinators to define the structure of a session object. It also includes optional fields like `modifiedTimeMillis`, `packageName`, `version`, and `detailsUrl`.

### `sessionResp`
#### Description
A Zod schema defining the structure of a response from the Google Fit API containing session data. It includes arrays for both active and deleted sessions.

#### Inputs
None

#### Outputs
None

#### Internal Logic
The schema uses Zod's object and array combinators to define the structure of the response, which includes arrays of `sessionSchema` objects.

### `GoogleSessions`
#### Description
A type alias for the inferred type of the `sessionResp` schema.

#### Inputs
None

#### Outputs
None

## Dependencies
This code depends on the `zod` library for schema definition and validation.

```
| Dependency | Purpose |
|:-----------|:--------|
| zod | Schema definition and validation |
```
