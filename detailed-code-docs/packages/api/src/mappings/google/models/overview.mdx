---
title: "Overview"
---

## High-level description
This directory contains TypeScript modules that define models and types for handling data from the Google Fit API. It covers various health and fitness data categories such as activities, biometrics, body measurements, nutrition, and sleep. The code uses Zod for schema validation and type inference, ensuring type safety when working with Google Fit data.

## What does it do?
These modules provide a structured way to work with Google Fit data within the application. They define constants for data source IDs, create schemas for validating API responses, and generate TypeScript types for different categories of health data. This allows developers to:

1. Validate incoming data from the Google Fit API
2. Ensure type safety when working with Google Fit data in the application
3. Easily identify and use specific data sources for different health metrics
4. Parse and process complex nested structures returned by the Google Fit API

## Key Files
1. `activity.ts`: Defines types and constants for activity data, including data source IDs and activity type mappings.
2. `biometrics.ts`: Contains definitions for biometric data sources such as blood glucose, blood pressure, and heart rate.
3. `body.ts`: Handles body measurement data like weight, height, and body fat percentage.
4. `index.ts`: Provides core schemas and types used across other modules, including the `googleResp` function for creating response schemas.
5. `nutrition.ts`: Defines types and constants for nutrition and hydration data.
6. `sleep.ts`: Contains types and constants specific to sleep data from Google Fit.

## Dependencies
The main external dependency used in these modules is Zod (version not specified). Zod is a TypeScript-first schema declaration and validation library that's used extensively throughout the codebase for defining data structures and ensuring type safety.

Key reasons for choosing Zod:
1. Strong TypeScript integration: Zod allows for automatic type inference, reducing the need for manual type declarations.
2. Runtime type checking: Zod schemas can be used to validate data at runtime, ensuring data integrity.
3. Composability: Zod schemas can be easily combined and nested, which is useful for complex data structures like those returned by the Google Fit API.

## Configuration
While there are no explicit configuration files, the modules define several constants that act as configuration values:

1. Data source IDs: Each module defines constants for various data source IDs used by Google Fit. For example:
   ```typescript
   const sourceIdActivity = "derived:com.google.activity.segment:com.google.android.gms:merge_activity_segments";
   const sourceIdWeight = "derived:com.google.weight:com.google.android.gms:merge_weight";
   ```

2. Activity type mappings: The `activity.ts` file includes a `GoogleActivityTypes` object that maps numerical activity codes to human-readable names:
   ```typescript
   const GoogleActivityTypes = {
     9: "Aerobics",
     119: "Archery",
     // ... other activity types
   };
   ```

3. Sleep session type: The `sleep.ts` file defines a constant for identifying sleep sessions:
   ```typescript
   export const sessionSleepType = 72;
   ```

These constants can be easily modified if Google changes their API or if additional data sources need to be supported in the future.

The modular structure of this directory allows for easy extension and maintenance of Google Fit data handling within the application. Each file focuses on a specific category of health data, making it simple to add new data types or modify existing ones as needed.