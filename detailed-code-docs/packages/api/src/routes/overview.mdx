---
title: "Overview"
---

## High-level description
This directory contains route handlers for webhook endpoints in the Metriport API. It includes implementations for various health and fitness data providers such as Apple, Fitbit, Garmin, Tenovi, and Withings. These handlers process incoming data from these providers, validate and standardize it, and then integrate it into the Metriport system.

## What does it do?
The webhook routes in this directory serve as entry points for receiving health and fitness data from different providers. The general process for each webhook is:

1. Receive incoming data from a provider
2. Validate the data against a predefined schema
3. Map the data to a standardized format used by Metriport
4. Process the standardized data (e.g., storing in a database, sending to other parts of the system)
5. Send an acknowledgment response back to the provider

This process allows Metriport to integrate data from multiple sources into a unified system, enabling users to access and analyze their health and fitness data from various devices and platforms in one place.

## Entry points
The main entry point is `index.ts`, which sets up the router for all webhook endpoints. It imports individual route handlers for each provider:

- `apple.ts`: Handles Apple Health data
- `fitbit.ts`: Processes Fitbit data
- `garmin.ts`: Manages Garmin device data
- `tenovi.ts`: Handles Tenovi measurements
- `withings.ts`: Processes Withings device data

## Key Files
1. `index.ts`: Sets up the main router and combines all provider-specific routes.
2. `apple.ts`: Handles Apple webhook data, including validation, mapping, and processing.
3. `fitbit.ts`: Processes Fitbit webhook notifications.
4. `garmin.ts`: Manages various types of Garmin data, including activities, sleep, and biometrics.
5. `tenovi.ts`: Handles Tenovi measurement data.
6. `withings.ts`: Processes Withings data and confirms webhook connections.

## Dependencies
- Express.js: Web server and HTTP request handling
- express-promise-router: Async route handler support
- Zod: Schema validation for incoming data
- @metriport/api-sdk: Metriport-specific types and utilities

Internal dependencies include utility functions, data mapping modules, and data processing commands specific to each provider.

## Configuration
The code uses environment variables and internal configurations defined elsewhere in the project. Notable configurations include:

1. Logging levels and debug modes
2. Authentication middleware (e.g., `processCxId` for Apple routes)
3. Data mapping schemas for each provider

The webhook handlers are designed to be flexible and extensible, allowing for easy integration of new data providers or modifications to existing ones.