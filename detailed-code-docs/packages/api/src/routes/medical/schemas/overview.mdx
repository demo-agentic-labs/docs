---
title: "Overview"
---

## High-level description
This directory contains schema definitions and utility functions for handling various aspects of medical data in an API. It includes schemas for addresses, documents, facilities, FHIR resources, patient information, organizations, and shared utilities. These schemas are primarily built using the Zod library, providing robust validation and type-checking for medical-related data structures.

## What does it do?
The schemas in this directory serve several key purposes:

1. Data Validation: They define the structure and constraints for various types of medical data, ensuring that incoming data meets specific criteria before being processed or stored.

2. Type Safety: By using Zod, these schemas provide TypeScript types that can be used throughout the application, enhancing type safety and developer experience.

3. Data Transformation: Some schemas include logic to transform data, such as converting empty strings to undefined or formatting zip codes.

4. Standardization: They establish a consistent format for common data types like addresses, patient information, and facility details across the API.

5. FHIR Compatibility: Certain schemas are designed to work with FHIR (Fast Healthcare Interoperability Resources) data structures, facilitating interoperability with other healthcare systems.

6. Error Handling: The schemas incorporate custom error messages and validation rules, making it easier to provide meaningful feedback when data doesn't meet the required format.

## Key Files

1. `address.ts`: Defines schemas for validating and structuring address data, including a flexible and a strict version.

2. `documents.ts`: Contains schemas for document conversion types and file names, used in document-related operations.

3. `facility.ts`: Provides schemas for creating, updating, and managing facility data, including internal details.

4. `fhir.ts`: Defines schemas and utilities for handling FHIR data, including bundle structures and resource type parsing.

5. `organization.ts`: Contains schemas for creating, updating, and managing organization data, including internal details.

6. `patient.ts`: Offers schemas and conversion functions for patient data, supporting creation, updates, and demographic information.

7. `shared.ts`: Provides utility schemas and functions for common data types like strings, dates, and zip codes, used across other schemas.

These schemas work together to ensure that all data flowing through the medical API is properly structured, validated, and consistent with the expected formats for various entities in the healthcare domain.

## Dependencies
The schemas in this directory primarily rely on the following external libraries and internal modules:

1. Zod: Used extensively for schema definition and validation.
2. @metriport/api-sdk: Provides types and models used in schema definitions.
3. @metriport/core: Supplies domain-specific types and enums.
4. @metriport/shared: Offers utility functions for data manipulation.
5. dayjs: Used for date manipulation and validation in date-related schemas.

These dependencies enable the creation of robust, type-safe schemas that can handle the complexities of medical data while maintaining consistency and reliability across the API.

## Configuration
While there isn't a central configuration file for these schemas, several files contain configurable constants or options:

- In `shared.ts`, there are constants like `ISO_DATE` for date formatting and `zipLength` for zip code validation.
- Various schemas use refinements and custom validation logic that could be considered configurable, such as the maximum length for metadata keys in `request-metadata.ts`.

These configuration options allow for some flexibility in how the schemas validate and process data, potentially allowing for adjustments to meet specific requirements or standards in different contexts within the medical API.