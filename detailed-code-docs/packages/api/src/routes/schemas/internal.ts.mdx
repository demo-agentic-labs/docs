---
title: "internal.ts"
---

## High-level description
This file defines Zod schemas for internal use in the API routes. It includes schemas for document query progress and source enumeration, which are likely used for validation and type-checking in the API's request/response handling.

## Symbols

### `documentQueryProgressSchema`
#### Description
Defines a Zod schema for document query progress, which includes optional download and convert progress fields.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| download | progressSchema (optional) | Progress information for the download process |
| convert | progressSchema (optional) | Progress information for the conversion process |

#### Internal Logic
The schema is created using Zod's `z.object()` method, with two optional fields: `download` and `convert`. Both fields use the `progressSchema` imported from the `@metriport/api-sdk/medical/models/document` module.

### `sourceSchema`
#### Description
Defines a Zod schema for the source of data, which is an enumeration of two possible values: "commonwell" and "carequality".

#### Inputs
The schema accepts one of two string values:
- "commonwell"
- "carequality"

#### Internal Logic
The schema is created using Zod's `z.enum()` method, which restricts the input to be one of the specified string values.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| @metriport/api-sdk/medical/models/document | Imports the `progressSchema` used in `documentQueryProgressSchema` |
| zod | Used for creating and defining schemas |

## Notes
1. The `progressSchema` is imported from an external package (`@metriport/api-sdk`), suggesting that this code is part of a larger ecosystem of related packages.
2. The use of Zod for schema definition indicates that this project likely uses TypeScript and emphasizes strong typing and runtime validation.
3. The `sourceSchema` suggests that the API deals with data from two specific sources: CommonWell and Carequality, which are likely healthcare data exchange networks.