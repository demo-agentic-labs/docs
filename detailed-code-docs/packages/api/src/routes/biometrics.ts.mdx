---
title: "biometrics.ts"
---

## High-level description
This code defines a route handler for the `/biometrics` endpoint in an Express.js application. It retrieves biometrics data for all connected providers for a specified user ID and date.

## Code Structure
The main component is the route handler for the GET request to the `/biometrics` endpoint. It uses the `getProviderDataForType` helper function to fetch the biometrics data and sends the results as a JSON response.

## References
- `getProviderDataForType` from "./helpers/provider-route-helper"
- `ConsumerHealthDataType` from "../providers/provider"
- `asyncHandler` from "./util"

## Symbols

### GET /biometrics route handler
#### Description
Handles GET requests to the `/biometrics` endpoint, fetching biometrics data for all connected providers for a specified user ID and date.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| req.query.userId | string | The user ID |
| req.query.date | string | Date to fetch data for |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| results | Biometrics[] | Array of biometrics data from all connected providers |

#### Internal Logic
1. Calls `getProviderDataForType` with the request object and `ConsumerHealthDataType.Biometrics`.
2. Sends the results as a JSON response with a 200 OK status.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| @metriport/api-sdk | Provides the Biometrics type |
| express | Web application framework |
| express-promise-router | Router that allows use of async route handlers |
| http-status | HTTP status codes |

## Error Handling
The route handler is wrapped with `asyncHandler`, which likely handles any errors thrown during the execution of the async function.

## API/Interface Reference
| Endpoint | Method | Request | Response | Description |
|:---------|:-------|:--------|:---------|:------------|
| /biometrics | GET | Query params: userId, date | Array of Biometrics objects | Retrieves biometrics data for all connected providers for the specified user ID and date |