---
title: "nutrition.ts"
---

## High-level description
This code defines a route handler for the GET /nutrition endpoint in an Express.js application. It retrieves nutrition data for all connected providers for a specified user ID and date, utilizing the Metriport API SDK.

## Code Structure
The main functionality is implemented in the GET route handler, which uses the `getProviderDataForType` helper function to fetch nutrition data. The code imports necessary dependencies and sets up the router.

## Symbols

### router
#### Description
An instance of Express Router used to define the GET /nutrition route.

### GET "/"
#### Description
Defines the route handler for GET /nutrition requests. It uses the `asyncHandler` wrapper for error handling and calls `getProviderDataForType` to fetch nutrition data.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| req | Request | Express request object containing query parameters |
| res | Response | Express response object for sending the response |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| results | Nutrition[] | Array of nutrition data objects |

#### Internal Logic
1. Calls `getProviderDataForType` with the request object and `ConsumerHealthDataType.Nutrition`.
2. Sets the response status to OK (200) and sends the results as JSON.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| @metriport/api-sdk | Provides the Nutrition type |
| express | Web application framework for Node.js |
| express-promise-router | Router for handling asynchronous route handlers |
| http-status | HTTP status codes |

## References
- `ConsumerHealthDataType` from "../providers/provider"
- `getProviderDataForType` from "./helpers/provider-route-helper"
- `asyncHandler` from "./util"

The code relies on these imported functions and types to handle the request and retrieve nutrition data from connected providers.