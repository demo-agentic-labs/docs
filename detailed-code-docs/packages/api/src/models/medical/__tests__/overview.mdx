---
title: "Overview"
---

## High-level description
This directory contains test utility functions for creating model instances used in unit tests for medical-related models in the API. The files in this directory provide functions to create mock instances of `DocRefMappingModel` and `PatientModel`, which are database representations of `DocRefMapping` and `Patient` domain objects, respectively.

## What does it do?
The test utility functions in this directory simplify the process of creating mock data for unit tests related to medical models. They allow developers to easily generate instances of `DocRefMappingModel` and `PatientModel` with default or custom values. This is particularly useful when testing database operations, API endpoints, or other components that interact with these models.

For example, when testing a function that processes patient data, a developer can use `makePatientModel` to quickly create a mock patient with specific attributes. Similarly, `makeDocRefMappingModel` can be used to create mock document reference mappings for testing purposes.

## Key Files

### docref-mapping.ts
This file contains the `makeDocRefMappingModel` function, which creates instances of `DocRefMappingModel`. It uses the `makeDocRefMapping` function from the domain layer to generate a `DocRefMapping` object and then casts it to `DocRefMappingModel`.

Example usage:
```typescript
const mockDocRefMapping = makeDocRefMappingModel({ id: 'custom-id' });
```

### patient.ts
This file defines the `makePatientModel` function, which creates instances of `PatientModel`. It utilizes the `makePatient` function from the domain layer to generate a `Patient` object and then populates a `PatientModel` instance with this data.

Example usage:
```typescript
const mockPatient = makePatientModel({ firstName: 'John', lastName: 'Doe' });
```

## Dependencies
The test utility functions in this directory depend on the following internal modules:

1. Domain layer test utilities:
   - `../../../domain/medical/__tests__/docref-mapping`
   - `../../../domain/medical/__tests__/patient`

2. Model definitions:
   - `../docref-mapping`
   - `../patient`

3. Domain interfaces:
   - `../../../domain/medical/docref-mapping`

These dependencies allow the test utilities to create mock data that closely resembles the actual domain objects and their database representations.

By providing these test utility functions, the codebase promotes consistent and efficient unit testing practices for medical-related models in the API. Developers can easily create mock instances of these models with custom attributes, enabling thorough testing of various scenarios and edge cases.