---
title: "webhook.ts"
---

## High-level description
This code defines a function `makeWebhook` that creates and returns a `WebhookRequest` object with predefined and randomly generated properties. It is primarily used for testing purposes, as indicated by its location in the `__tests__` directory.

## Code Structure
The `makeWebhook` function utilizes the `makeBaseDomain` function from a related file and combines it with additional properties specific to a webhook request.

## References
- `WebhookRequest`, `WebhookType`, and `WebhookRequestStatus` from "../webhook"
- `makeBaseDomain` from "./base-domain"
- `faker` from "@faker-js/faker"

## Symbols

### `makeWebhook`
#### Description
This function creates a `WebhookRequest` object with a combination of provided and randomly generated data.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| id | string | The unique identifier for the webhook |
| webhookType | WebhookType | The type of the webhook |
| status | WebhookRequestStatus (optional) | The status of the webhook request |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| WebhookRequest | object | A webhook request object with predefined and generated properties |

#### Internal Logic
1. Calls `makeBaseDomain` with the provided `id` to create the base properties.
2. Adds webhook-specific properties:
   - `cxId`: A randomly generated UUID
   - `requestId`: A randomly generated UUID
   - `type`: The provided `webhookType`
   - `payload`: An empty object
   - `status`: The provided `status` (if any)

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| @faker-js/faker | Used to generate random UUIDs for `cxId` and `requestId` |

## Configuration
This code doesn't define any specific configuration options.

## Error Handling
There is no explicit error handling in this code. It assumes that the input parameters are provided correctly.

## Performance Considerations
The function uses `faker` to generate random UUIDs, which may have a small performance impact if called frequently. However, as this is a test utility, performance is typically not a critical concern.

## Related Code Context
The `makeBaseDomain` function, imported from "./base-domain", likely creates an object with properties defined in the `BaseDomain` interface from the related "base-domain.ts" file. This includes `id`, `createdAt`, `updatedAt`, and `eTag` properties.