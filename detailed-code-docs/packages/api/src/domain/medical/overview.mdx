---
title: "Overview"
---

## High-level description
This directory contains code related to the medical domain of the Metriport API. It includes functionality for handling patient demographics, document references, facilities, organizations, addresses, and coverage enhancements. The code provides utilities for data normalization, matching, conversion progress tracking, and integration with health information exchanges (HIEs) like Carequality and CommonWell.

## What does it do?
The code in this directory serves several key purposes:

1. Patient Demographics Management: It provides functions for normalizing, comparing, and augmenting patient demographic data. This includes checking for matches between different sets of demographic data and identifying new information.

2. Facility Management: The code defines structures and functions for creating, validating, and managing medical facilities. It includes functionality to check facility types, determine HIE activity status, and manage patient-facility associations.

3. Document Reference Mapping: It defines structures for mapping between external document references and internal patient data, which is crucial for maintaining consistency across different data sources.

4. Address Management: The code includes functionality to enhance address data with geographic coordinates, which can be useful for location-based services or analysis.

5. Coverage Enhancement: It defines structures for managing coverage enhancement data, which includes information about connected query organization IDs and document counts.

6. Conversion Progress Tracking: The code provides functions to calculate and update the progress of document conversion for patients, helping to track the status of document processing.

7. Patient Limit Management: It includes functionality to determine patient limits for customers, particularly in sandbox environments, taking into account any custom limits set via feature flags.

8. Medical Coding: The code defines structures for representing coded medical information using the FHIR (Fast Healthcare Interoperability Resources) data model, specifically the Coding and CodeableConcept types.

These components work together to provide a comprehensive system for managing medical data, patient information, and related processes within the Metriport API ecosystem.

## Key Files

1. `patient-demographics.ts`: Contains functions for handling patient demographic data, including normalization, comparison, and augmentation.

2. `facility.ts`: Defines the structure and functionality for managing medical facilities, including integration with HIEs.

3. `docref-mapping.ts`: Provides structures for mapping document references between external and internal systems.

4. `address.ts`: Contains functionality for enhancing address data with geographic coordinates.

5. `coverage-enhancement.ts`: Defines structures for managing coverage enhancement data.

6. `conversion-progress.ts`: Includes functions for calculating and updating document conversion progress.

7. `get-patient-limit.ts`: Contains functionality for determining patient limits in sandbox environments.

8. `codeable-concept.ts`: Defines structures for representing coded medical information using FHIR data models.

These files collectively provide the core functionality for managing medical data and related processes within the Metriport API.

## Dependencies
The code in this directory relies on several key dependencies:

1. `@metriport/core`: Provides core domain models, types, and utility functions used throughout the medical domain code.

2. `@metriport/shared`: Offers shared utilities and types used across the Metriport ecosystem.

3. `@metriport/api-sdk`: Provides schema definitions and API-related functionality.

4. `dayjs`: Used for date manipulation in various parts of the code.

5. `@faker-js/faker`: Utilized in test files for generating random, realistic test data.

6. Jest: The testing framework used for writing and running unit tests.

These dependencies enable the creation of a robust, type-safe, and well-tested system for managing medical data and related processes.

## Configuration
The code uses configuration settings from `../../shared/config`, which likely includes important constants and environment-specific settings. Some configurable aspects include:

1. Sandbox patient limits, which can be customized using feature flags.
2. HIE-related settings for Carequality and CommonWell integration.
3. OID (Object Identifier) generation settings for facilities.

The configuration allows for flexibility in adapting the system to different environments and customer needs.

This medical domain code forms a crucial part of the Metriport API, providing essential functionality for managing patient data, medical facilities, and related processes in a healthcare information system.