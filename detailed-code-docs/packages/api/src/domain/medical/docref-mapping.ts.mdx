---
title: "docref-mapping.ts"
---

## High-level description
This code defines the structure for a DocRefMapping, which represents a mapping between external document references and internal patient data. It includes interfaces for creating and representing DocRefMapping objects, extending from a base domain model.

## Code Structure
The file defines two interfaces: `DocRefMappingCreate` and `DocRefMapping`. `DocRefMapping` extends `BaseDomain` and `DocRefMappingCreate`, combining the properties of both.

## References
This code references `BaseDomain` and `BaseDomainCreate` from "@metriport/core/domain/base-domain" and `MedicalDataSource` from "@metriport/core/external/index".

## Symbols

### `DocRefMappingCreate`
#### Description
An interface that defines the structure for creating a new DocRefMapping object. It extends `BaseDomainCreate` but omits the `id` field.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| externalId | string | An external identifier for the document reference |
| cxId | string | Customer ID |
| patientId | string | Patient identifier |
| requestId | string | Request identifier |
| source | MedicalDataSource | The source of the medical data |

### `DocRefMapping`
#### Description
An interface that represents a complete DocRefMapping object. It extends both `BaseDomain` and `DocRefMappingCreate`, combining their properties.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| @metriport/core/external/index | Imports MedicalDataSource enum |
| @metriport/core/domain/base-domain | Imports BaseDomain and BaseDomainCreate interfaces |

## Related Code Context
1. The `DocRefMappingModel` in "packages/api/src/models/medical/docref-mapping.ts" implements this `DocRefMapping` interface as a Sequelize model.
2. The `getDocRefMapping`, `getAllDocRefMapping`, `getOrCreateDocRefMapping`, and `getDocRefMappings` functions in "packages/api/src/command/medical/docref-mapping/get-docref-mapping.ts" use this structure to interact with the database.
3. The `MedicalDataSource` enum is defined in "packages/api-sdk/src/medical/models/common/medical-data-source.ts" and used in the `source` field of `DocRefMappingCreate`.
4. The `BaseDomain` and `BaseDomainCreate` interfaces are defined in "packages/core/src/domain/base-domain.ts" and extended by `DocRefMapping` and `DocRefMappingCreate` respectively.
5. Test utilities for creating `DocRefMapping` objects are provided in "packages/api/src/domain/medical/__tests__/docref-mapping.ts".

This structure allows for consistent representation of document reference mappings across the application, from database interactions to API responses.