---
title: "docref-mapping.ts"
---

## High-level description
This code defines utility functions for creating test data for the DocRefMapping domain object in a medical API context. It provides functions to generate both partial and complete DocRefMapping objects with randomized or specified values, facilitating easier and more flexible test case creation.

## Code Structure
The main symbols in this code are two functions: `makeDocRefMappingCreate` and `makeDocRefMapping`. These functions are related, with `makeDocRefMapping` using `makeDocRefMappingCreate` internally to generate a complete DocRefMapping object.

## References
This code references:
- `MedicalDataSource` from "@metriport/core/external/index"
- `uuidv7` from "@metriport/core/util/uuid-v7"
- `makeBaseDomain` from "../../__tests__/base-domain"
- `DocRefMapping` and `DocRefMappingCreate` from "../docref-mapping"

## Symbols

### makeDocRefMappingCreate
#### Description
This function creates a `DocRefMappingCreate` object with optional custom parameters.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| params | Partial&lt;DocRefMapping&gt; | Optional partial DocRefMapping object to override default values |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| DocRefMappingCreate | object | A new DocRefMappingCreate object |

#### Internal Logic
1. Uses the `faker` library to generate random values for fields not provided in `params`.
2. Uses `uuidv7()` for generating `patientId` and `requestId` if not provided.
3. Randomly selects a `MedicalDataSource` value if not provided.

### makeDocRefMapping
#### Description
This function creates a complete `DocRefMapping` object, extending `makeDocRefMappingCreate` with additional base domain properties.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| params | Partial&lt;DocRefMapping&gt; | Optional partial DocRefMapping object to override default values |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| DocRefMapping | object | A new DocRefMapping object |

#### Internal Logic
1. Calls `makeBaseDomain` to generate base domain properties.
2. Generates a new `id` using `uuidv7()` if not provided.
3. Calls `makeDocRefMappingCreate` to generate the remaining properties.
4. Combines all properties into a single object.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| @faker-js/faker | Generating random test data |
| @metriport/core/external/index | Importing MedicalDataSource enum |
| @metriport/core/util/uuid-v7 | Generating UUIDs |

This code is primarily used for testing purposes, providing a convenient way to generate test data for DocRefMapping objects. It allows for flexible creation of both partial and complete DocRefMapping objects, which can be useful in various test scenarios.