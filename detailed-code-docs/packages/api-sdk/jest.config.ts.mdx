---
title: "jest.config.ts"
---

## High-level description
This file configures Jest for testing the api-sdk package. It sets up different configurations for regular unit tests and end-to-end (E2E) tests, specifying the test environment, file patterns, and setup files.

## Symbols

### `config`
#### Description
This constant defines the Jest configuration options for the api-sdk package. It sets up the testing environment and specifies how tests should be run and which files should be included or excluded.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| isE2E | boolean | Determines whether to run E2E tests or regular unit tests |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| config | Config.InitialOptions | Jest configuration object |

#### Internal Logic
1. Sets the preset to "ts-jest" for TypeScript support.
2. Configures the test environment as "node".
3. Enables verbose output.
4. Ignores test files in "/node_modules/" and "/dist/" directories.
5. Defines test file patterns based on whether it's an E2E test or not.
6. Specifies a setup file to run after the test environment is set up.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| @jest/types | Provides TypeScript types for Jest configuration |

### Configuration
| Option | Type | Default | Description |
|:-------|:-----|:--------|:------------|
| ENV_TYPE | string | "dev" | Sets the environment type for testing |

## Side Effects
The code sets the `ENV_TYPE` environment variable to "dev" before defining the Jest configuration.

## Notes
1. The configuration uses TypeScript for both the config file and the tests.
2. It supports two testing modes: regular unit tests and E2E tests, determined by the `E2E` environment variable.
3. The setup file `./src/__tests__/env-setup.ts` is run after the test environment is set up, which may contain additional configuration or mocks.
4. The configuration is exported as the default export, making it easy to import in other files or be picked up automatically by Jest.