---
title: "date-util.ts"
---

## High-level description
This code defines a utility function `dateIsValid` that validates whether a given string represents a valid date in the format "YYYY-MM-DD". It checks both the format and the validity of the date itself.

## Symbols

### `dateIsValid`
#### Description
This function checks if a given string represents a valid date in the format "YYYY-MM-DD". It uses a regular expression to check the format and then verifies if the date is valid by creating a Date object and comparing its ISO string representation with the input.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| dateStr | string | The date string to be validated |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| - | boolean | Returns true if the date is valid, false otherwise |

#### Internal Logic
1. Check if the input string matches the regex pattern `^\d{4}-\d{2}-\d{2}$`.
2. If the pattern doesn't match, return false.
3. Create a new Date object from the input string.
4. Get the timestamp of the created Date object.
5. Check if the timestamp is a valid number.
6. Compare the start of the Date object's ISO string representation with the input string.
7. Return true if all checks pass, false otherwise.

## References
This utility function is used in the `MetriportDevicesApi` class in the file `packages/api-sdk/src/devices/client/metriport.ts`. Specifically, it's used in the `validateAndBuildParams` method to ensure that the date parameter passed to various data retrieval methods is in the correct format.

## Performance Considerations
The function uses a regular expression and Date object creation, which are generally efficient operations. However, for extremely high-frequency calls, caching results for repeated inputs could be considered to optimize performance.