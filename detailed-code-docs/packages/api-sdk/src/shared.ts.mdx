---
title: "shared.ts"
---

## High-level description
This file contains shared constants, utility functions, and Zod schemas used across the Metriport API SDK. It defines base URLs, API headers, date formats, and various string validation and transformation functions.

## Code Structure
The code defines several constants, utility functions, and Zod schemas that are used throughout the Metriport API SDK. These elements are exported for use in other parts of the SDK.

## Symbols

### `BASE_ADDRESS`
#### Description
The base URL for the Metriport API.

### `BASE_ADDRESS_SANDBOX`
#### Description
The base URL for the Metriport API sandbox environment.

### `API_KEY_HEADER`
#### Description
The header name for the API key.

### `JWT_HEADER`
#### Description
The header name for JWT authentication.

### `DEFAULT_AXIOS_TIMEOUT_MILLIS`
#### Description
The default timeout for Axios requests in milliseconds.

### `emptyStringToUndefined`
#### Description
A utility function that converts empty strings to undefined.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| v | string \| undefined \| null | The input string |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| result | string \| undefined | The input string or undefined if empty |

### `optionalString`
#### Description
A Zod schema for optional strings that transforms empty strings to undefined.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| zodSchema | ZodString | A Zod string schema |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| schema | ZodSchema | A Zod schema for optional strings |

### `ISO_DATE`
#### Description
The format string for ISO 8601 dates.

### `defaultString`
#### Description
A Zod schema for trimmed strings.

### `defaultOptionalString`
#### Description
A Zod schema for optional trimmed strings.

### `defaultDateString`
#### Description
A Zod schema for date strings in ISO 8601 format.

### `defaultNameString`
#### Description
A Zod schema for non-empty trimmed strings.

### `optionalDateToISOString`
#### Description
Converts a date to an ISO 8601 string format.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| date | string \| Date \| undefined \| null | The input date |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| result | string \| undefined | The date in ISO 8601 format or undefined |

### `getEnvVar`
#### Description
Retrieves the value of an environment variable.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| varName | string | The name of the environment variable |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| value | string \| undefined | The value of the environment variable |

### `getEnvVarOrFail`
#### Description
Retrieves the value of an environment variable or throws an error if it's not set.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| varName | string | The name of the environment variable |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| value | string | The value of the environment variable |

#### Internal Logic
Throws an error if the environment variable is not set or is an empty string.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| dayjs | Date manipulation library |
| zod | Schema validation library |