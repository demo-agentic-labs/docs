---
title: "demographics.ts"
---

## High-level description
This code defines the structure and validation rules for patient demographics data in the Metriport Medical API. It uses Zod for schema validation and includes various fields such as personal information, identifiers, address, and contact details.

## Code Structure
The main symbol in this code is the `demographicsSchema`, which is composed of several sub-schemas for different aspects of patient demographics. These sub-schemas include `genderAtBirthSchema`, `personalIdentifierSchema`, `addressSchema`, and `contactSchema`. The `demographicsSchema` combines these sub-schemas to create a comprehensive validation schema for patient demographics.

## Symbols

### `generalPersonalIdentifiers`
#### Description
An array of strings representing general personal identifier types.

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| generalPersonalIdentifiers | readonly ["ssn"] | Array of general personal identifier types |

### `driversLicensePersonalIdentifier`
#### Description
An array of strings representing driver's license personal identifier types.

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| driversLicensePersonalIdentifier | readonly ["driversLicense"] | Array of driver's license personal identifier types |

### `basePersonalIdentifierSchema`
#### Description
A Zod schema for the base structure of a personal identifier.

#### Internal Logic
Defines a schema with `value`, `period`, and `assigner` fields.

### `driverLicenseIdentifierSchema`
#### Description
A Zod schema for driver's license identifiers.

#### Internal Logic
Defines a schema with `type` and `state` fields.

### `driverLicenseIdentifierWithBaseSchema`
#### Description
A Zod schema that combines the base personal identifier schema with the driver's license identifier schema.

### `generalTypeIdentifierSchema`
#### Description
A Zod schema for general type identifiers.

#### Internal Logic
Defines a schema with a `type` field.

### `generalTypeIdentifierWithBaseSchema`
#### Description
A Zod schema that combines the base personal identifier schema with the general type identifier schema.

### `personalIdentifierSchema`
#### Description
A Zod schema that represents either a driver's license identifier or a general type identifier.

### `genderAtBirthSchema`
#### Description
A Zod schema for gender at birth.

#### Internal Logic
Defines an enum with values "F", "M", "O", and "U".

### `emailSchema`
#### Description
A Zod schema for email validation.

### `contactSchema`
#### Description
A Zod schema for contact information.

#### Internal Logic
Defines a schema with `phone` and `email` fields, with at least one of them required.

### `demographicsSchema`
#### Description
The main Zod schema for patient demographics.

#### Internal Logic
Combines various sub-schemas to create a comprehensive validation schema for patient demographics, including personal information, identifiers, address, and contact details.

## Dependencies
- `z` from "zod": Used for schema validation
- Various utility functions and schemas from "@metriport/shared" and other local files

This code is crucial for validating and structuring patient demographic data in the Metriport Medical API, ensuring data consistency and integrity.