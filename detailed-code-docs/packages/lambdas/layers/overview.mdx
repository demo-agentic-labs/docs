---
title: "Overview"
---

## High-level description
This directory contains two main components: a Chromium layer and a Playwright layer, both designed to be used in AWS Lambda functions. These layers provide the necessary dependencies and configurations to run browser automation tasks in a serverless environment.

## What does it do?
The layers in this directory enable serverless applications to perform browser-based operations, such as web scraping, screenshot capture, PDF generation, and automated testing. Here's a breakdown of the functionality:

1. Chromium Layer:
   - Provides a set of Node.js modules optimized for running Chromium in a Lambda environment.
   - Handles low-level operations like buffer management, stream processing, and file system interactions.
   - Supports efficient data processing and system interactions required by Chromium.

2. Playwright Layer:
   - Integrates Playwright, a powerful browser automation tool, with AWS Lambda.
   - Allows for cross-browser testing and automation in a serverless context.
   - Provides a TypeScript-based development environment for creating and managing Playwright scripts.

Together, these layers enable developers to create sophisticated serverless applications that can interact with web pages, perform automated tests, and generate browser-based content without the need for a traditional server infrastructure.

## Key Files
1. Chromium Layer:
   - Contains various Node.js modules, including:
     - `@sparticuz/chromium`: Chromium optimized for serverless platforms
     - `base64-js`: Base64 encoding/decoding
     - `bl`: Buffer list management
     - `buffer`: Buffer API for browser environments
     - `tar-fs` and `tar-stream`: TAR archive handling
     - Various other utility modules for file system operations and stream handling

2. Playwright Layer:
   - `package.json`: Defines the configuration and dependencies for the Playwright layer
   - Key dependencies:
     - `playwright-aws-lambda`: Integration of Playwright with AWS Lambda
     - `playwright-core`: Core functionality of Playwright

## Dependencies
1. Chromium Layer:
   - Various low-level Node.js modules and utilities
   - Each module has its own set of dependencies, such as `once`, `inherits`, `end-of-stream`, `ieee754`, and `wrappy`

2. Playwright Layer:
   - `playwright-aws-lambda`: Version 0.10.0
   - `playwright-core`: Version 1.39.0
   - Development dependencies:
     - `@tsconfig/node18`: Version 1.0.1
     - `ts-node`: Version 10.9.1

## Configuration
1. Chromium Layer:
   - Each module typically uses its own `package.json` file for configuration
   - Some packages may use environment variables for Lambda-specific configurations

2. Playwright Layer:
   - Configured via `package.json`:
     - Name: "playwright-layer"
     - Version: 1.0.0
     - Private: true (not intended for npm publication)
     - Requires Node.js version 18 or higher
   - Scripts:
     - `preinstall`: Installs `rimraf` globally
     - `clean`: Removes `dist` directory and `node_modules` folder
     - `prep-deploy`: Executes `./scripts/prep-deploy.sh`
     - `build`: Compiles TypeScript files using `tsconfig.json`

In summary, this directory provides two essential layers for running browser automation tasks in AWS Lambda. The Chromium layer offers the necessary low-level modules and utilities, while the Playwright layer integrates the Playwright automation tool with Lambda. Together, they enable powerful serverless web interactions and testing capabilities.