---
title: "Overview"
---

## High-level description
The `mkdirp-classic` package is a mirror of the `mkdirp` package version 0.5.2, providing functionality for creating directories recursively, similar to the Unix `mkdir -p` command. It offers both asynchronous and synchronous methods for directory creation, handling various edge cases and errors.

## What does it do?
This package allows developers to create directories in a file system, including any necessary parent directories that don't already exist. It's particularly useful when you need to ensure a specific directory structure exists before performing operations like file writing or when setting up a project's folder structure.

For example, if you want to create a directory `/a/b/c`, but `/a` and `/a/b` don't exist, `mkdirp-classic` will create all the necessary parent directories in addition to the target directory.

The package provides two main functions:
1. An asynchronous function that creates directories and returns results via a callback.
2. A synchronous function that creates directories and returns the path of the created directory.

Both functions handle various error scenarios, such as attempting to create directories that already exist or dealing with permission issues.

## Key Files

### index.js
This is the main file of the package, containing the implementation of both the asynchronous and synchronous directory creation functions.

Key features:
- `mkdirP`: The main asynchronous function for creating directories recursively.
- `mkdirP.sync`: The synchronous version of the directory creation function.
- Error handling for various scenarios, including ENOENT (No such file or directory) errors.
- Recursive creation of parent directories when necessary.
- Configurable options for directory permissions and custom file system modules.

### package.json
This file defines the package metadata, including:
- Package name: `mkdirp-classic`
- Version: `0.5.3`
- Description: "Mirror of mkdirp 0.5.2"
- Main entry point: `index.js`
- Repository information
- Author: Mathias Buus (@mafintosh)
- License: MIT
- Links to the project's GitHub repository and issue tracker

## Dependencies
The package relies on Node.js built-in modules and does not have any external dependencies. It uses:
- `path`: For resolving and manipulating file paths
- `fs`: For file system operations

## Configuration
The `mkdirP` function accepts an options object with the following configurable fields:

| Option | Type | Default | Description |
|:-------|:-----|:--------|:------------|
| mode | number | 0777 & (~process.umask()) | The permission mode for created directories |
| fs | object | Node.js fs module | Custom file system module for operations |

Example usage of the asynchronous function:

```javascript
const mkdirp = require('mkdirp-classic');

mkdirp('/path/to/dir', (err) =&gt; {
  if (err) console.error(err)
  else console.log('Directory created successfully')
});
```

Example usage of the synchronous function:

```javascript
const mkdirp = require('mkdirp-classic');

try {
  const made = mkdirp.sync('/path/to/dir');
  console.log('Directory created:', made);
} catch (err) {
  console.error('Error creating directory:', err);
}
```

The package handles various error scenarios, including:
- ENOENT (No such file or directory): It recursively creates parent directories.
- Other errors: It checks if the directory already exists before propagating the error.

It's worth noting that the recursive nature of the directory creation might impact performance for deeply nested directories, and the synchronous version may block the event loop for longer operations.