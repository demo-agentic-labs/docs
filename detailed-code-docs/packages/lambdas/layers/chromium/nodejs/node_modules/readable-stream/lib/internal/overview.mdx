---
title: "Overview"
---

## High-level description
This directory contains internal implementations of various stream-related functionalities for the `readable-stream` package. It provides core stream operations, utilities, and helper functions that are essential for the proper functioning of Node.js-style streams in different environments, including browsers.

## What does it do?
This directory implements several key components of the streaming API:

1. Async iteration over readable streams
2. Buffer management for efficient data handling
3. Stream destruction and error handling
4. End-of-stream detection
5. Stream pipeline creation and management
6. State management for stream options like highWaterMark
7. Browser-compatible implementations of certain stream functionalities

These components work together to provide a robust and flexible streaming system that can handle various types of data sources and sinks, manage backpressure, and deal with errors and edge cases in streaming operations.

## Key Files

### async_iterator.js
Implements an async iterator for readable streams, allowing for asynchronous iteration over stream data using `for await...of` syntax or manual `next()` calls.

### buffer_list.js
Defines a `BufferList` class that implements a linked list data structure for managing buffers or strings, providing methods for adding, removing, and manipulating data in the list.

### destroy.js
Provides functionality for destroying and undestroying streams, as well as handling errors in streams. It's crucial for proper resource management and error handling in streaming operations.

### end-of-stream.js
Implements an "end-of-stream" (EOS) utility function that attaches listeners to various stream events to detect when a stream has ended, finished, or encountered an error.

### from.js
Defines a `from` function that creates a Readable stream from an iterable or iterator, supporting both synchronous and asynchronous iterables.

### pipeline.js
Implements a `pipeline` function for Node.js streams, allowing multiple streams to be piped together with efficient error handling and cleanup.

### state.js
Defines utility functions for handling the highWaterMark option in Node.js streams, providing mechanisms to retrieve and validate the highWaterMark value from stream options.

## Dependencies
The code in this directory primarily depends on core Node.js modules and internal utilities. Key dependencies include:

- `events`: Used for the EventEmitter class
- `buffer`: Used for Buffer operations
- `util`: Used for various utility functions
- Custom error types defined elsewhere in the package

## Configuration
The streams implemented in this directory can be configured through options passed to their constructors or factory functions. Key configurable aspects include:

- `highWaterMark`: Controls the buffer size for streams
- `objectMode`: Determines whether the stream operates on JavaScript objects or binary data
- Various flags for controlling stream behavior (e.g., `autoDestroy`, `emitClose`)

These configurations allow for fine-tuning of stream behavior to suit different use cases and performance requirements.

The code in this directory forms the backbone of the `readable-stream` package, providing essential functionality for creating, manipulating, and managing streams in Node.js-like environments, including browsers. It's designed to be efficient, flexible, and compatible with a wide range of JavaScript environments.