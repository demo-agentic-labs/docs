---
title: "from.js"
---

## High-level description
This code defines a `from` function that creates a Readable stream from an iterable or iterator. It's designed to work with both synchronous and asynchronous iterables, converting them into a stream of data that can be consumed by other parts of a Node.js application.

## Symbols

### `from(Readable, iterable, opts)`
#### Description
Creates a Readable stream from an iterable or iterator. It handles different types of iterables (async iterators, sync iterators, and regular iterables) and wraps them in a Readable stream interface.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| Readable | Class | The Readable stream class to instantiate |
| iterable | Iterable/Iterator | The source iterable or iterator to create the stream from |
| opts | Object | Optional configuration for the Readable stream |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| readable | Readable | A new Readable stream instance |

#### Internal Logic
1. Determines the type of iterable provided (async iterator, sync iterator, or iterable).
2. Creates a new Readable stream with object mode enabled and any provided options.
3. Implements a custom `_read` method for the stream that controls the flow of data.
4. Defines an asynchronous `next` function to fetch values from the iterator and push them to the stream.
5. Handles the end of the iteration and potential errors.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| '../../../errors' | Used to import the `ERR_INVALID_ARG_TYPE` error code |

## Error Handling
The function throws an `ERR_INVALID_ARG_TYPE` error if the provided `iterable` is not a valid iterable or iterator. It also handles errors that may occur during iteration by destroying the readable stream with the caught error.

## Performance Considerations
The function uses asynchronous iteration, allowing for efficient processing of both synchronous and asynchronous data sources without blocking the event loop.

## Helper Functions
The code includes several helper functions at the beginning, which are likely transpiled from more modern JavaScript syntax:

1. `asyncGeneratorStep` and `_asyncToGenerator`: Handle asynchronous generator functions.
2. `ownKeys` and `_objectSpread`: Implement object spread functionality.
3. `_defineProperty`, `_toPropertyKey`, and `_toPrimitive`: Assist in defining and manipulating object properties.

These helper functions are not directly part of the `from` function's logic but support its implementation, particularly for compatibility with older JavaScript environments.