---
title: "Overview"
---

## High-level description
This directory contains the source code for the `tar-stream` package, which is a Node.js module that provides functionality for creating and extracting TAR archives using streams. The package offers a low-level, streaming interface for working with TAR files without requiring file system operations.

## What does it do?
The `tar-stream` package allows developers to:

1. Extract files from TAR archives: It can read TAR files as streams and emit events for each file or directory entry found in the archive. This allows for processing large TAR files without loading the entire archive into memory.

2. Create TAR archives: It provides a streaming interface to add files, directories, and symlinks to a TAR archive. This is useful for creating backups or packaging applications.

3. Handle various TAR formats: The package supports standard TAR headers as well as extended headers (PAX) for handling file names or sizes that exceed the limits of the standard format.

4. Work with TAR headers: It includes utilities for encoding and decoding TAR headers, which contain metadata about the files in the archive.

The package is designed to be efficient and work well with large files or in memory-constrained environments, as it processes data in chunks rather than loading entire files into memory.

## Key Files

1. `extract.js`: Defines the `Extract` class, which is responsible for parsing TAR archives and emitting events for each entry found. It handles the complexities of reading TAR headers and file contents from a stream.

2. `pack.js`: Implements the `Pack` class, which allows for creating TAR archives. It provides methods to add entries (files, directories, symlinks) to the archive and handles the encoding of headers and file contents.

3. `headers.js`: Contains utility functions for encoding and decoding TAR headers. This includes handling different types of headers (standard, PAX extended) and converting between various formats used in TAR files.

4. `index.js`: Serves as the main entry point for the package, exporting the `extract` and `pack` modules for easy access by users of the library.

## Dependencies
The package relies on several external libraries:

1. `bl` (Buffer List): Used for efficient handling of data streams.
2. `end-of-stream`: Handles stream completion events.
3. `fs-constants`: Provides file system constants.
4. `inherits`: Implements inheritance in JavaScript.
5. `readable-stream`: Provides a consistent streams implementation across different Node.js versions.

These dependencies are chosen to ensure efficient stream handling, cross-version compatibility, and proper resource management.

## Configuration
The package uses a `package.json` file for configuration, which includes:

- Minimum Node.js version requirement: 6.0.0
- Test scripts: Uses `standard` for linting and `tape` for running tests
- Main entry point: `index.js`
- Files to be included in the published package

No additional configuration files or environment variables are required for basic usage of the package.

The `tar-stream` package provides a flexible and efficient solution for working with TAR archives in Node.js applications, particularly useful in scenarios where streaming processing of large archives is necessary or when creating archives dynamically without intermediate file storage.