---
title: "Overview"
---

## High-level description
This directory contains the "once" npm package, which provides functionality to ensure a function is called only once. The package consists of two main components: the implementation file `once.js` and the package configuration file `package.json`.

## What does it do?
The "once" package offers a way to wrap functions so that they are guaranteed to be executed only one time, regardless of how many times they are called. This is particularly useful in scenarios where you want to ensure that certain operations, such as initialization routines or resource allocation, happen exactly once during the lifetime of an application.

The package provides two main functions:
1. `once`: Wraps a function so that it's called only once. Subsequent calls return the result of the first call.
2. `onceStrict`: Similar to `once`, but throws an error if the wrapped function is called more than once.

Additionally, the package extends the `Function.prototype` to allow these methods to be called directly on function objects.

## Key Files

### once.js
This is the core implementation file of the package. It defines the `once` and `onceStrict` functions, as well as the `proto` function that extends `Function.prototype`. The file uses the `wrappy` module to wrap these functions, likely for additional functionality or error handling.

Key features of `once.js`:
- `once(fn)`: Creates a wrapper function that ensures the given function `fn` is called only once. Subsequent calls return the value from the first call.
- `onceStrict(fn)`: Similar to `once`, but throws an error if the wrapped function is called more than once.
- `once.proto`: Adds `once` and `onceStrict` methods to the `Function.prototype`, allowing these methods to be called directly on function objects.

Example usage:
```javascript
const once = require('once');

const initializeApp = once(() =&gt; {
  console.log('App initialized');
});

initializeApp(); // Outputs: App initialized
initializeApp(); // Does nothing, returns the result of the first call
```

### package.json
This file contains the metadata and configuration for the "once" npm package. It includes information about the package version, dependencies, scripts, and distribution details.

Key information from `package.json`:
- Package name: "once"
- Version: "1.4.0"
- Description: "Run a function exactly one time"
- Main entry point: "once.js"
- Author: "Isaac Z. Schlueter &lt;i@izs.me&gt; (http://blog.izs.me/)"
- License: ISC

## Dependencies
The package has two dependencies:

1. Runtime dependency:
   - `wrappy` (version "1"): Used to wrap the `once` and `onceStrict` functions, likely for additional functionality or error handling.

2. Development dependency:
   - `tap` (version "^7.0.1"): Used for running the test suite.

## Configuration
The `package.json` file specifies the following configuration:

- Test script: `"tap test/*.js"` (uses the `tap` testing framework)
- Repository: Git repository at "git://github.com/isaacs/once"
- Files to be included in the package: "once.js"
- Keywords: "once", "function", "one", "single"

This configuration ensures that the package can be properly installed, tested, and distributed through the npm ecosystem.

In summary, the "once" package provides a simple yet powerful utility for ensuring functions are called only once, which can be crucial for managing side effects and maintaining consistent application state in various JavaScript environments.