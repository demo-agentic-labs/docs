---
title: "package.json"
---

## High-level description
This package, `@metriport/commonwell-cert-runner`, is a tool designed to run through Edge System CommonWell certification test cases. It provides a command-line interface to execute various test scenarios for CommonWell API integration, including organization management, person management, patient management, link management, and document handling.

## Code Structure
The main entry point is `src/index.ts`, which sets up the command-line interface and orchestrates the execution of different test scenarios. It uses the `@metriport/commonwell-sdk` to interact with the CommonWell API and runs through various certification test cases defined in separate modules.

## Symbols

### `program`
#### Description
This is the main Command object from the Commander.js library, used to set up the command-line interface for the tool.

#### Internal Logic
- Sets up the command name, description, and options
- Configures help text and version information
- Requires an environment file path as an option

### `main()`
#### Description
The main function that orchestrates the execution of the certification test cases.

#### Internal Logic
1. Parses command-line arguments
2. Loads environment variables from the specified file
3. Initializes CommonWell API clients for different organizations
4. Executes various test scenarios:
   - Organization management
   - Person management
   - Patient management
   - Link management
   - Document consumption
   - Document contribution

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| @metriport/commonwell-sdk | SDK for interacting with CommonWell API |
| @metriport/shared | Shared utilities and types |
| commander | Command-line interface creation |
| dotenv | Loading environment variables |

## Configuration
The tool requires a `.env` file with the following configuration options:
| Option | Type | Description |
|:-------|:-----|:------------|
| COMMONWELL_ORG_NAME | string | Organization name |
| COMMONWELL_OID | string | Organization OID |
| COMMONWELL_SANDBOX_ORG_NAME | string | Sandbox organization name |
| COMMONWELL_SANDBOX_OID | string | Sandbox organization OID |
| COMMONWELL_ORG_PRIVATE_KEY | string | Organization's private key |
| COMMONWELL_ORG_CERTIFICATE | string | Organization's certificate |
| COMMONWELL_MEMBER_OID | string | Member organization OID |
| COMMONWELL_MEMBER_PRIVATE_KEY | string | Member organization's private key |
| COMMONWELL_MEMBER_CERTIFICATE | string | Member organization's certificate |

## API/Interface Reference
The tool is executed via command line with the following usage:
```
cw-cert-runner --env-file &lt;file-path&gt;
```
Where `&lt;file-path&gt;` is the absolute path to the `.env` file containing the required configuration.

## TODOs
There is a commented-out TODO for issue #425Ã˜ regarding patient links with strong IDs.