---
title: "Overview"
---

## High-level description

This directory, `packages/react-native-sdk/src`, contains the source code for a React Native SDK that integrates Metriport's functionality into React Native applications. The SDK provides a `MetriportWidget` component that renders either a native iOS widget or a WebView for Android, allowing developers to embed Metriport's services into their apps.

## What does it do?

The React Native SDK enables developers to integrate Metriport's services into their React Native applications. It provides a cross-platform solution with the following key features:

1. A `MetriportWidget` component that adapts to the platform:
   - On iOS, it uses a native widget for optimal performance and integration.
   - On Android, it uses a WebView to load and display the widget.

2. Customization options for the widget, including:
   - Client API key and token for authentication
   - Sandbox mode for testing
   - Color mode and custom color options
   - Ability to specify providers
   - Custom URLs for the widget and API

3. Platform-specific optimizations to ensure the best performance and user experience on both iOS and Android.

4. Error handling for cases where the native module is not properly linked on iOS.

## Entry points

The main entry point for the SDK is the `index.tsx` file, which exports the `MetriportWidget` component. This component serves as the primary interface for developers integrating Metriport's functionality into their React Native applications.

The code is organized conceptually as follows:

1. Definition of props and interfaces (`MetriportWidgetProps`)
2. Platform-specific implementations:
   - Native widget for iOS
   - WebView-based solution for Android
3. Main `MetriportWidget` component that chooses the appropriate implementation based on the platform

Data flow:
1. Developers provide configuration and customization through props to the `MetriportWidget` component.
2. The component determines the platform and renders the appropriate implementation.
3. For iOS, data is passed directly to the native widget.
4. For Android, data is encoded into a URL and passed to the WebView.

## Dependencies

The SDK relies on the following external libraries:

1. react-native (core dependency)
   - Purpose: Provides the fundamental React Native components and APIs.
   - Version: Not specified in the provided code.

2. react-native-webview
   - Purpose: Provides the WebView component used for the Android implementation.
   - Version: Not specified in the provided code.

These dependencies were chosen to ensure cross-platform compatibility and to leverage native capabilities where possible (iOS) while providing a fallback solution using WebView (Android).

## Configuration

The SDK uses the following configuration options, passed as props to the `MetriportWidget` component:

1. `clientApiKey` (string): API key for client authentication
2. `token` (string): Authentication token
3. `sandbox` (boolean): Flag to indicate sandbox mode
4. `colorMode` (string, optional): Color mode for the widget
5. `customColor` (string, optional): Custom color for the widget
6. `providers` (array of strings, optional): Array of provider strings
7. `url` (string, optional): Custom URL for the widget
8. `apiUrl` (string, optional): Custom API URL
9. `style` (ViewStyle): Style object for the widget

These configuration options allow developers to customize the behavior and appearance of the Metriport widget within their React Native applications.

## TODOs

The `__tests__` directory contains placeholder test files, indicating that comprehensive unit tests need to be implemented for the SDK. Future development should focus on creating a robust test suite covering:

1. SDK initialization
2. API calls and responses
3. Event handling
4. Error scenarios
5. Integration with React Native components
6. Platform-specific behavior (iOS native widget vs. Android WebView)

Implementing these tests will ensure the reliability and correctness of the React Native SDK across various use cases and edge scenarios.