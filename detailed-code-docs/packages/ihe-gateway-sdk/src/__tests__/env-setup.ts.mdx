---
title: "env-setup.ts"
---

## High-level description
This code sets up the environment for testing by loading environment variables from a `.env.test` file. It uses the `dotenv` library to configure the environment and ensures that the correct file path is used, regardless of the current working directory.

## Symbols

### `dotenv.config()`
#### Description
This function call configures the environment variables by loading them from a specified `.env.test` file.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| options | object | An object with a `path` property specifying the location of the `.env.test` file |

#### Internal Logic
1. Determines the current working directory using `process.cwd()`.
2. Constructs the file path for the `.env.test` file based on the current working directory.
3. If the current working directory includes "packages", it uses the current path; otherwise, it appends "packages" and "ihe-gateway-sdk" to the path.
4. Resolves the final path using `path.resolve()`.
5. Calls `dotenv.config()` with the constructed file path to load the environment variables.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| dotenv | Used to load environment variables from a `.env.test` file |
| path | Used for resolving and manipulating file paths |

## Notes
- The comment "Keep dotenv import and config before everything else" suggests that this file should be imported or executed before any other code that relies on environment variables.
- The code is designed to work correctly whether it's run from the root of the project or from within the `packages/ihe-gateway-sdk` directory.