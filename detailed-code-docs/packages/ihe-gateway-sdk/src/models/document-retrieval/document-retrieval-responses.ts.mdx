---
title: "document-retrieval-responses.ts"
---

## High-level description
This code defines schemas and types for document retrieval responses in an IHE (Integrating the Healthcare Enterprise) Gateway SDK. It includes both inbound and outbound document retrieval response structures, along with utility functions for type checking.

## Code Structure
The code defines several interconnected schemas and types using Zod for validation. The main structures are:
1. Inbound document retrieval responses (successful and fault)
2. Outbound document retrieval responses (successful and fault)
3. Utility functions for type checking

## Symbols

### `inboundDocumentRetrievalRespSuccessfulSchema`
#### Description
Defines the schema for a successful inbound document retrieval response.

#### Internal Logic
Extends the `baseResponseSchema` and adds an array of `documentReferenceSchema`.

### `InboundDocumentRetrievalRespSuccessful`
#### Description
Type definition for a successful inbound document retrieval response.

### `inboundDocumentRetrievalRespFaultSchema`
#### Description
Defines the schema for a fault inbound document retrieval response.

#### Internal Logic
Extends the `baseErrorResponseSchema` and ensures the `documentReference` is either undefined or never present.

### `InboundDocumentRetrievalRespFault`
#### Description
Type definition for a fault inbound document retrieval response.

### `inboundDocumentRetrievalRespSchema`
#### Description
Defines the schema for an inbound document retrieval response, which can be either successful or a fault.

#### Internal Logic
Uses Zod's `union` to combine `inboundDocumentRetrievalRespSuccessfulSchema` and `inboundDocumentRetrievalRespFaultSchema`.

### `InboundDocumentRetrievalResp`
#### Description
Type definition for an inbound document retrieval response.

### `outboundDocumentRetrievalRespSuccessfulSchema`
#### Description
Defines the schema for a successful outbound document retrieval response.

#### Internal Logic
Extends the `baseResponseSchema` and adds `gateway` and `documentReference` fields.

### `outboundDocumentRetrievalRespFaultSchema`
#### Description
Defines the schema for a fault outbound document retrieval response.

#### Internal Logic
Extends the `baseErrorResponseSchema` and adds `gateway` field, ensuring `documentReference` is either undefined or never present.

### `outboundDocumentRetrievalRespSchema`
#### Description
Defines the schema for an outbound document retrieval response, which can be either successful or a fault.

#### Internal Logic
Uses Zod's `union` to combine `outboundDocumentRetrievalRespSuccessfulSchema` and `outboundDocumentRetrievalRespFaultSchema`.

### `OutboundDocumentRetrievalResp`
#### Description
Type definition for an outbound document retrieval response.

### `isSuccessfulOutboundDocRetrievalResponse`
#### Description
A type guard function to check if an outbound document retrieval response is successful.

#### Inputs
| Name | Type | Description |
|:-----|:-----|:------------|
| obj | BaseResponse | The response object to check |

#### Outputs
| Name | Type | Description |
|:-----|:-----|:------------|
| boolean | boolean | True if the response is successful, false otherwise |

#### Internal Logic
Checks if the `documentReference` property exists in the object.

## Dependencies
| Dependency | Purpose |
|:-----------|:--------|
| zod | Used for schema definition and validation |
| @metriport/ihe-gateway-sdk | Imports shared types and schemas |

This code is part of a larger IHE Gateway SDK, focusing on document retrieval responses. It provides structured schemas and types for both inbound and outbound responses, ensuring type safety and validation for document retrieval operations in healthcare interoperability scenarios.