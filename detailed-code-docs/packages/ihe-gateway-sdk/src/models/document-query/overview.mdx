---
title: "Overview"
---

## High-level description
This directory contains models for document query requests and responses in an IHE (Integrating the Healthcare Enterprise) Gateway SDK. It defines schemas and types for both inbound and outbound document queries, using Zod for schema validation and type inference. The models cover various aspects of document queries, including patient information, document metadata, and response structures for successful and fault scenarios.

## What does it do?
The code in this directory provides a structured way to handle document queries in healthcare systems:

1. It defines the structure for document query requests, allowing developers to specify search criteria such as patient information, document creation dates, and various classification codes.

2. It outlines the expected format of responses to these queries, both for successful retrievals and error cases.

3. It differentiates between inbound queries (coming into the system) and outbound queries (going to external systems), providing appropriate structures for each.

4. It includes utility functions and type guards to help developers work with these structures, ensuring type safety and consistency in the application.

In a real-world scenario, this code would be used to facilitate the exchange of medical document information between different healthcare providers or systems. For example, a doctor's office might use this SDK to query a hospital's records for a patient's previous test results, ensuring that the request is properly formatted and that the response can be correctly interpreted.

## Key Files

1. `document-query-requests.ts`:
   This file defines the schemas and types for document query requests. It includes:
   - `dateRangeSchema`: A schema for specifying date ranges.
   - `documentQueryDefaultReqSchema`: A base schema for document queries, including patient information and various optional classification codes.
   - `outboundDocumentQueryReqSchema`: An extended schema for outbound requests, including gateway information.
   - `inboundDocumentQueryReqSchema`: A schema for inbound requests.

   These schemas allow developers to create strongly-typed request objects, ensuring that all necessary information is included when making a document query.

2. `document-query-responses.ts`:
   This file defines the schemas and types for document query responses. It includes:
   - Schemas for both successful and fault responses for inbound and outbound queries.
   - Union types that combine successful and fault response types.
   - A utility function `isSuccessfulOutboundDocQueryResponse` to check if an outbound response is successful.

   These structures allow the SDK to handle various response scenarios, providing clear distinctions between successful document retrievals and error cases.

## Dependencies
The main external dependency for this directory is the Zod library, which is used for schema definition and validation. Zod provides runtime type checking and static type inference, which enhances the reliability and maintainability of the code.

The code also relies on shared schemas and types from the `@metriport/ihe-gateway-sdk` package, indicating that it's part of a larger SDK ecosystem for IHE gateways.

## Configuration
While there are no explicit configuration files in this directory, the schemas themselves serve as a form of configuration. They define the expected structure of requests and responses, which effectively configures how the SDK interacts with document query systems.

Key configurable fields include:
- Patient information (`externalGatewayPatient`)
- Document classification codes (`classCode`, `practiceSettingCode`, `facilityTypeCode`)
- Date ranges for document creation and service dates
- Gateway information for outbound requests

Developers using this SDK would need to ensure that they provide the correct information in these fields when making document queries.

In conclusion, this directory provides a robust and type-safe foundation for handling document queries in healthcare systems, ensuring that data exchange follows the IHE standards and can be reliably processed by both the SDK and the systems it interacts with.